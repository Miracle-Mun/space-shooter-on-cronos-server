(this["webpackJsonpcrosmo-crafts"]=this["webpackJsonpcrosmo-crafts"]||[]).push([[0],{424:function(e,t){},425:function(e,t){},532:function(e,t){},540:function(e,t){},542:function(e,t){},581:function(e,t){},583:function(e,t){},600:function(e,t){},616:function(e,t){},618:function(e,t){},631:function(e,t){},632:function(e,t){},648:function(e,t){},650:function(e,t){},652:function(e,t){},787:function(e,t){},789:function(e,t){},796:function(e,t){},797:function(e,t){},821:function(e,t){},824:function(e,t){},998:function(e,t,n){"use strict";n.r(t);n(524);var i=n(0),s=n.n(i),a=n(90),o=n.n(a),r=n(170),d=n(11),l=n(13),c=n(138),p=n(23),h=n(14),u=n(1079),m=r.c,y=n(1),g=n(8),_=n(58),x=n(95),b=n(75),v={TEST_WALLET:"0xc38f09B83EE3ae6e2BAC8EA0aBf228E770e7F220",USE_WALLET:!0,IMAGES_ON_LEADER:["assets/images/lead_leagues.png?v=1","assets/images/lead_default_active.png?v=1","assets/images/lead_bronze_active.png?v=1","assets/images/lead_gold_active.png?v=1","assets/images/lead_diamond_active.png?v=1","assets/images/lead_platinum_active.png?v=1","assets/images/btn_close.png?v=1","assets/images/lead_weekly_active.png?v=1","assets/images/lead_monthly_active.png?v=1","assets/images/lead_all_active.png?v=1","assets/images/lead_rank.png?v=1","assets/images/lead_name.png?v=1","assets/images/lead_score.png?v=1","bg_leaderboard_mobile.png?v=1","bg_leaderboard.png?v=1","lead_thead.png?v=1"],IMAGES_ON_DIFFICULTY:["assets/images/difficulty_easy_active.png?v=1","assets/images/difficulty_medium_active.png?v=1","assets/images/difficulty_hard_active.png?v=1","assets/images/difficulty_extreme_active.png?v=1","assets/images/bg_difficulty.png?v=1"],IMAGES_ON_SETTING:["assets/images/bg_setting_mobile.png?v=1","assets/images/bg_setting.png?v=1"]},f={SYNC_INTERVAL:50,gamePros:{screenWidth:1920,screenHeight:1080,padding:30,introNewEnemyDelay:2e3,endLevelDelay:1500},multiPlayerPros:{screenWidth:1920,screenHeight:1080},graphicAssets:{background:[{URL:"assets/images/backgrounds/0.png",name:"0"},{URL:"assets/images/backgrounds/1.png",name:"1"},{URL:"assets/images/backgrounds/2.png",name:"2"},{URL:"assets/images/backgrounds/3.png",name:"3"},{URL:"assets/images/backgrounds/4.png",name:"4"},{URL:"assets/images/backgrounds/5.png",name:"5"},{URL:"assets/images/backgrounds/6.png",name:"6"},{URL:"assets/images/backgrounds/7.png",name:"7"},{URL:"assets/images/backgrounds/8.png",name:"8"},{URL:"assets/images/backgrounds/9.png",name:"9"},{URL:"assets/images/backgrounds/10.png",name:"10"}],particles:{URL:"assets/images/particles.png",data:"assets/images/particle_orbs.json",name:"particles"},shipUrl:"assets/images/ships/",shipsTypes:["Black Spaceship type 1","Black Spaceship type 1","Black Spaceship type 2","Black Spaceship type 3","Blue Spaceship type 1","Blue Spaceship type 2","Blue Spaceship type 3","Gold Spaceship type 1","Gold Spaceship type 2","Gold Spaceship type 3","Green Spaceship type 1","Green Spaceship type 2","Green Spaceship type 3","Grey Spaceship type 1","Grey Spaceship type 2","Grey Spaceship type 3","Pink Spaceship type 1","Pink Spaceship type 2","Pink Spaceship type 3","Red Spaceship type 1","Red Spaceship type 2","Red Spaceship type 3","White Spaceship type 1","White Spaceship type 2","White Spaceship type 3","Holographic Spaceship"],bulletNormal:{URL:"assets/images/bullet_normal.png",name:"bulletNormal"},bulletAtomic:{URL:"assets/images/bullet_atomic.png",name:"bulletAtomic"},bulletUnlimited:{URL:"assets/images/bullet_unlimited.png",name:"bulletUnlimited"},bulletDouble:{URL:"assets/images/bullet_normal.png",name:"bulletDouble"},bulletTriple:{URL:"assets/images/bullet_normal.png",name:"bulletTriple"},bulletVolley:{URL:"assets/images/bullet_normal.png",name:"bulletVolley"},bulletLazer:{URL:"assets/images/bullet_lazer.png",name:"bulletLazer"},bulletExplose:{URL:"assets/images/bullet_explosive.png",name:"bulletExplose"},bulletRegion:{URL:"assets/images/bullet_region.png",name:"bulletRegion"},asteroidFirstL:{URL:"assets/images/asteroid_first_large.png",name:"asteroidFirstL"},asteroidFirstS:{URL:"assets/images/asteroid_first_small.png",name:"asteroidFirstS"},asteroidSecondL:{URL:"assets/images/asteroid_second_large.png",name:"asteroidSecondL"},asteroidSecondS:{URL:"assets/images/asteroid_second_small.png",name:"asteroidSecondS"},airdropRapid:{URL:"assets/images/airdrop_rapid.png",name:"airdropRapid"},airdropDouble:{URL:"assets/images/airdrop_double.png",name:"airdropDouble"},airdropTriple:{URL:"assets/images/airdrop_triple.png",name:"airdropTriple"},airdropBurst:{URL:"assets/images/airdrop_burst.png",name:"airdropBurst"},airdropExplosive:{URL:"assets/images/airdrop_explosive.png",name:"airdropExplosive"},airdropLazer:{URL:"assets/images/airdrop_lazer.png",name:"airdropLazer"},airdropRocket:{URL:"assets/images/airdrop_rocket.png",name:"airdropRocket"},airdropLife:{URL:"assets/images/airdrop_life.png",name:"airdropLife"},airdropShield:{URL:"assets/images/airdrop_shield.png",name:"airdropShield"},shield:{URL:"assets/images/shield.png",name:"shield"},enemyFirst:{URL:"assets/images/enemy_1.png",name:"enemyFirst"},enemySecond:{URL:"assets/images/enemy_2.png",name:"enemySecond"},enemyBullet:{URL:"assets/images/bullet_enemy.png",name:"enemyBullet"},rocketFirst:{URL:"assets/images/rocket_1.png",name:"rocketFirst"},rocketSecond:{URL:"assets/images/rocket_2.png",name:"rocketSecond"},rocketThird:{URL:"assets/images/rocket_3.png",name:"rocketThird"},rocketFourth:{URL:"assets/images/rocket_4.png",name:"rocketFourth"},rocketBullet:{URL:"assets/images/bullet_boss.png",name:"rocketBullet"},lifeEmpty:{URL:"assets/images/life_empty.png",name:"lifeEmpty"},lifeFull:{URL:"assets/images/life_full.png",name:"lifeFull"},lazerEffectParticle:{URL:"assets/images/lazer_effect.png",data:"assets/images/particle_lazer.json",name:"lazerEffectParticle"}},soundAssets:{bg:[{URL:"assets/sounds/bg/0.mp3",name:"0"},{URL:"assets/sounds/bg/1.mp3",name:"1"},{URL:"assets/sounds/bg/2.mp3",name:"2"},{URL:"assets/sounds/bg/3.mp3",name:"3"},{URL:"assets/sounds/bg/4.mp3",name:"4"},{URL:"assets/sounds/bg/5.mp3",name:"5"},{URL:"assets/sounds/bg/6.mp3",name:"6"}],fire:{URL:["assets/sounds/fire.m4a","assets/sounds/fire.ogg"],name:"fire"},destroyed:{URL:["assets/sounds/destroyed.m4a","assets/sounds/destroyed.ogg"],name:"destroyed"},engine:{URL:"assets/sounds/engine.mp3",name:"engine"},shipExplose:{URL:"assets/sounds/ship_explode.wav",name:"shipExplose"}},shipPros:{acceleration:200,drag:100,maxVelocity:300,angularVelocity:180,startingLives:5,blinkDelay:.2},bulletPros:{NORMAL_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},UNLIMITED_BULLET:{maxBullets:99,fireCooldown:.4,passiveRegenCooldown:.1,speed:300,lifespan:2e3},DOUBLE_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},TRIPLE_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},VOLLEY_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3},LAZER_BULLET:{maxBullets:10,fireCooldown:.5,passiveRegenCooldown:1,speed:450,lifespan:2e3},EXPLOSIVE_BULLET:{maxBullets:5,fireCooldown:.8,passiveRegenCooldown:1,speed:250,lifespan:2e3},ATOMIC_BULLET:{maxBullets:5,fireCooldown:.4,passiveRegenCooldown:1,speed:300,lifespan:2e3}},asteroidPros:{startingAsteroids:1,maxAsteroids:10,incrementAsteroids:1,minSpeed:60,maxSpeed:60},enemyPros:{minSpeed:60,maxSpeed:80,startingEnemies:0,incrementEnemies:1,startingBoss:0,incrementBoss:1,bossLives:10,angVelRange:40},enemyBulletPros:{maxBullets:999,fireCooldown:3,passiveRegenCooldown:0,normalSpeed:120,velocity:{x:180,y:180},lives:2,bossSpeed:180,bossFireCooldown:.8},airdropPros:{percentAsteroid:5,percentEnemy:70,percentBoss:100,duration:15,lifetime:10,alertTime:7},fontAssets:{endLevel:{fontFamily:"Fast Hand",fontSize:"30px",color:"#ffffff"},waitingFontStyle:{fontFamily:"Fast Hand",fontSize:"45px",color:"#ff601a",align:"center"},scoreLabel:{fontFamily:"Fast Hand",fontSize:"30px",color:"#24c2bc"},scoreText:{fontFamily:"Fast Hand",fontSize:"30px",color:"#ffffff"},levelLabel:{fontFamily:"Fast Hand",fontSize:"20px",color:"#ff601a"},levelText:{fontFamily:"Fast Hand",fontSize:"20px",color:"#ffffff"},gameoverFontStyle:{fontFamily:"Fast Hand",fill:"#ff601a",fontSize:"50px",align:"center"}}},w=Object(b.a)(Object(b.a)({},v),f);function O(e,t){return e+Math.random()*(t-e)}function E(e){var t=e;return t.length>9&&t.endsWith("-ss")&&(t=t.substring(0,t.length-3)),t.replace(/[^0-9a-z]/gi,"G")}var S=Math.PI/4,j={FIRST:{LARGE:w.graphicAssets.asteroidFirstL.name,SMALL:w.graphicAssets.asteroidFirstS.name},SECOND:{LARGE:w.graphicAssets.asteroidSecondL.name,SMALL:w.graphicAssets.asteroidSecondS.name}},k="FIRST",A="SECOND",T="LARGE",L="SMALL",R="NORMAL_BULLET",P="UNLIMITED_BULLET",M="DOUBLE_BULLET",I="TRIPLE_BULLET",B="VOLLEY_BULLET",C="LAZER_BULLET",D="EXPLOSIVE_BULLET",N="ATOMIC_BULLET",U={NORMAL_BULLET:w.graphicAssets.bulletNormal.name,UNLIMITED_BULLET:w.graphicAssets.bulletUnlimited.name,DOUBLE_BULLET:w.graphicAssets.bulletDouble.name,TRIPLE_BULLET:w.graphicAssets.bulletTriple.name,VOLLEY_BULLET:w.graphicAssets.bulletVolley.name,LAZER_BULLET:w.graphicAssets.bulletLazer.name,EXPLOSIVE_BULLET:w.graphicAssets.bulletExplose.name,REGION_BULLET:w.graphicAssets.bulletRegion.name,ATOMIC_BULLET:w.graphicAssets.bulletAtomic.name},F={UNLIMITED_BULLET:w.graphicAssets.airdropRapid.name,DOUBLE_BULLET:w.graphicAssets.airdropDouble.name,TRIPLE_BULLET:w.graphicAssets.airdropTriple.name,VOLLEY_BULLET:w.graphicAssets.airdropBurst.name,LAZER_BULLET:w.graphicAssets.airdropLazer.name,EXPLOSIVE_BULLET:w.graphicAssets.airdropExplosive.name,ATOMIC_BULLET:w.graphicAssets.airdropRocket.name,LIFE:w.graphicAssets.airdropLife.name,SHIELD:w.graphicAssets.airdropShield.name},z="UNLIMITED_BULLET",V="DOUBLE_BULLET",G="TRIPLE_BULLET",Y="VOLLEY_BULLET",H="LAZER_BULLET",W="EXPLOSIVE_BULLET",K="ATOMIC_BULLET",X="LIFE",J="SHIELD",q={NORMAL_FIRST:w.graphicAssets.enemyFirst.name,NORMAL_SECOND:w.graphicAssets.enemySecond.name,BOSS_FIRST:w.graphicAssets.rocketFirst.name,BOSS_SECOND:w.graphicAssets.rocketSecond.name,BOSS_THIRD:w.graphicAssets.rocketThird.name,BOSS_FOURTH:w.graphicAssets.rocketFourth.name},Z="NORMAL_FIRST",Q="NORMAL_SECOND",$="NORMAL_BOTH",ee="BOSS_FIRST",te="BOSS_SECOND",ne="BOSS_THIRD",ie="BOSS_FOURTH",se={0:"ZERO",1:"BRONZE",2:"SILVER",3:"GOLD",4:"DIAMOND",5:"PLATINUM"},ae={0:0,1:1e3,2:4e3,3:1e4,4:24e3,5:44e3},oe={0:0,1:1,2:2,3:2,4:2,5:3},re={0:1,1:.95,2:.9,3:.85,4:.8,5:.75},de={0:0,1:0,2:0,3:1,4:1,5:2},le={0:1,1:1,2:1,3:1,4:1.25,5:1.5},ce={easy:{STARTING_ASTEROIDS:0,INCREASE_ASTEROIDS:0,MAX_ASTEROIDS:0,MIN_ASTEROID_SPEED:1,MAX_ASTEROID_SPEED:1,STARTING_ENEMIES:0,INCREASE_ENEMIES:0,MIN_ENEMY_SPEED:1,MAX_ENEMY_SPEED:1},medium:{STARTING_ASTEROIDS:1,INCREASE_ASTEROIDS:0,MAX_ASTEROIDS:3,MIN_ASTEROID_SPEED:1,MAX_ASTEROID_SPEED:1,STARTING_ENEMIES:1,INCREASE_ENEMIES:0,MIN_ENEMY_SPEED:1,MAX_ENEMY_SPEED:1},hard:{STARTING_ASTEROIDS:1,INCREASE_ASTEROIDS:1,MAX_ASTEROIDS:5,MIN_ASTEROID_SPEED:1,MAX_ASTEROID_SPEED:1,STARTING_ENEMIES:1,INCREASE_ENEMIES:1,MIN_ENEMY_SPEED:1.1,MAX_ENEMY_SPEED:1.1},extreme:{STARTING_ASTEROIDS:2,INCREASE_ASTEROIDS:1,MAX_ASTEROIDS:8,MIN_ASTEROID_SPEED:1,MAX_ASTEROID_SPEED:1,STARTING_ENEMIES:2,INCREASE_ENEMIES:1,MIN_ENEMY_SPEED:1.2,MAX_ENEMY_SPEED:1.2}},pe=Object(x.b)({name:"user",initialState:{sessionId:"",videoConnected:!1,loggedIn:!1,gameOver:!1,canPlayAgain:!1,joinLobbyRoom:!1,tokenId:-1,shipName:"",tier:0,paid:!1,team:0,spaceship:"Black Spaceship type 3",wasted:0,hits:0,playerNameMap:new Map,showJoystick:!0,isGameOverScene:!1},reducers:{setSessionId:function(e,t){e.sessionId=t.payload},setVideoConnected:function(e,t){e.videoConnected=t.payload},setLoggedIn:function(e,t){e.loggedIn=t.payload},setGameOver:function(e,t){e.gameOver=t.payload},setCanPlayAgain:function(e,t){e.canPlayAgain=t.payload},setJoinLobbyRoom:function(e,t){e.joinLobbyRoom=t.payload},setTokenId:function(e,t){e.tokenId=t.payload},setShipName:function(e,t){e.shipName=t.payload},setTier:function(e,t){e.tier=t.payload},setPaid:function(e,t){e.paid=t.payload},setTeam:function(e,t){e.team=t.payload},setSpaceShip:function(e,t){e.spaceship=t.payload},setWasted:function(e,t){e.wasted=t.payload},setHits:function(e,t){e.hits=t.payload},setPlayerNameMap:function(e,t){e.playerNameMap.set(E(t.payload.id),t.payload.name)},removePlayerNameMap:function(e,t){e.playerNameMap.delete(E(t.payload))},setShowJoystick:function(e,t){e.showJoystick=t.payload},setIsGameOVerScene:function(e,t){e.isGameOverScene=t.payload}}}),he=pe.actions,ue=he.setSessionId,me=(he.setVideoConnected,he.setLoggedIn,he.setGameOver),ye=he.setCanPlayAgain,ge=he.setJoinLobbyRoom,_e=he.setTokenId,xe=he.setShipName,be=he.setPaid,ve=he.setTeam,fe=(he.setWasted,he.setHits,he.setTier),we=he.setPlayerNameMap,Oe=he.removePlayerNameMap,Ee=(he.setShowJoystick,he.setSpaceShip),Se=he.setIsGameOVerScene,je=pe.reducer,ke=Object(x.b)({name:"wallet",initialState:{account:"",craftInstance:null,shooterInstance:null,tokenInstance:null,pilotInstance:null,walletConnecting:!1},reducers:{setAccount:function(e,t){e.account=t.payload},setCraftInstance:function(e,t){e.craftInstance=t.payload},setShooterInstance:function(e,t){e.shooterInstance=t.payload},setTokenInstance:function(e,t){e.tokenInstance=t.payload},setPilotInstance:function(e,t){e.pilotInstance=t.payload},setWalletConnecting:function(e,t){e.walletConnecting=t.payload}}}),Ae=ke.actions,Te=(Ae.setAccount,Ae.setCraftInstance,Ae.setShooterInstance,Ae.setTokenInstance,Ae.setPilotInstance,Ae.setWalletConnecting),Le=ke.reducer,Re=function(e){return e.LOBBY="lobby",e.PUBLIC="crosmo",e.CUSTOM="custom",e}({}),Pe=function(e){return e.name===Re.CUSTOM},Me=Object(x.b)({name:"room",initialState:{lobbyJoined:!1,roomJoined:!1,resourcesLoaded:!1,roomId:"",roomData:void 0,availableRooms:new Array,playerList:new Array,curPlayer:"",curRoom:0},reducers:{setLobbyJoined:function(e,t){e.lobbyJoined=t.payload},setRoomJoined:function(e,t){e.roomJoined=t.payload},setResourcesLoaded:function(e,t){e.resourcesLoaded=t.payload},setCurRoom:function(e,t){e.curRoom=t.payload},setCurPlayer:function(e,t){e.curPlayer=t.payload},setJoinedRoomData:function(e,t){e.roomId=t.payload.id,e.roomData=t.payload},setPlayerList:function(e,t){e.playerList=t.payload.filter((function(e){return!0}))},setAvailableRooms:function(e,t){e.availableRooms=t.payload.filter((function(e){return Pe(e)}))},addAvailableRooms:function(e,t){if(Pe(t.payload.room)){var n=e.availableRooms.findIndex((function(e){return e.roomId===t.payload.roomId}));-1!==n?e.availableRooms[n]=t.payload.room:e.availableRooms.push(t.payload.room)}},removeAvailableRooms:function(e,t){e.availableRooms=e.availableRooms.filter((function(e){return e.roomId!==t.payload}))}}}),Ie=Me.actions,Be=Ie.setLobbyJoined,Ce=Ie.setRoomJoined,De=Ie.setResourcesLoaded,Ne=Ie.setJoinedRoomData,Ue=Ie.setAvailableRooms,Fe=Ie.addAvailableRooms,ze=Ie.removeAvailableRooms,Ve=Ie.setPlayerList,Ge=Ie.setCurPlayer,Ye=Ie.setCurRoom,He=Me.reducer,We=Object(x.b)({name:"phaser",initialState:{bulletName:"",bulletDuration:0,shieldName:"",shieldDuration:0,bulletChanged:!1,shieldChanged:!1,hasAtomic:!1,isExist:!1},reducers:{setBulletName:function(e,t){e.bulletName=t.payload,e.bulletChanged=!e.bulletChanged},setBulletDuration:function(e,t){e.bulletDuration=t.payload},setShieldName:function(e,t){e.shieldName=t.payload,e.shieldChanged=!e.shieldChanged},setShieldDuration:function(e,t){e.shieldDuration=t.payload},setHasAtomic:function(e,t){e.hasAtomic=t.payload},setIsExist:function(e,t){e.isExist=t.payload}}}),Ke=We.actions,Xe=Ke.setBulletName,Je=Ke.setBulletDuration,qe=Ke.setShieldName,Ze=Ke.setShieldDuration,Qe=Ke.setHasAtomic,$e=Ke.setIsExist,et=We.reducer;Object(_.d)();var tt,nt,it,st,at,ot,rt,dt,lt,ct,pt,ht,ut,mt,yt,gt,_t,xt,bt,vt,ft,wt=Object(x.a)({reducer:{user:je,wallet:Le,room:He,phaser:et},middleware:function(e){return e({serializableCheck:!1})}}),Ot=n(1080),Et=n(1065),St=n(1076),jt=n(1082),kt=n(77),At="0xA554482831bC8D5ae809B637f6932D4E608BE5E7",Tt={mode:"regular",testnet:{rpcUrl:"https://cronos-testnet-3.crypto.org:8545/",chainId:338,chainIdHex:"0x152",chainName:"Cronos Testnet",chainType:"mainnet",nativeCurrency:{name:"CRO",symbol:"CRO",decimals:18},blockExplorerUrl:"https://cronos.crypto.org/explorer/testnet3/"},mainnet:{rpcUrl:"https://mainnet.cronoslabs.com/v1/55e37d8975113ae7a44603ef8ce460aa",chainId:25,chainIdHex:"0x19",chainName:"Cronos Mainnet Beta",chainType:"mainnet",nativeCurrency:{name:"CRO",symbol:"CRO",decimals:18},blockExplorerUrl:"https://cronos.crypto.org/explorer/"}},Lt=function(e){var t=kt.a.BigNumber.from(e);return parseInt(t.toString())},Rt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Pt=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:Tt.mainnet.chainIdHex}]});case 3:e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),console.log("error in switchNetwork",e.t0),e.next=10,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:Tt.mainnet.chainIdHex,chainName:Tt.mainnet.chainName,rpcUrls:[Tt.mainnet.rpcUrl],nativeCurrency:Tt.mainnet.nativeCurrency,blockExplorerUrls:[Tt.mainnet.blockExplorerUrl]}]});case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.ethereum.request({method:"eth_chainId"});case 3:if(e.sent===Tt.mainnet.chainIdHex){e.next=9;break}return e.next=7,Pt();case 7:return e.next=9,Rt(2e3);case 9:return e.next=11,window.ethereum.request({method:"eth_requestAccounts"});case 11:return t=e.sent,window.ethereum.on("chainChanged",(function(){window.location.reload()})),window.ethereum.on("accountsChanged",(function(){window.location.reload()})),window.ethereum.on("disconnect",(function(){window.location.reload()})),e.t0=console,e.t1=Lt,e.next=19,window.ethereum.request({method:"eth_chainId"});case 19:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.log.call(e.t0,"metamask chain ID",e.t3),e.t4=t[0],e.t5=new kt.a.providers.Web3Provider(window.ethereum),e.t6=new kt.a.providers.JsonRpcProvider(Tt.mainnet.rpcUrl),e.t7=Lt,e.next=28,window.ethereum.request({method:"eth_chainId"});case 28:return e.t8=e.sent,e.t9=(0,e.t7)(e.t8),e.abrupt("return",{walletProviderName:"metamask",address:e.t4,browserWeb3Provider:e.t5,serverWeb3Provider:e.t6,wcProvider:null,wcConnector:null,connected:!0,chainId:e.t9});case 33:return e.prev=33,e.t10=e.catch(0),console.log("error in connect metamask",e.t10),e.abrupt("return",null);case 37:case"end":return e.stop()}}),e,null,[[0,33]])})));return function(){return e.apply(this,arguments)}}(),It=n(517),Bt=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.clear(),t=new It.a({rpc:{[Tt.mainnet.chainId]:Tt.mainnet.rpcUrl},chainId:Tt.mainnet.chainId}),console.log("wc chain ID",t.chainId),e.next=6,t.enable();case 6:if(n=new kt.a.providers.Web3Provider(t),t.chainId===Tt.mainnet.chainId){e.next=9;break}return e.abrupt("return",null);case 9:return t.on("chainChanged",(function(){window.location.reload()})),t.on("accountsChanged",(function(){window.location.reload()})),t.on("disconnect",(function(){window.location.reload()})),e.next=14,n.listAccounts();case 14:return e.t0=e.sent[0],e.t1=n,e.t2=new kt.a.providers.JsonRpcProvider(Tt.mainnet.rpcUrl),e.t3=t,e.t4=t.chainId,e.abrupt("return",{walletProviderName:"walletconnect",address:e.t0,browserWeb3Provider:e.t1,serverWeb3Provider:e.t2,wcProvider:e.t3,wcConnector:null,connected:!0,chainId:e.t4});case 22:return e.prev=22,e.t5=e.catch(0),console.log("wallet-connect error",e.t5),e.abrupt("return",null);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),Ct=n(516),Dt=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("start defi wallet"),t=new Ct.a({supportedChainIds:[Tt.mainnet.chainId],rpc:{[Tt.mainnet.chainId]:Tt.mainnet.rpcUrl},pollingInterval:15e3}),console.log("define connector"),e.prev=4,e.next=7,t.activate();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.log("connector is err: ",e.t0);case 12:return console.log("connector activated"),e.next=15,t.getProvider();case 15:if(n=e.sent,console.log("get provider"),i=new kt.a.providers.Web3Provider(n),console.log("get web3Provider"),console.log("provider.chainId is ",n.chainId,parseInt(n.chainId)),parseInt(n.chainId)===Tt.mainnet.chainId){e.next=22;break}return e.abrupt("return",null);case 22:return t.on("session_update",(function(){window.location.reload()})),t.on("Web3ReactDeactivate",(function(){window.location.reload()})),t.on("Web3ReactUpdate",(function(){window.location.reload()})),console.log("defi chain ID",n.chainId),e.next=28,i.listAccounts();case 28:return e.t1=e.sent[0],e.t2=i,e.t3=new kt.a.providers.JsonRpcProvider(Tt.mainnet.rpcUrl),e.t4=n,e.t5=t,e.t6="string"==typeof n.chainId?parseInt(n.chainId,16):n.chainId,e.abrupt("return",{walletProviderName:"defiwallet",address:e.t1,browserWeb3Provider:e.t2,serverWeb3Provider:e.t3,wcProvider:e.t4,wcConnector:e.t5,connected:!0,chainId:e.t6});case 37:return e.prev=37,e.t7=e.catch(0),console.log("wallet-connect error",e.t7),e.abrupt("return",null);case 41:case"end":return e.stop()}}),e,null,[[0,37],[4,9]])})));return function(){return e.apply(this,arguments)}}(),Nt=n(2),Ut={fontSize:"25px",color:"var(--color-yellow)",textAlign:"center"},Ft={marginTop:2,fontSize:"19px",color:"#280D5f",background:"wheat","&:hover":{background:"rgba(253,218,158,0.8)"},padding:"10px 30px",display:"flex",justifyContent:"space-between"},zt=function(e){var t=null,n=function(){var n=Object(g.a)(Object(y.a)().mark((function n(i){var s,a;return Object(y.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:wt.dispatch(Te(!0)),e.setOpen(!1),n.t0=i,n.next="metamask"===n.t0?5:"walletconnect"===n.t0?11:"defiwallet"===n.t0?17:23;break;case 5:return console.log("metamask seletected"),n.next=8,Mt();case 8:return t=n.sent,localStorage.setItem("wallet-type","metamask"),n.abrupt("break",34);case 11:return console.log("walletconnect seletected"),n.next=14,Bt();case 14:return t=n.sent,localStorage.setItem("wallet-type","walletconnect"),n.abrupt("break",34);case 17:return console.log("defi wallet seletected"),n.next=20,Dt();case 20:return t=n.sent,localStorage.setItem("wallet-type","defiwallet"),n.abrupt("break",34);case 23:if(console.log("default seletected"),!(window.innerWidth>=1024)){n.next=30;break}return n.next=27,Mt();case 27:n.t1=n.sent,n.next=33;break;case 30:return n.next=32,Bt();case 32:n.t1=t=n.sent;case 33:t=n.t1;case 34:null!==t&&(e.setWallet(t),s=new Date,a={walletConnected:"true",expiry:s.getTime()+36e5},localStorage.setItem("wallet-connected",JSON.stringify(a))),wt.dispatch(Te(!1));case 36:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=new Date,t=JSON.parse(localStorage.getItem("wallet-connected")),i=null===t||void 0===t?void 0:t.walletConnected,s=null===t||void 0===t?void 0:t.expiry,a=localStorage.getItem("wallet-type");"true"===i&&s>e.getTime()&&n(a)}),[]),Object(Nt.jsx)("div",{children:Object(Nt.jsx)(Et.a,{keepMounted:!0,open:e.open,onClose:function(){return e.setOpen(!1)},"aria-labelledby":"keep-mounted-modal-title","aria-describedby":"keep-mounted-modal-description",children:Object(Nt.jsxs)(Ot.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:350,width:"70%",backgroundColor:"rgba(40, 13, 95, 0.9)",boxShadow:"0px 11px 15px -7px rgb(255 255 255 / 20%), 0px -4px 10px 2px rgb(255 255 255 / 14%), 0px 9px 46px 8px rgb(255 255 255 / 12%);",borderRadius:5,p:4},children:[Object(Nt.jsx)(jt.a,{id:"keep-mounted-modal-title",variant:"h6",component:"h2",sx:Ut,children:"Connect Wallet"}),window.innerWidth>=1024&&Object(Nt.jsxs)(St.a,{fullWidth:!0,sx:Ft,onClick:function(){return n("metamask")},children:[Object(Nt.jsx)("img",{src:"assets/images/metamask.svg",width:"30",height:"30",style:{marginRight:10}}),"Metamask"]}),Object(Nt.jsxs)(St.a,{fullWidth:!0,sx:Ft,onClick:function(){return n("walletconnect")},children:[Object(Nt.jsx)("img",{src:"assets/images/walletconnect.svg",width:"30",height:"30",style:{marginRight:10}}),"Wallet Connect"]}),Object(Nt.jsxs)(St.a,{fullWidth:!0,sx:Ft,onClick:function(){return n("defiwallet")},children:[Object(Nt.jsx)("img",{src:"assets/images/defiwallet.png",width:"30",height:"30",style:{marginRight:10}}),"Defi Wallet"]})]})})})},Vt=h.a.div(tt||(tt=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 16px;\n  align-items: center;\n\n  img.logo {\n    width: 48px;\n    position: relative;\n    z-index: 9;\n  }\n\n  @media only screen and (min-width: 560px) {\n    img.logo {\n      width: 52px;\n    }\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait) {\n    padding: 16px 24px;\n    img.logo {\n      width: 60px;\n    }\n  }\n\n  @media only screen and (min-width: 860px) and (orientation:portrait) {\n\n  }\n\n  @media only screen and (min-width: 960px) {\n    padding: 20px 32px;\n    img.logo {\n      width: 70px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img.logo {\n      width: 80px;\n    }\n  }\n"]))),Gt=h.a.div(nt||(nt=Object(l.a)(["\n  background: url('assets/images/btn_connect.png');\n  background-size: cover;\n  background-position: center;\n  width: 192px;\n  height: 36px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  font-size: 14px;\n\n  @media only screen and (min-width: 560px) {\n    width: 216px;\n    height: 40px;\n    font-size: 16px;\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n\n  }\n\n\n  @media only screen and (min-width: 768px) and (orientation:portrait) {\n\n  }\n\n  @media only screen and (min-width: 860px) and (orientation:portrait) {\n    width: 248px;\n    height: 46px;\n    font-size: 18px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    width: 248px;\n    height: 46px;\n    font-size: 18px;\n  }\n\n  @media only screen and (min-width: 1366px) {\n    width: 270px;\n    height: 52px;\n    font-size: 20px;\n  }\n"]))),Yt=function(e){var t=e.walletProviderName,n=e.wcConnector,s=(e.wcProvider,e.account),a=e.setWallet,o=e.setBg,r=Object(i.useState)(!1),l=Object(d.a)(r,2),p=l[0],h=l[1],u=m((function(e){return e.wallet.walletConnecting})),_=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:if(!(window.ethereum&&window.innerWidth<1024)){e.next=11;break}return wt.dispatch(Te(!0)),e.next=6,Mt();case 6:return t=e.sent,localStorage.setItem("wallet-type","metamask"),null!==t&&(a(t),n=new Date,i={walletConnected:"true",expiry:n.getTime()+36e5},localStorage.setItem("wallet-connected",JSON.stringify(i))),wt.dispatch(Te(!1)),e.abrupt("return");case 11:!s&&h(!0),console.log("account and walletConnecting",s,u),s&&!u&&(x(),window.location.reload());case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"defiwallet"==t&&(null===n||void 0===n||n.deactivate()),localStorage.clear();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsxs)(Vt,{children:[Object(Nt.jsx)(c.b,{to:"/",onClick:function(){return o("bg_main")},children:Object(Nt.jsx)("img",{className:"logo",src:"assets/images/logo_yellow.png",alt:"logo"})}),Object(Nt.jsx)(Gt,{onClick:_,children:s?function(e){return e.slice(0,7)+"..."+e.slice(38,42)}(s):u?"CONNECTING...":"CONNECT YOUR WALLET"})]}),Object(Nt.jsx)(zt,{open:p,setOpen:h,setWallet:a})]})},Ht=n(1081),Wt=n(127),Kt=n.n(Wt),Xt={login:function(){var e=Object(g.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.a.post("".concat("https://crosmoshooter.com/api","/auth/login"),{account:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Jt={auth:Xt,score:{getScores:function(e,t){return Kt.a.post("".concat("https://crosmoshooter.com/api","/score/getScores"),{period:e,league:t})},saveScoreLog:function(e,t,n,i,s){return Kt.a.post("".concat("https://crosmoshooter.com/api","/score/saveScoreLog"),{account:e,tokenId:t,shipName:n,tier:i,score:s},{headers:{token:!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")).token}})}}},qt=n(39),Zt=n(293),Qt=n(1070),$t=n(1071),en=n(1072),tn=n(1073),nn=n(1068),sn=n(1062),an=n(1063),on=n(1061),rn=(n(490),n(491),n(1069)),dn=n(1067),ln=s.a.forwardRef((function(e,t){return Object(Nt.jsx)(dn.a,Object(b.a)({elevation:6,ref:t,variant:"filled"},e))})),cn=function(e){var t=e.noticeMsg,n=e.showNotice,i=e.setShowNotice,s=e.severity,a=function(e,t){"clickaway"!==t&&i(!1)};return Object(Nt.jsx)(rn.a,{open:n,autoHideDuration:5e3,onClose:a,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(Nt.jsx)(ln,{onClose:a,severity:s,sx:{width:"100%"},children:t})})},pn=h.a.div(it||(it=Object(l.a)(["\n  width: 100%;\n  margin: 0 auto;\n  margin-bottom: 16px;\n}\n"]))),hn=h.a.div(st||(st=Object(l.a)(["\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  justify-content: center;\n"]))),un=h.a.h3(at||(at=Object(l.a)(["\n  font-size: 20px;\n  color: white;\n  text-align: center;\n  font-weight: normal;\n\n  @media only screen and (min-width: 768px) {\n    font-size: 24px;\n  }\n\n  @media only screen and (min-width: 1024px) {\n    font-size: 26px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    font-size: 28px;\n  }\n"]))),mn=h.a.div(ot||(ot=Object(l.a)(["\n  width: 92%;\n\n  @media only screen and (max-width: 959px) and (max-height: 800px) {\n    margin-top: 164px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 48px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    gap: 64px;\n  }\n"]))),yn=h.a.div(rt||(rt=Object(l.a)(["\n    width: 100%;\n\n    @media only screen and (min-width: 960px) {\n      width: unset;\n    }\n  }\n"]))),gn=h.a.div(dt||(dt=Object(l.a)(["\n  text-align: center;\n  margin-top: 32px;\n  img {\n    width: 280px;\n    margin: 0 auto;\n  }\n\n  @media only screen and (min-width: 960px) {\n    margin-top: 0px;\n  }\n"]))),_n=h.a.div(lt||(lt=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 16px;\n\n  @media only screen and (min-width: 960px) {\n    margin-top: 0px;\n  }\n"]))),xn=h.a.div(ct||(ct=Object(l.a)(["\n  --swiper-resolution: 260px;\n  --swiper-content-resolution: 244px;\n  --background-top: 30px;\n  --background-height: 220px;\n  --ship-title-top: 14px;\n  --ship-font-size: 12px;\n  --ship-content-top: 16px;\n  --tier-text-fontsize: 12px;\n  --tier-text-left: 16px;\n  --tier-text-top: 32px;\n  --tier-image-width: 32px;\n  --tier-image-top: 32px;\n  --tier-image-right: 16px;\n  --weapon-image-left: 2px;\n  --background-on: 16px;\n\n  width: var(--swiper-resolution);\n  height: var(--swiper-resolution);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-left: 8px;\n  margin-right: 8px;\n  display: flex;\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    --swiper-resolution: 360px;\n    --swiper-content-resolution: 336px;\n    --background-top: 36px;\n    --background-height: 316px;\n    --ship-title-top: 20px;\n    --ship-font-size: 16px;\n    --ship-content-top: 16px;\n    --tier-text-fontsize: 14px;\n    --tier-text-left: 24px;\n    --tier-text-top: 48px;\n    --tier-image-width: 42px;\n    --tier-image-top: 46px;\n    --tier-image-right: 20px;\n    --weapon-image-left: 4px;\n    --background-on: 16px;\n  }\n\n  @media only screen and (min-width: 768px) and (orientation: portrait) {\n    --swiper-resolution: 420px;\n    --swiper-content-resolution: 396px;\n    --background-top: 42px;\n    --background-height: 362px;\n    --ship-title-top: 24px;\n    --ship-font-size: 18px;\n    --ship-content-top: 20px;\n    --tier-text-fontsize: 18px;\n    --tier-text-left: 24px;\n    --tier-text-top: 54px;\n    --tier-image-width: 48px;\n    --tier-image-top: 52px;\n    --tier-image-right: 20px;\n    --weapon-image-left: 6px;\n    --background-on: 16px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    --swiper-resolution: 560px;\n    --swiper-content-resolution: 540px;\n    --background-top: 60px;\n    --background-height: 480px;\n    --ship-title-top: 32px;\n    --ship-font-size: 22px;\n    --ship-content-top: 24px;\n    --tier-text-fontsize: 22px;\n    --tier-text-left: 30px;\n    --tier-text-top: 70px;\n    --tier-image-width: 58px;\n    --tier-image-top: 70px;\n    --tier-image-right: 28px;\n    --weapon-image-left: 6px;\n    --background-on: 20px;\n  }\n\n  --swiper-navigation-size: 24px;\n\n  .swiper-container {\n    width: var(--swiper-resolution);\n    height: var(--swiper-resolution);\n    border-radius: 8px;\n    overflow: hidden;\n  }\n\n  .swiper-container .swiper-button-next::after,\n  .swiper-container .swiper-button-prev::after {\n    content: none;\n  }\n\n  .swiper-slide {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .swiper-slide img.create-game {\n    object-fit: cover\n  }\n\n  .swiper-slide img.ship {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n\n  .swiper-slide img.shipshield {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n  \n  .swiper-slide img.broken {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n  .swiper-slide img.crosmonaut {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n  .swiper-slide img.background {\n    width: var(--swiper-content-resolution);\n    height: var(--background-height);\n    top: var(--background-top);\n    position: absolute;\n  }\n  .swiper-slide img.on_background {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    bottom: var( --background-on);\n  }\n  .swiper-slide img.booster {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n  .swiper-slide img.weapon {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n    left: var(--weapon-image-left);\n  }\n  \n  .swiper-slide img.banner {\n    position: absolute;\n    width: var(--swiper-content-resolution);\n    top: var(--ship-content-top);\n  }\n  .swiper-slide img.tier {\n    position: absolute;\n    width: var(--tier-image-width);\n    top: var(--tier-image-top);\n    right: var(--tier-image-right);\n  \n  }\n  \n  .swiper-slide img.avatarBg {\n    width: var(--swiper-resolution);\n    height: var(--swiper-resolution);\n    position: absolute;\n    z-index: 2\n  }\n\n  .swiper-slide p.name {\n    position: absolute;\n    top: var(--ship-title-top);\n    font-size: var(--ship-font-size);\n    color: var(--color-yellow);\n    z-index: 3;\n  }\n\n  .swiper-slide p.tier {\n    position: absolute;\n    font-size: var(--tier-text-fontsize);\n    left: var(--tier-text-left);\n    top: var(--tier-text-top);\n    color: var(--color-yellow);\n  }\n"]))),bn=h.a.div(pt||(pt=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  \n  img {\n    width: 24px;\n    height: 36px;\n    cursor: pointer;\n  }\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    img {\n      width: 32px;\n      height: 48px;\n    }\n  }\n\n  @media only screen and (min-width: 1440px) {\n    img {\n      width: 42px;\n      height: 64px;\n    }\n  }\n"]))),vn=h.a.div(ht||(ht=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 8px;\n  flex-direction: column;\n  margin-top: 48px;\n  color: var(--color-yellow);\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    gap: 16px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    width: unset;\n    margin-top: 0px;\n  }\n"]))),fn=h.a.div(ut||(ut=Object(l.a)(["\n  font-size: 20px;\n  text-align: center;\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    font-size: 24px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    font-size: 30px;\n  }\n"]))),wn=h.a.div(mt||(mt=Object(l.a)(["\n  padding: 4px 8px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  background: rgba(40,13,95,1);\n  color: white;\n  cursor: pointer;\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    font-size: 24px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    font-size: 30px;\n  }\n"]))),On=h.a.div(yt||(yt=Object(l.a)(["\n  background: url('assets/images/avatar_join.png');\n  font-size: 28px;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  width: 156px;\n  height: 59px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  cursor: pointer;\n\n  opacity: ",";\n\n  @media only screen and (min-width: 640px) and (orientation: portrait) {\n    font-size: 32px;\n  }\n\n  @media only screen and (min-width: 1440px) {\n    width: 164px;\n    height: 63px;\n    font-size: 34px;\n  }\n"])),(function(e){return e.dataLoading?"0.5":"1"})),En=(h.a.div(gt||(gt=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img.room {\n    width: 80px;\n    object-fit: cover;\n    opacity: 0.45;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  img.room.selected {\n    opacity: 1 !important\n  }\n\n"]))),h.a.div(_t||(_t=Object(l.a)(["\n  width: 80px;\n  margin-right: 4px;\n  margin-left: 4px;\n  padding: 8px 10px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n  background-image: ",";\n  color: white;\n  cursor: pointer;\n\n"])),(function(e){return e.bgColor})),h.a.div(xt||(xt=Object(l.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: url('assets/images/",".png');\n  background-position: center;\n  background-size: cover;\n  overflow: auto;\n}\n"])),(function(e){return e.bg}))),Sn=h.a.div(bt||(bt=Object(l.a)(["\n  position: fixed;\n  top: 16px;\n  left: 50%;\n  transform: translate(-50%, 0%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #4a97d2;\n  z-index: 9;\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait)  {\n    bottom: 16px;\n    top: unset;\n  }\n  \n  @media only screen and (max-width: 960px) and (orientation:portrait)  {\n      \n  }\n  \n  @media only screen and (max-width: 860px) and (orientation:portrait)  {\n      \n  }\n  \n  @media only screen and (max-width: 768px) and (orientation:portrait)  {\n      \n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    bottom: 8px;\n    top: unset;\n  }\n  \n  @media only screen and (max-width: 960px) and (orientation:landscape)  {\n      \n  }\n  \n  @media only screen and (max-width: 860px) and (orientation:landscape)  {\n      \n  }\n  \n  @media only screen and (max-width: 768px) and (orientation:landscape)  {\n      \n  }\n\n  @media only screen and (max-width: 639px) {\n    font-size: 18px;\n  }\n"]))),jn=h.a.div(vt||(vt=Object(l.a)(["\n  font-size: 18px;\n  color: white;\n  text-align: center;\n  font-weight: normal;\n"])));an.a.use([on.a]);var kn,An,Tn,Ln,Rn,Pn,Mn,In,Bn,Cn,Dn,Nn,Un,Fn,zn,Vn,Gn,Yn,Hn,Wn,Kn,Xn,Jn,qn,Zn,Qn,$n,ei,ti,ni,ii,si,ai,oi,ri,di,li,ci,pi,hi,ui,mi,yi,gi,_i,xi,bi,vi,fi,wi,Oi,Ei,Si,ji,ki,Ai,Ti,Li,Ri,Pi,Mi=Object(h.a)(u.a)(ft||(ft=Object(l.a)(["\n  width: 360px;\n"]))),Ii=function(e){return e.Create="create",e.Join="join",e.Quick="quick",e}(Ii||{}),Bi=function(e,t){try{var n=e.find((function(e){return e.trait_type===t}));if(n)return n.value}catch(i){console.log("Getting token attribute value with attribute name failed: ".concat(i))}return null},Ci=function(e){var t,n,s,a=e.craftInstance,o=e.shooterInstance,r=e.tokenInstance,l=(e.pilotInstance,e.account),c=e.setBg,h=e.setIsGamePlaying,u=e.keyboard,_=e.isPlayEndless,x=e.isMultiplayer,v=e.difficulty,f=e.setCalculating,O=e.viewMultiMode,E=m((function(e){return e.room.lobbyJoined})),S=m((function(e){return e.room.resourcesLoaded})),j=m((function(e){return e.room.playerList})),k=m((function(e){return e.room.curPlayer})),A=m((function(e){return e.room.curRoom})),T=Object(p.o)(),L=Object(i.useState)(""),R=Object(d.a)(L,2),P=R[0],M=R[1],I=Object(i.useState)(!1),B=Object(d.a)(I,2),C=B[0],D=B[1],N=Object(i.useState)(""),U=Object(d.a)(N,2),F=U[0],z=U[1],V=Object(i.useState)(""),G=Object(d.a)(V,2),Y=G[0],H=G[1],W=Object(i.useState)([]),K=Object(d.a)(W,2),X=K[0],J=K[1],q=Object(i.useState)(!1),Z=Object(d.a)(q,2),Q=Z[0],$=(Z[1],Object(i.useState)(!1)),ee=Object(d.a)($,2),te=ee[0],ne=(ee[1],Object(i.useState)(0)),ie=Object(d.a)(ne,2),oe=ie[0],re=ie[1],de=Object(i.useState)(0),le=Object(d.a)(de,2),ce=le[0],pe=le[1],he=Object(i.useState)(0),ue=Object(d.a)(he,2),me=ue[0],ye=ue[1],ge=Object(i.useState)(!1),we=Object(d.a)(ge,2),Oe=we[0],Se=we[1],je=Object(i.useState)(0),ke=Object(d.a)(je,2),Ae=ke[0],Te=ke[1],Le=Object(i.useState)(!1),Re=Object(d.a)(Le,2),Pe=Re[0],Me=Re[1],Ie=e.PhaserGame.scene.keys.boot,Be=(e.PhaserGame.scene.keys.multiplay,Object(i.useState)(!0)),Ce=Object(d.a)(Be,2),De=Ce[0],Ne=Ce[1],Ue=Object(i.useState)(!0),Fe=Object(d.a)(Ue,2),ze=Fe[0],Ve=Fe[1];Object(i.useEffect)((function(){var e=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(_||x)&&e()}),[_,x]),Object(i.useEffect)((function(){Ve(!1),Ne(!1);j.find((function(e){return(null===e||void 0===e?void 0:e.id)==k}));var e=j.filter((function(e){return(null===e||void 0===e?void 0:e.id)!=k})),t=e.filter((function(e){var t;return 1==(null===e||void 0===e||null===(t=e.val)||void 0===t?void 0:t.team)})).length,n=e.filter((function(e){var t;return 2==(null===e||void 0===e||null===(t=e.val)||void 0===t?void 0:t.team)})).length;Ve(A>t||0==A),Ne(A>n||0==A)}),[j,k,A]);var Ge=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i,s,d,c,p;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H("fetching"),t=l,w.USE_WALLET||(t=w.TEST_WALLET),e.prev=3,e.next=6,o.getRewardBalance(t);case 6:return n=e.sent,re(Number(n)/Math.pow(10,6)),e.next=10,r.balanceOf(t);case 10:i=e.sent,pe(Number(i)/Math.pow(10,6)),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),console.log("shooter err",e.t0),re(0),pe(0);case 19:e.next=23;break;case 23:return e.prev=23,e.next=26,a.walletOfOwner(t);case 26:s=e.sent,e.next=33;break;case 29:e.prev=29,e.t1=e.catch(23),console.log("craft contract err",e.t1),s=[];case 33:if(!Array.isArray(s)||!s.length){e.next=44;break}return"https://ipfs.filebase.io/ipfs/QmVPpQFBgmE4tHYfXVrs6vCDjuHXc1tRXyVxjZ9ZUqLf4s",e.next=37,Promise.all(s.map((function(e){return Kt.a.get("".concat("https://ipfs.filebase.io/ipfs/QmVPpQFBgmE4tHYfXVrs6vCDjuHXc1tRXyVxjZ9ZUqLf4s","/").concat(e,".json"))}))).catch((function(e){console.log("Getting Token Meta Datas is failed"+e.message),z("error"),M("Getting Token Meta Datas is failed!"),D(!0),setTimeout((function(){return T("/")}),7e3)}));case 37:return d=e.sent,console.log("tokenDatas",d),e.next=41,Promise.all(s.map((function(e){return o.getCraftStatus(Number(e))}))).catch((function(e){console.log("Getting Craft Status is failed: "+e.message),z("error"),M("Game Contract is not respond!"),D(!0),setTimeout((function(){return T("/")}),7e3)}));case 41:return c=e.sent,Array.isArray(d)&&d.length&&Array.isArray(c)&&c.length&&(p=s.map((function(e,t){return{name:d[t].data.name,tokenId:Number(e),background:Bi(d[t].data.attributes,"Background"),on_background:Bi(d[t].data.attributes,"On Background"),weapon:Bi(d[t].data.attributes,"Weapon System"),booster:Bi(d[t].data.attributes,"Booster"),spaceship:Bi(d[t].data.attributes,"Spaceship"),banner:Bi(d[t].data.attributes,"Banner"),damaged:Bi(d[t].data.attributes,"Damaged"),crosmonaut:Bi(d[t].data.attributes,"Crosmonaut"),shield:Bi(d[t].data.attributes,"Force Shield"),class:Bi(d[t].data.attributes,"Class"),tier:c[t][1],damagedLevel:c[t][2]}}))).length>0&&(J(p),H("fetched")),e.abrupt("return");case 44:z("error"),M("You don't have a NFT. Please purchase one!"),D(!0),setTimeout((function(){return T("/")}),7e3);case 48:case"end":return e.stop()}}),e,null,[[3,14],[23,29]])})));return function(){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i,s,a,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l,w.USE_WALLET||(t=w.TEST_WALLET),!x||0!=Ae){e.next=7;break}return z("warning"),M("Select your team!"),D(!0),e.abrupt("return");case 7:if(f(!0),!Oe){e.next=27;break}return e.prev=9,e.next=12,o.enterGame({from:t,value:"1000000000000000000"});case 12:return n=e.sent,e.next=15,n.wait();case 15:i=e.sent,i.events,e.next=27;break;case 19:return e.prev=19,e.t0=e.catch(9),console.log("error in enterGame",e.t0),z("error"),M("You need 1 CRO to play game"),D(!0),f(!1),e.abrupt("return");case 27:return e.next=29,Jt.auth.login(t);case 29:if(!(s=e.sent).error){e.next=36;break}return z("error"),M(s.error),D(!0),f(!1),e.abrupt("return");case 36:if(localStorage.setItem("jwt",JSON.stringify(s)),wt.dispatch(_e(X[me].tokenId)),wt.dispatch(xe(X[me].name)),wt.dispatch(be(Oe)),wt.dispatch(ve(Ae)),wt.dispatch(fe(X[me].tier)),a=Object(b.a)(Object(b.a)({},X[me]),{},{account:t,paid:Oe,team:Ae,wasted:0,hits:0}),wt.dispatch(Ee(a.spaceship)),r={hasCombat:Q,difficulty:v,keyboard:u,bossMode:Pe},!(a.damagedLevel>=5)){e.next=51;break}z("error"),M("Your craft is damaged."),D(!0),e.next=68;break;case 51:if(!x||O==Ii.Quick){e.next=55;break}E?(h(!0),c(""),Ie.startMultiGame(a,r)):(z("error"),M("Trying to connect to server, please try again!"),D(!0)),e.next=68;break;case 55:if(!E){e.next=65;break}if(S){e.next=62;break}return z("warning"),M("Loading the images and audios for game! Please wait a little bit!"),D(!0),f(!1),e.abrupt("return");case 62:Ie._network.joinOrCreatePublic().then((function(){h(!0),c(""),Ie.startGame(a,r)})).catch((function(e){return console.error("error in joinOrCreatePublic",e)})),e.next=68;break;case 65:z("error"),M("Trying to connect to server, please try again!"),D(!0);case 68:f(!1);case 69:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i,s,a,d,c,p,h;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,r.allowance(l,At);case 4:if(t=e.sent,!new Zt.BigNumber(t.toString()).eq(new Zt.BigNumber("0"))){e.next=14;break}return e.next=8,r.approve(At,"99999999999999999999999999999999999999999999999999999999999");case 8:return n=e.sent,e.next=11,n.wait();case 11:i=e.sent,s=i.events,s[0].transactionHash;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),console.log("error in approve",e.t0),f(!1);case 20:if(!((a=X[me].tier)<5)){e.next=49;break}if(!(ce>=ae[a+1]*(te?.95:1))){e.next=44;break}return e.prev=23,e.next=26,o.upgradeCraft(X[me].tokenId);case 26:return d=e.sent,e.next=29,d.wait();case 29:c=e.sent,p=c.events,p[0].transactionHash&&(h=X.map((function(e,t){return t===me&&(e.name=se[a+1],e.tier=a+1),e})),J(Object(qt.a)(h)),pe(ce-ae[a+1]*(te?.95:1)),z("success"),M("Crosmocraft has been upgraded."),D(!0)),e.next=42;break;case 35:e.prev=35,e.t1=e.catch(23),console.log("error in upgradeCraft",e.t1),z("error"),M("Error occurred in upgrading Crosmocraft."),D(!0),f(!1);case 42:e.next=47;break;case 44:z("error"),M("You need ".concat(ae[a+1]*(te?.95:1)," $CROSMO for ").concat(se[a+1]," Level.")),D(!0);case 47:e.next=52;break;case 49:z("success"),M("Your craft is the top level."),D(!0);case 52:f(!1);case 53:case"end":return e.stop()}}),e,null,[[1,16],[23,35]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),!(oe>0)){e.next=23;break}return e.prev=2,e.next=5,o.claimReward();case 5:return t=e.sent,e.next=8,t.wait();case 8:n=e.sent,i=n.events,i[0].transactionHash&&(z("success"),M("".concat(oe.toFixed(1),"$CROSMO has claimed.")),D(!0),pe(ce+oe),re(0)),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("error in claimReward",e.t0),z("error"),M("Error occurred in claiming reward."),D(!0),f(!1);case 21:e.next=26;break;case 23:z("error"),M("You don't have any reward token."),D(!0);case 26:f(!1);case 27:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),Ke=Object(i.useRef)(null);return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(pn,{children:Object(Nt.jsxs)(hn,{fetching:"fetching"===Y,children:["fetching"===Y&&Object(Nt.jsxs)(Ot.a,{sx:{display:"block",textAlign:"center"},children:[Object(Nt.jsx)(un,{children:"Fetching NFTs and Loading Resources..."}),Object(Nt.jsx)(Ht.a,{sx:{mt:2}})]}),"fetched"===Y&&Object(Nt.jsxs)(mn,{children:[Object(Nt.jsxs)(yn,{children:[Object(Nt.jsx)(gn,{children:Object(Nt.jsx)("img",{src:"assets/images/avatar_title.png",alt:"title"})}),Object(Nt.jsxs)(_n,{children:[Object(Nt.jsx)(bn,{onClick:function(){return Ke.current.swiper.slidePrev()},children:Object(Nt.jsx)("img",{src:"assets/images/avatar_prev.png",alt:"prev"})}),Object(Nt.jsx)(xn,{children:Object(Nt.jsx)(nn.a,{ref:Ke,navigation:!0,spaceBetween:0,slidesPerView:1,onSlideChange:function(e){ye(e.activeIndex)},children:X.map((function(e){return Object(Nt.jsxs)(sn.a,{children:[Object(Nt.jsx)("img",{className:"background",src:"assets/images/NFT/8 Background/".concat(e.background,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"on_background",src:"assets/images/NFT/7 On Background/".concat(e.on_background,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"booster",src:"assets/images/NFT/5 Booster/".concat(e.booster,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"weapon",src:"assets/images/NFT/6 Weapon System/".concat(e.weapon,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"ship",src:"assets/images/NFT/4 Spaceship/".concat(e.spaceship,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"banner",src:"assets/images/NFT/3 Banner/".concat(e.banner,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"broken",src:"assets/images/NFT/3 Damaged/".concat(e.damaged,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"crosmonaut",src:"assets/images/NFT/2 Crosmonaut/".concat(e.crosmonaut,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"shipshield",src:"assets/images/NFT/1 Force Shield/".concat(e.shield,".png"),alt:e.name}),0!==e.tier&&Object(Nt.jsx)("p",{className:"tier",children:se[e.tier]}),Object(Nt.jsx)("img",{className:"tier",src:"assets/images/league_".concat(e.tier,".png"),alt:e.name}),Object(Nt.jsx)("img",{className:"avatarBg",src:"assets/images/avatar_modal_bg.png",alt:"avatar_bg"}),Object(Nt.jsx)("p",{className:"name",children:e.name})]},e.tokenId)}))})}),Object(Nt.jsx)(bn,{onClick:function(){return Ke.current.swiper.slideNext()},children:Object(Nt.jsx)("img",{src:"assets/images/avatar_next.png",alt:"next"})})]})]}),Object(Nt.jsxs)(vn,{children:[Object(Nt.jsxs)(fn,{children:["Claimable $CROSMO: ",oe.toFixed(1)]}),Object(Nt.jsx)(wn,{onClick:We,children:"Claim Reward"}),Object(Nt.jsxs)(fn,{children:["$CROSMO Balance: ",ce.toFixed(1)]}),Object(Nt.jsxs)($t.a,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:function(e){Te(Number(e.target.value)||null)},sx:{"& *":{color:"white",borderColor:"white"}},children:[x&&Object(Nt.jsx)(en.a,{value:"1",control:Object(Nt.jsx)(Qt.a,{}),disabled:!ze,label:"Allied",sx:{"& .Mui-disabled":{color:"rgba(255,255,255, 0.5) !important"}}}),x&&Object(Nt.jsx)(en.a,{value:"2",control:Object(Nt.jsx)(Qt.a,{}),disabled:!De,label:"Axis",sx:{"& .Mui-disabled":{color:"rgba(255,255,255, 0.5) !important"}}})]}),Object(Nt.jsx)(wn,{onClick:He,children:void 0!==X&&5!==(null===(t=X[me])||void 0===t?void 0:t.tier)&&Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)("img",{src:"assets/images/upgrade.png",width:30,height:30})," to ",se[(null===(n=X[me])||void 0===n?void 0:n.tier)+1]," : ",ae[(null===(s=X[me])||void 0===s?void 0:s.tier)+1]*(te?.95:1)]})}),!x&&Object(Nt.jsxs)(fn,{children:[Object(Nt.jsx)("span",{children:"Pay To Play?"})," ",Object(Nt.jsx)(tn.a,{sx:{"& .MuiSvgIcon-root":{fontSize:28},"& *":{color:"white",borderColor:"white"}},checked:Oe,onChange:function(e){Se(e.target.checked)}})]}),!x&&Object(Nt.jsxs)(fn,{children:[Object(Nt.jsx)("span",{children:"Boss Mode?"}),Object(Nt.jsx)(tn.a,{sx:{"& .MuiSvgIcon-root":{fontSize:28},"& *":{color:"white",borderColor:"white"}},checked:Pe,onChange:function(e){Me(e.target.checked)}})]}),Object(Nt.jsx)(On,{dataLoading:!S,onClick:function(){S&&Ye()},children:"PLAY"})]})]})]})}),Object(Nt.jsx)(cn,{noticeMsg:P,showNotice:C,setShowNotice:D,severity:F}),!S&&"fetched"===Y&&Object(Nt.jsxs)(Sn,{children:[Object(Nt.jsx)(un,{children:" Loading Game Resources..."}),Object(Nt.jsx)(Mi,{color:"inherit",sx:{mt:1}})]})]})},Di=n(1064),Ni=Object(Di.a)((function(){return{root:{borderRadius:5,height:10,width:"100%",border:"2px solid #ffe2b8"},colorPrimary:{backgroundColor:"#39260b"},bar:{borderRadius:5,backgroundColor:"#fff"}}}))(u.a),Ui=Object(Di.a)((function(){return{root:{borderRadius:5,width:"100%",height:10,border:"2px solid #2099e5"},colorPrimary:{backgroundColor:"#0b1939"},bar:{borderRadius:5,backgroundColor:"#235aa5"}}}))(u.a),Fi=function(e){var t=e.specialKey,n=Object(i.useState)(0),s=Object(d.a)(n,2),a=s[0],o=s[1],r=Object(i.useState)(0),l=Object(d.a)(r,2),c=l[0],p=l[1],h=m((function(e){return e.phaser.bulletName})),u=m((function(e){return e.phaser.bulletDuration})),y=m((function(e){return e.phaser.bulletChanged})),g=m((function(e){return e.phaser.shieldName})),_=m((function(e){return e.phaser.shieldDuration})),x=m((function(e){return e.phaser.shieldChanged})),b=m((function(e){return e.phaser.hasAtomic})),v=(m((function(e){return e.room.playerList})),u-.15),f=_-.15;return Object(i.useEffect)((function(){var e=setInterval((function(){o(v/u*100),v<=0&&(o(0),clearInterval(e)),v-=.25}),250);return function(){clearInterval(e)}}),[h,u,y]),Object(i.useEffect)((function(){var e=setInterval((function(){p(f/_*100),f<=0&&(p(0),clearInterval(e)),f-=.25}),250);return function(){clearInterval(e)}}),[g,_,x]),Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(Ot.a,{className:"shield",sx:{display:"flex",position:"fixed",justifyContent:"flex-end",right:{xs:"-100px",sm:"-100px",md:"-220px",lg:"-260px",xl:"-340px"}},children:0!=c&&Object(Nt.jsx)(Ot.a,{sx:{textAlign:"center"},children:Object(Nt.jsx)(Ot.a,{className:"shield-bar",sx:{width:{xs:"320px",sm:"460px",md:"500px",lg:"580px",xl:"760px"},transform:"rotate(-90deg)"},children:Object(Nt.jsx)(Ui,{variant:"determinate",value:c})})})}),Object(Nt.jsx)(Ot.a,{className:"bullet",sx:{display:"flex",position:"fixed",justifyContent:"flex-end",right:{xs:0==c?"-100px":"-60px",sm:0==c?"-100px":"-60px",md:0==c?"-220px":"-200px",lg:0==c?"-260px":"-230px",xl:0==c?"-340px":"-320px"}},children:0!=a&&Object(Nt.jsx)(Ot.a,{sx:{textAlign:"center"},children:Object(Nt.jsx)(Ot.a,{className:"bullet-bar",sx:{width:{xs:"320px",sm:"460px",md:"500px",lg:"580px",xl:"760px"},transform:"rotate(-90deg)"},children:Object(Nt.jsx)(Ni,{variant:"determinate",value:a})})})}),b&&Object(Nt.jsxs)(jt.a,{className:"has-atomic",sx:{color:"white",position:"absolute",bottom:{sm:"16px"},right:{sm:"20px"},fontSize:{xs:"16px",sm:"20px"}},children:['Press "',t,'" to use atomic bomb']})]})},zi=h.a.div(kn||(kn=Object(l.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9;\n"]))),Vi=h.a.div(An||(An=Object(l.a)(["\n  width: 320px;\n  height: 556px;\n  background: url('assets/images/bg_leaderboard_mobile.png');\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  color: white;\n  font-size: 14px;\n\n  @media only screen and (min-width: 640px) and (orientation:portrait)  {\n    width: 332px;\n    height: 580px;\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    width: 440px;\n    height: 762px;\n    font-size: 16px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    background: url('assets/images/bg_leaderboard.png');\n    background-size: cover;\n    background-repeat: no-repeat;\n    background-position: center;\n    width: 820px;\n    height: 456px;\n  }\n\n  @media only screen and (min-width: 1366px) {\n    width: 1090px;\n    height: 600px;\n  }\n"]))),Gi=h.a.div(Tn||(Tn=Object(l.a)(["\n  width: 92%;\n  height: 100%;\n  margin: 0 auto;\n  padding-top: 38px;\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    padding-top: 52px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    padding-top: 54px;\n  }\n\n  @media only screen and (min-width: 1366px) {\n    padding-top: 72px;\n  }\n"]))),Yi=h.a.div(Ln||(Ln=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  width: 100%;\n  margin: 0 auto;\n  gap: 8px;\n\n  img.leagues {\n    width: 76px;\n  }\n\n  img.default {\n    margin-left: 0;\n  }\n  \n  img.close {\n    width: 30px;\n    cursor: pointer\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    img.leagues {\n      width: 108px;\n    }\n\n    img.close {\n      width: 36px;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    img.leagues {\n      width: 128px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img.leagues {\n      width: 128px;\n    }\n\n    img.close {\n      width: 42px;\n    }\n  }\n"]))),Hi=h.a.div(Rn||(Rn=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: row;\n  flex-wrap: wrap;\n  gap: 4px;\n\n  img.league {\n    width: 52px;\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  img.league._active {\n    opacity: 1;\n  }\n\n  img.default {\n\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    img.league {\n      width: 78px;\n      cursor: pointer;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    gap: 2px;\n    img.league {\n      width: 92px;\n      cursor: pointer;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    gap: 2px;\n    img.league {\n      width: 128px;\n      cursor: pointer;\n    }\n  }\n"]))),Wi=h.a.div(Pn||(Pn=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 8px;\n  gap: 8px;\n\n  img.period {\n    width: 64px;\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  img.period._active {\n    opacity: 1;\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    margin-top: 24px;\n    img.period {\n      width: 88px;\n      cursor: pointer;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    margin-top: 16px;\n    img.period {\n      width: 108px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    margin-top: 16px;\n    img.period {\n      width: 128px;\n    }\n  }\n"]))),Ki=h.a.div(Mn||(Mn=Object(l.a)(["\n  height: 100%;\n  margin-top: 16px;\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    margin-top: 32px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    margin-top: 16px;\n  }\n"]))),Xi=h.a.div(In||(In=Object(l.a)(["\n  background: url('assets/images/lead_thead.png');\n  background-size: contain;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  margin: 0 auto;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  img {\n    width: 36px;\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    img {\n      width: 48px;\n    }\n    padding-top: 8px;\n    padding-bottom: 8px;\n  }\n\n  @media only screen and (min-width: 960px) {\n    img {\n      width: 56px;\n    }\n    padding-top: 6px;\n    padding-bottom: 6px;\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img {\n      width: 64px;\n    }\n    padding-top: 8px;\n    padding-bottom: 8px;\n  }\n"]))),Ji=h.a.div(Bn||(Bn=Object(l.a)(["\n  overflow-y: scroll;\n  height: calc(100% - 124px);\n\n  /* width */\n  ::-webkit-scrollbar {\n    width: 10px;\n    margin-left: 10px;\n    background: #40808a;\n    border-radius: 4px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    border-radius: 4px;\n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: white; \n    border-radius: 4px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: wheat; \n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    height: calc(100% - 196px);\n\n    /* width */\n    ::-webkit-scrollbar {\n      width: 14px;\n      border-radius: 8px;\n    }\n  \n    /* Track */\n    ::-webkit-scrollbar-track {\n      border-radius: 8px;\n    }\n    \n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n    }\n  \n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: wheat; \n    }\n  }\n  \n  @media only screen and (min-width: 960px) {\n    height: calc(100% - 164px);\n\n    /* width */\n    ::-webkit-scrollbar {\n      width: 14px;\n      border-radius: 8px;\n    }\n  \n    /* Track */\n    ::-webkit-scrollbar-track {\n      border-radius: 8px;\n    }\n    \n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      border-radius: 8px;\n    }\n  \n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: wheat; \n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    height: calc(100% - 200px);\n\n    /* width */\n    ::-webkit-scrollbar {\n      width: 18px;\n      border-radius: 10px;\n    }\n  \n    /* Track */\n    ::-webkit-scrollbar-track {\n      border-radius: 10px;\n    }\n    \n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n    }\n  \n    /* Handle on hover */\n    ::-webkit-scrollbar-thumb:hover {\n      background: wheat; \n    }\n  }\n"]))),qi=h.a.div(Cn||(Cn=Object(l.a)(["\n  background: #40808a;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  padding-top: 4px;\n  padding-bottom: 4px;\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    padding-top: 8px;\n    padding-bottom: 8px;\n  }\n\n  @media only screen and (min-width: 960px)  {\n    padding-top: 8px;\n    padding-bottom: 8px;\n  }\n"]))),Zi=h.a.div(Dn||(Dn=Object(l.a)(["\n  width: 15%;\n  padding-left: 16px;\n"]))),Qi=h.a.div(Nn||(Nn=Object(l.a)(["\n  width: 55%;\n  text-align: right;\n\n"]))),$i=h.a.div(Un||(Un=Object(l.a)(["\n  width: 30%;\n  text-align: right;\n  padding-right: 16px;\n\n  img {\n    height: 12px;  \n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait)  {\n    img {\n      height: 16px;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    img {\n      height: 20px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img {\n      height: 22px;\n    }\n  }\n"]))),es=function(e){var t=e.scores,n=e.setIsLeaderboard,i=e.league,s=e.setLeague,a=e.period,o=e.setPeriod;return Object(Nt.jsx)(zi,{children:Object(Nt.jsx)(Vi,{children:Object(Nt.jsxs)(Gi,{children:[Object(Nt.jsxs)(Yi,{children:[Object(Nt.jsx)("img",{className:"leagues",src:"assets/images/lead_leagues.png",alt:"leagues"}),Object(Nt.jsxs)(Hi,{children:[Object(Nt.jsx)("img",{className:"league default ".concat(0===i?"_active":""),onClick:function(){return s(0)},src:"assets/images/lead_default_active.png",alt:"default"}),Object(Nt.jsx)("img",{className:"league ".concat(1===i?"_active":""),onClick:function(){return s(1)},src:"assets/images/lead_bronze_active.png",alt:"bronze"}),Object(Nt.jsx)("img",{className:"league ".concat(2===i?"_active":""),onClick:function(){return s(2)},src:"assets/images/lead_silver_active.png",alt:"silver"}),Object(Nt.jsx)("img",{className:"league ".concat(3===i?"_active":""),onClick:function(){return s(3)},src:"assets/images/lead_gold_active.png",alt:"gold"}),Object(Nt.jsx)("img",{className:"league ".concat(4===i?"_active":""),onClick:function(){return s(4)},src:"assets/images/lead_diamond_active.png",alt:"diamond"}),Object(Nt.jsx)("img",{className:"league ".concat(5===i?"_active":""),onClick:function(){return s(5)},src:"assets/images/lead_platinum_active.png",alt:"platinum"})]}),Object(Nt.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return n(!1)}})]}),Object(Nt.jsxs)(Wi,{children:[Object(Nt.jsx)("img",{className:"period ".concat("weekly"===a?"_active":""),onClick:function(){return o("weekly")},src:"assets/images/lead_weekly_active.png",alt:"weekly"}),Object(Nt.jsx)("img",{className:"period ".concat("monthly"===a?"_active":""),onClick:function(){return o("monthly")},src:"assets/images/lead_monthly_active.png",alt:"monthly"}),Object(Nt.jsx)("img",{className:"period ".concat("all"===a?"_active":""),onClick:function(){return o("all")},src:"assets/images/lead_all_active.png",alt:"all"})]}),Object(Nt.jsxs)(Ki,{children:[Object(Nt.jsxs)(Xi,{children:[Object(Nt.jsx)(Zi,{children:Object(Nt.jsx)("img",{src:"assets/images/lead_rank.png",alt:"rank"})}),Object(Nt.jsx)(Qi,{children:Object(Nt.jsx)("img",{src:"assets/images/lead_name.png",alt:"name"})}),Object(Nt.jsx)($i,{children:Object(Nt.jsx)("img",{src:"assets/images/lead_score.png",alt:"name"})})]}),Object(Nt.jsxs)(Ji,{children:[null===t||void 0===t?void 0:t.map((function(e,t){var n=e.shipName+"  (..."+e.account.slice(-4)+")";return n.indexOf("Crosmocraft")<0&&(n="Crosmocraft #"+e._id),Object(Nt.jsxs)(qi,{children:[Object(Nt.jsx)(Zi,{children:t+1}),Object(Nt.jsx)(Qi,{children:n}),Object(Nt.jsx)($i,{children:e.score})]},t)})),(!t||0===t.length)&&Object(Nt.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"There is no data"})]})]})]})})})},ts=n(518),ns=h.a.div(Fn||(Fn=Object(l.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n  z-index: 9;\n"]))),is=h.a.div(zn||(zn=Object(l.a)(["\n  width: 320px;\n  height: 558px;\n  background: url('assets/images/bg_setting_mobile.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-size: 14px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img.close {\n    position: absolute;\n    top: 32px;\n    right: 12px;\n    width: 30px;\n    cursor: pointer;\n  }\n\n  @media only screen and (min-width: 560px) {\n    font-size: 16px;\n  }\n\n  @media only screen and (min-width: 768px) and (orientation: portrait) {\n    width: 400px;\n    height: 692px;\n    font-size: 18px;\n\n    img.close {\n      position: absolute;\n      top: 40px;\n      right: 18px;\n      width: 36px;\n    }\n  }\n\n  @media only screen and (min-width: 960px) { \n    background: url('assets/images/bg_setting.png');\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n\n    width: 818px;\n    height: 450px;\n\n    img.close {\n      top: 46px;\n      right: 24px;\n      width: 36px;\n    }\n  }\n\n  @media only screen and (min-width: 1440px) { \n    width: 952px;\n    height: 526px;\n\n    img.close {\n      top: 52px;\n      right: 28px;\n      width: 40px;\n    }\n  }\n\n"]))),ss=h.a.div(Vn||(Vn=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  gap: 4px;\n  @media only screen and (min-width: 960px) { \n    margin-top: 30px;\n  }\n"]))),as=h.a.div(Gn||(Gn=Object(l.a)(["\n  width: 92%;\n  padding: 4px 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: ",";\n  border: 2px solid #234955;\n  border-radius: 10px;\n  cursor: pointer;\n  color: ",";\n"])),(function(e){return e.selected?"#0b171a":"#12262c"}),(function(e){return e.selected?"var(--color-yellow)":"white"})),os=h.a.div(Yn||(Yn=Object(l.a)(["\n\n"]))),rs=h.a.div(Hn||(Hn=Object(l.a)(["\n\n"]))),ds=function(e){var t=e.setIsSetting,n=e.keyboard,s=e.setKeboard,a=[{key:"forward",label:"Move Forward",keyboard:n.forward},{key:"left",label:"Move Left",keyboard:n.left},{key:"right",label:"Move Right",keyboard:n.right},{key:"brake",label:"Brake",keyboard:n.brake},{key:"fire",label:"Fire",keyboard:n.fire},{key:"special",label:"Special",keyboard:n.special},{key:"music",label:"Music ON/OFF",keyboard:n.music},{key:"sounds",label:"Sounds ON/OFF",keyboard:n.sounds},{key:"exit",label:"Exit",keyboard:n.exit}],o=Object(i.useState)(void 0),r=Object(d.a)(o,2),l=r[0],c=r[1],p=Object(i.useState)(""),h=Object(d.a)(p,2),u=h[0],m=h[1];Object(i.useEffect)((function(){c(a)}),[]);var y=function(e){return" "===e?"SPACE":"Escape"===e?"ESC":e.startsWith("Arrow")?e.replace("Arrow","").toUpperCase():e.toUpperCase()};return Object(Nt.jsx)(ns,{children:Object(Nt.jsxs)(is,{children:[Object(Nt.jsx)(ss,{children:null===l||void 0===l?void 0:l.map((function(e,t){return Object(Nt.jsxs)(as,{selected:e.key===u,onClick:function(){return m(e.key)},children:[Object(Nt.jsx)(os,{children:e.label}),Object(Nt.jsx)(rs,{children:e.keyboard})]},t)}))}),Object(Nt.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return t(!1)}}),Object(Nt.jsx)(ts.a,{keyName:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,space,esc,up,down,left,right",onKeyDown:function(e,t,n){if(""!==u){a=t.key,s((function(e){return Object(b.a)(Object(b.a)({},e),{},{[u]:y(a)})}));var i=l.map((function(e){return e.key===u&&(e.keyboard=y(t.key)),e}));c(Object(qt.a)(i)),m("")}var a}})]})})},ls=h.a.div(Wn||(Wn=Object(l.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n  z-index: 9;\n"]))),cs=h.a.div(Kn||(Kn=Object(l.a)(["\n  background: url('assets/images/bg_difficulty.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 320px;\n  height: 384px;\n  color: white;\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    width: 488px;\n    height: 600px;\n  }\n\n  @media only screen and (min-width: 1600px) {\n    width: 688px;\n    height: 768px;\n  }\n  \n"]))),ps=h.a.div(Xn||(Xn=Object(l.a)(["\n  text-align: center;\n\n  img.close {\n    position: absolute;\n    width: 30px;\n    cursor: pointer;\n    top: 54px;\n    right: 20px;\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    img.close {\n      width: 42px;\n      top: 78px;\n      right: 28px;\n    }\n  }\n\n  @media only screen and (min-width: 1600px) {\n    img.close {\n      width: 48px;\n      top: 78px;\n      right: 42px;\n    }\n  }\n"]))),hs=h.a.div(Jn||(Jn=Object(l.a)(["\n  margin-top: 86px;\n  margin-bottom: 16px;\n  font-size: 24px;\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    margin-top: 164px;\n    margin-bottom: 32px;\n    font-size: 36px;\n  }\n\n  @media only screen and (min-width: 1600px) {\n    margin-top: 192px;\n    margin-bottom: 40px;\n    font-size: 40px;\n  }\n"]))),us=h.a.div(qn||(qn=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n\n  img.difficulty {\n    width: 108px;\n    margin-top: 10px;\n    cursor: pointer;\n    opacity: 0.5;\n  }\n\n  img.difficulty._active {\n    opacity: 1;\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    img.difficulty {\n      width: 128px;\n      margin-top: 12px;\n    }\n  }\n\n  @media only screen and (min-width: 1600px) {\n    img.difficulty {\n      width: 144px;\n      margin-top: 12px;\n    }\n  }\n"]))),ms=function(e){var t=e.setIsDifficulty,n=e.difficulty,i=e.setDifficulty;return Object(Nt.jsx)(ls,{children:Object(Nt.jsx)(cs,{children:Object(Nt.jsxs)(ps,{children:[Object(Nt.jsx)(hs,{children:"CHOOSE DIFFICULTY"}),Object(Nt.jsxs)(us,{children:[Object(Nt.jsx)("img",{className:"difficulty ".concat("easy"===n?"_active":""),onClick:function(){return i("easy")},src:"assets/images/difficulty_easy_active.png",alt:"easy"}),Object(Nt.jsx)("img",{className:"difficulty ".concat("medium"===n?"_active":""),onClick:function(){return i("medium")},src:"assets/images/difficulty_medium_active.png",alt:"medium"}),Object(Nt.jsx)("img",{className:"difficulty ".concat("hard"===n?"_active":""),onClick:function(){return i("hard")},src:"assets/images/difficulty_hard_active.png",alt:"hard"}),Object(Nt.jsx)("img",{className:"difficulty ".concat("extreme"===n?"_active":""),onClick:function(){return i("extreme")},src:"assets/images/difficulty_extreme_active.png",alt:"extreme"})]}),Object(Nt.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return t(!1)}})]})})})},ys=n(33),gs=n.n(ys),_s=new gs.a.Events.EventEmitter,xs=function(e){return e.PLAYER_JOINED="player-joined",e.PLAYER_UPDATED="player-updated",e.PLAYER_LEFT="player-left",e.PLAYER_DISCONNECTED="player-disconnected",e.MY_PLAYER_READY="my-player-ready",e.MY_PLAYER_NAME_CHANGE="my-player-name-change",e.MY_PLAYER_TEXTURE_CHANGE="my-player-texture-change",e.ITEM_USER_ADDED="item-user-added",e.ITEM_USER_REMOVED="item-user-removed",e.TOKEN_REWARDED="token-rewarded",e.CAN_PLAY="can-play",e.SHIP_DAMAGED="ship-damaged",e.GOTO_MAINMENU="goto-mainmenu",e.TOGGLE_SOUNDS="toggle-sounds",e.EXIST_GAME="exit-game",e.PLAY_AGAIN="play-again",e.BULLET_UPDATED="bullet-updated",e.BULLET_CREATED="bullet-created",e.BULLET_REMOVED="bullet-removed",e.ASTEROID_UPDATED="asteroid-updated",e.ASTEROID_CREATED="asteroid-created",e.ASTEROID_REMOVED="asteroid-removed",e.ASTEROID_SPLIT="asteroid-split",e.AIRDROP_UPDATED="airdrop-updated",e.AIRDROP_CREATED="airdrop-created",e.AIRDROP_REMOVED="airdrop-removed",e.COLLISION_PLAYER_BULLET="collision-player-bullet",e.COLLISION_PLAYER_ASTEROID="collision-player-asteroid",e.COLLISION_BULLET_ASTEROID="collision-bullet-asteroid",e.COLLISION_PLAYER_AIRDROP="collision-player-airdrop",e.ASTEROID_CHANGES_UPDATED="asteroid-changes-updated",e.GAME_TIMEOUT="game-timeout",e}({}),bs=h.a.div(Zn||(Zn=Object(l.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),vs=h.a.div(Qn||(Qn=Object(l.a)(["\n  background: url('assets/images/bg_confirm.png');\n  background-position: center;\n  background-size: cover;\n  @media only screen and (orientation:portrait)  {\n    transform: rotate(90deg);\n  }\n  position: absolute;\n  width: 360px;\n  height: 198px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n\n  @media only screen and (min-width: 860px)  {\n    width: 480px;\n    height: 264px;\n  }\n\n  @media only screen and (min-width: 1024)  {\n    width: 640px;\n    height: 352px;\n  }\n\n  @media only screen and (min-width: 1366px)  {\n    width: 860px;\n    height: 473px;\n  }\n"]))),fs=h.a.div($n||($n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 50px;\n  img {\n    width: 64px;\n    cursor: pointer;\n  }\n\n  @media only screen and (min-width: 860px)  {\n    img {\n      width: 80px;\n    }\n  }\n\n  @media only screen and (min-width: 1024)  {\n    img {\n      width: 96px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px)  {\n    img {\n      width: 112px;\n    }\n  }\n"]))),ws=function(){return Object(Nt.jsx)(bs,{children:Object(Nt.jsx)(vs,{children:Object(Nt.jsxs)(fs,{children:[Object(Nt.jsx)("img",{src:"assets/images/btn_yes.png",alt:"yes",onClick:function(){return _s.emit(xs.EXIST_GAME),void wt.dispatch($e(!1))}}),Object(Nt.jsx)("img",{src:"assets/images/btn_no.png",alt:"no",onClick:function(){return wt.dispatch($e(!1))}})]})})})},Os=[{inputs:[{internalType:"string",name:"_initBaseURI",type:"string"},{internalType:"address",name:"_shipParts",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"SHIP1",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIP2",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SHIP3",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"adminAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"airDropNFT",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseExtension",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"canMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"curIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getInfo",outputs:[{components:[{internalType:"uint256",name:"regularCost",type:"uint256"},{internalType:"uint256",name:"memberCost",type:"uint256"},{internalType:"uint256",name:"whitelistCost",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"},{internalType:"uint256",name:"totalSupply",type:"uint256"},{internalType:"uint256",name:"maxMintPerAddress",type:"uint256"},{internalType:"uint256",name:"maxMintPerTx",type:"uint256"}],internalType:"struct IDrop.Info",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"greatId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"greatMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"legendId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"legendMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMintAmount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32",name:"shipType",type:"bytes32"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"mintCost",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_state",type:"bool"}],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"regularId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"regularMaxSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_holders",type:"address[]"},{internalType:"uint256[]",name:"_counts",type:"uint256[]"}],name:"setAirDropCounts",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseExtension",type:"string"}],name:"setBaseExtension",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_newBaseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shipParts",outputs:[{internalType:"contract ShipItems",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_owner",type:"address"}],name:"walletOfOwner",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdrawAll",outputs:[],stateMutability:"nonpayable",type:"function"}],Es=[{inputs:[{internalType:"address",name:"_crosmoToken",type:"address"},{internalType:"address",name:"_crosmoCraft",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"REPAIRE_COOLDOWN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"UPGRADE_COST",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"claimReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"craftStatus",outputs:[{internalType:"uint256",name:"lastUpdated",type:"uint256"},{internalType:"uint8",name:"tier",type:"uint8"},{internalType:"uint8",name:"damagedLevel",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoCraft",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoPilot",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoStation",outputs:[{internalType:"contract IERC721",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crosmoToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"enterGame",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"getCraftStatus",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint8",name:"",type:"uint8"},{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_player",type:"address"}],name:"getRewardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"player",type:"address"}],name:"hasCrosmoStation",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"score",type:"uint256"},{internalType:"address",name:"player",type:"address"},{internalType:"uint256",name:"craftID",type:"uint256"}],name:"playSession",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"scale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_pilot",type:"address"}],name:"setCrosmoPilot",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_station",type:"address"}],name:"setCrosmoStation",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"updateCraftStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"craftID",type:"uint256"}],name:"upgradeCraft",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"}],Ss=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"account",type:"address"}],name:"Unpaused",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"}],js=h.a.div(ei||(ei=Object(l.a)(["\n  width: 100%;\n"]))),ks=h.a.div(ti||(ti=Object(l.a)(["\n  width: 100%;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n"]))),As=h.a.div(ni||(ni=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n"]))),Ts=h.a.div(ii||(ii=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  img {\n    width: 90%;\n  }\n\n  @media only screen and (min-width: 560px) {\n    img {\n      width: 84%;\n    }\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    img {\n      width: 80%;\n    }\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait) {\n    img {\n      width: 80%;\n    }\n  }\n\n  @media only screen and (min-width: 860px) and (orientation:portrait) {\n    img {\n      width: 80%;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    img {\n      width: 50%;\n    }\n  }\n\n  @media only screen and (min-width: 1024px) {\n    img {\n      width: 50%;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img {\n      width: 600px;\n    }\n  }\n\n  @media only screen and (min-width: 1600px) {\n    img {\n      width: 700px;\n    }\n  }\n"]))),Ls=h.a.div(si||(si=Object(l.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  \n  img {\n    cursor: pointer;\n    margin-top: 8px;\n  }\n  \n  img.play, img.setting {\n    width: 180px;\n  }\n\n  img.playmulti {\n    &:hover {\n      box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;\n    }\n  }\n\n  @media only screen and (min-width: 560px) {\n    img.play, img.setting {\n      width: 210px;\n    }\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    img.play, img.setting {\n      width: 232px;\n    }\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait) {\n    img.play, img.setting {\n      width: 264px;\n    }\n  }\n\n  @media only screen and (min-width: 860px) and (orientation:portrait) {\n    img.play, img.setting {\n      width: 284px;\n    }\n  }\n\n  @media only screen and (min-width: 960px){\n    img.play, img.setting {\n      width: 264px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px){\n    img.play, img.setting {\n      width: 284px;\n    }\n  }\n"]))),Rs=h.a.div(ai||(ai=Object(l.a)(["\n  position: absolute;\n  right: 12px;\n  bottom: 12px;\n  img {\n    width: 42px;\n    cursor: pointer;\n  }\n\n  @media only screen and (min-width: 560px) {\n    right: 16px;\n    bottom: 16px;\n\n    img {\n      width: 52px;\n    }\n  }\n\n  @media only screen and (min-width: 640px) and (orientation:portrait) {\n    img {\n      width: 56px;\n    }\n  }\n\n  @media only screen and (min-width: 768px) and (orientation:portrait) {\n\n  }\n\n  @media only screen and (min-width: 860px) and (orientation:portrait) {\n    img {\n      width: 60x;\n    }\n  }\n\n  @media only screen and (min-width: 960px) {\n    img {\n      width: 56px;\n    }\n  }\n\n  @media only screen and (min-width: 1366px) {\n    img {\n      width: 64px;\n    }\n  }\n\n  @media only screen and (min-width: 1600px) {\n    img {\n      width: 70px;\n    }\n  }\n\n"]))),Ps=h.a.div(oi||(oi=Object(l.a)(["\n  position: fixed;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  background: #00000066;\n  z-index: 9;\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 960px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 860px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 768px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 639px) {\n    \n  }\n\n  @media only screen and (max-width: 560px) {\n    \n  }\n\n  @media only screen and (max-width: 480px) {\n    \n  }\n"]))),Ms=h.a.div(ri||(ri=Object(l.a)(["\n  background: url('assets/images/bg_multiplayer.png');\n  background-repeat: no-repeat;\n  background-position: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 600px;\n  height: 576px;\n  background-size: contain;\n  color: white;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 960px) and (orientation:landscape) {\n    height: 90%;\n    background-size: 150%;\n  }\n\n  @media only screen and (max-width: 860px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 768px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 960px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 860px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 768px) and (orientation:portrait) {\n    \n  }\n\n  @media only screen and (max-width: 639px) {\n    width: 92%;\n    height: 80%;\n    background-size: cover;\n    z-index: 9;\n  }\n\n  @media only screen and (max-width: 560px) {\n    \n  }\n\n  @media only screen and (max-width: 480px) {\n    \n  }\n"]))),Is=h.a.div(di||(di=Object(l.a)(["\n  text-align: center;\n  height: calc(100% - 76px);\n  margin-top: 76px;\n\n  img.close {\n    position: absolute;\n    width: 36px;\n    cursor: pointer;\n    right: 8px;\n    top: 22px;\n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 960px) and (orientation:landscape) {\n    height: calc(100% - 36px);\n    margin-top: 36px;\n\n    img.close {\n      width: 32px;\n      right: 0px;\n      top: 0px;\n    }\n  }\n\n  @media only screen and (max-width: 860px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 768px) and (orientation:landscape) {\n    \n  }\n\n  @media only screen and (max-width: 639px) {\n    height: calc(100% - 108px);\n    margin-top: 108px;\n    img.close {\n      position: absolute;\n      width: 32px;\n      cursor: pointer;\n      right: 0px;\n      top: 18px;\n    }\n  }\n\n  @media only screen and (max-width: 560px) {\n    \n  }\n\n  @media only screen and (max-width: 480px) {\n    height: calc(100% - 64px);\n    margin-top: 64px;\n  }\n"]))),Bs=h.a.div(li||(li=Object(l.a)(["\n    width: calc(100% - 46px);\n    margin: 0 auto;\n    height: 100%;\n\n    @media only screen and (max-width: 639px) {\n      width: 94%;\n    }\n  \n    @media only screen and (max-width: 560px) {\n      \n    }\n  \n    @media only screen and (max-width: 480px) {\n      \n    }\n"]))),Cs=h.a.div(ci||(ci=Object(l.a)(["\n  background: url('assets/images/lead_thead.png');\n  background-size: contain;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  font-size: 24px;\n  padding: 8px 0px;\n\n  @media only screen and (max-width: 960px) and (orientation:landscape) {\n    font-size: 18px;\n    padding: 8px 0px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    font-size: 18px;\n    padding: 8px 0px;\n  }\n\n  @media only screen and (max-width: 560px) {\n    \n  }\n\n  @media only screen and (max-width: 480px) {\n    \n  }\n"]))),Ds=h.a.div(pi||(pi=Object(l.a)(["\n  height: calc(100% - 76px);\n  overflow-y: auto;\n\n  /* width */\n  ::-webkit-scrollbar {\n    width: 20px;\n    margin-left: 10px;\n    background: #40808a;\n    border-radius: 8px;\n  }\n\n  /* Track */\n  ::-webkit-scrollbar-track {\n    border-radius: 8px;\n  }\n  \n  /* Handle */\n  ::-webkit-scrollbar-thumb {\n    background: white; \n    border-radius: 8px;\n  }\n\n  /* Handle on hover */\n  ::-webkit-scrollbar-thumb:hover {\n    background: wheat; \n  }\n"]))),Ns=h.a.div(hi||(hi=Object(l.a)(["\n  opacity: ",";\n  background: #40808a;\n  border: 1px solid black;\n  border-radius: 10px;\n  display: flex;\n  align-items: center;\n  height: 40px;\n  width: 100%;\n  margin-top: 3px;\n  &:hover {\n    cursor: pointer;\n    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;\n  }\n"])),(function(e){return null!==e&&void 0!==e&&e.joinable?1:.5})),Us=h.a.div(ui||(ui=Object(l.a)(["\n  width: 30%;\n  padding-left: 8px;\n"]))),Fs=h.a.div(mi||(mi=Object(l.a)(["\n  width: 15%;\n"]))),zs=h.a.div(yi||(yi=Object(l.a)(["\n  width: 15%;\n"]))),Vs=h.a.div(gi||(gi=Object(l.a)(["\n  width: 20%;\n"]))),Gs=h.a.div(_i||(_i=Object(l.a)(["\n  width: 20%;\n"]))),Ys=function(e){return e.OvO="1X1",e.DvD="2X2",e.TvT="3X3",e}({}),Hs=function(e){var t=e.setShowMultiJoin,n=e.setIsViewMulti,s=e.playMultiplayer,a=e.PhaserGame,o=Object(i.useState)(""),r=Object(d.a)(o,2),l=(r[0],r[1],Object(i.useState)("")),c=Object(d.a)(l,2),p=(c[0],c[1],Object(i.useState)(!1)),h=Object(d.a)(p,2),u=(h[0],h[1],Object(i.useState)(!1)),y=Object(d.a)(u,2),g=(y[0],y[1]),_=Object(i.useState)(!1),x=Object(d.a)(_,2),b=(x[0],x[1],m((function(e){return e.room.lobbyJoined}))),v=m((function(e){return e.room.availableRooms}));Object(i.useEffect)((function(){}),[v]);var f=function(e,t){b&&a.scene.keys.boot._network.joinCustomById(e,t).then((function(){n(!1),s()})).catch((function(e){console.error(e),t&&g(!0)}))};return Object(Nt.jsx)(Ps,{children:Object(Nt.jsx)(Ms,{children:Object(Nt.jsxs)(Is,{children:[Object(Nt.jsx)("img",{className:"close",src:"assets/images/btn_close.png",alt:"close",onClick:function(){return t(!1)}}),Object(Nt.jsxs)(Bs,{children:[Object(Nt.jsxs)(Cs,{children:[Object(Nt.jsx)(Us,{children:"ID"}),Object(Nt.jsx)(Fs,{children:"Mode"}),Object(Nt.jsx)(zs,{children:"Map"}),Object(Nt.jsx)(Vs,{children:"Players"}),Object(Nt.jsx)(Gs,{children:"Cost"})]}),Object(Nt.jsxs)(Ds,{children:[null===v||void 0===v?void 0:v.map((function(e,t){var n,i,s;return Object(Nt.jsxs)(Ns,{onClick:function(){var t;(null===e||void 0===e?void 0:e.maxClients)>(null===e||void 0===e?void 0:e.clients)&&(f(null===e||void 0===e?void 0:e.roomId,null),wt.dispatch(Ye(function(e){var t=1;switch(e){case Ys.OvO:t=1;break;case Ys.DvD:t=2;break;case Ys.TvT:t=3}return t}(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.roomMode))))},joinable:(null===e||void 0===e?void 0:e.maxClients)>(null===e||void 0===e?void 0:e.clients),children:[Object(Nt.jsx)(Us,{children:null===e||void 0===e?void 0:e.roomId}),Object(Nt.jsx)(Fs,{children:null===e||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.roomMode}),Object(Nt.jsx)(zs,{children:null===e||void 0===e||null===(i=e.metadata)||void 0===i?void 0:i.mapMode}),Object(Nt.jsx)(Vs,{children:(null===e||void 0===e?void 0:e.clients)||0}),Object(Nt.jsx)(Gs,{children:(null===e||void 0===e||null===(s=e.metadata)||void 0===s?void 0:s.cost)||0})]},t)})),(!v||0===v.length)&&Object(Nt.jsx)("div",{style:{textAlign:"center",marginTop:20},children:"There is no any Room!"})]})]})]})})})},Ws=function(e){return e.Blank="Blank",e.Asteroid="Asteroid",e}({}),Ks=h.a.div(xi||(xi=Object(l.a)(["\n  width: 100%;\n  max-width: 1700px;\n  margin: 0 auto;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    margin-top: 10%;\n  }\n\n  @media only screen and (max-width: 639px) {\n    max-width: 100%;\n    margin-top: 10%;\n  }\n\n  @media only screen and (max-width: 560px) {\n    max-width: 100%;\n    margin-top: 45%;\n  }\n}\n"]))),Xs=h.a.div(bi||(bi=Object(l.a)(["\n  width: 88%;\n  max-width: 980px;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    width: 92%;\n    max-width: 100%;\n  }\n  \n  @media only screen and (max-width: 639px) {\n    width: 92%;\n  }\n"]))),Js=(h.a.h3(vi||(vi=Object(l.a)(["\n  font-size: 25px;\n  color: white;\n  text-align: center;\n  font-weight: normal;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    p {\n      font-size: 24px;\n      color: #FFFFFF;\n    }\n    img {\n      width: 90%;\n    }\n  }\n\n  @media only screen and (max-width: 639px) {\n    p {\n      font-size: 24px;\n      color: #FFFFFF;\n    }\n    img {\n      width: 90%;\n    }\n  }\n"]))),h.a.div(fi||(fi=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  @media only screen and (max-width: 639px) {\n    display: block;\n  }\n"])))),qs=h.a.div(wi||(wi=Object(l.a)(["\n  width: 70%;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    width: 50%;\n  }\n  \n  @media only screen and (max-width: 639px) {\n    width: 100%;\n    max-width: 100%;\n  }\n\n  @media only screen and (max-width: 560px) {\n    \n  }\n\n  @media only screen and (max-width: 480px) {\n    \n  }\n"]))),Zs=h.a.div(Oi||(Oi=Object(l.a)(["\n  text-align: center;\n  margin-bottom: 10px;\n  p {\n    font-size: 48px;\n    color: #FFFFFF;\n  }\n  img {\n    width: 450px;\n  }\n  \n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    margin-bottom: 8px;\n    p {\n      font-size: 24px;\n      color: #FFFFFF;\n    }\n    img {\n      width: 78%;\n    }\n  }\n\n  @media only screen and (max-width: 639px) {\n    margin-bottom: 16px;\n    p {\n      font-size: 38px;\n      color: #FFFFFF;\n    }\n    img {\n      width: 90%;\n    }\n  }\n"]))),Qs=h.a.div(Ei||(Ei=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n"]))),$s=h.a.div(Si||(Si=Object(l.a)(["\n  width: 425px;\n  height: 460px;\n  background-size: contain;\n  margin: 0 auto;\n  display: flex;\n\n  --swiper-navigation-size: 24px;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    width: 226px;\n    height: 226px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    width: 312px;\n    height: 312px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    width: 264px;\n    height: 264px;\n    max-height: fit-content;\n  }\n\n  .swiper-container {\n    width: 425px;\n    height: 440px;\n    border-radius: 8px;\n    overflow: hidden;\n\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      height: 226px;\n    }\n    \n\n    @media only screen and (max-width: 639px) {\n      width: 312px;\n      height: 312px;\n    }\n  }\n\n  .swiper-container .swiper-button-next::after,\n  .swiper-container .swiper-button-prev::after {\n    content: none;\n  }\n\n  .swiper-slide {\n    height: 440px;\n    margin-left: 0px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      height: 235px;\n    }\n\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      height: 264px;\n    }\n  }\n\n  .swiper-slide img.create-game {\n    width: 100%;\n    height: 100%;\n    object-fit: cover\n  }\n\n  .swiper-slide p.title {\n    position: absolute;\n    color: white;\n    font-size: 36px;\n  }\n\n  .swiper-slide img.ship {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n\n  .swiper-slide img.shield {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  \n  .swiper-slide img.broken {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  .swiper-slide img.crosmonaut {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  .swiper-slide img.background {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  .swiper-slide img.on_background {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n      top: -30px;\n    }\n  }\n  .swiper-slide img.booster {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  .swiper-slide img.weapon {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  \n  .swiper-slide img.banner {\n    position: absolute;\n    width: 400px;\n    top: 0px;\n    left: 12px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      top: -36px;\n      left: 0px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      left: 0px;\n    }\n  }\n  .swiper-slide img.tier {\n    position: absolute;\n    width: 80px;\n    top: 20px;\n    right: 33px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      top: 0px;\n      left: 0px;\n    }\n  }\n  \n  .swiper-slide img.avatarBg {\n    position: absolute;\n    top: -46px;\n    left: 2px;\n    width: 421px;\n    height: 462px;\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      height: 226px;\n      top: -45px;\n      left: 1px;\n    }\n    @media only screen and (max-width: 480px) {\n      width: 264px;\n      height: 264px;\n      top: -26px;\n      left: 0;\n      height: calc(100% + 30px);\n    }\n  }\n\n  .swiper-slide p.name {\n    position: absolute;\n    top: -15px;\n    left: calc(50% );\n    transform: translate(-50%, 0);\n    font-size: 16px;\n    color: var(--color-yellow);\n\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 226px;\n      width: 226px;\n      text-align: center;\n      top: -32px;\n    }\n\n    @media only screen and (max-width: 480px) {\n      top: -20px;\n      top: -16px;\n      width: 264px;\n      text-align: center;\n    }\n  }\n\n  .swiper-slide p.tier {\n    position: absolute;\n    left: calc(50% - 10px);\n    bottom: 50px;\n    transform: translate(-50%, 0);\n    font-size: 16px;\n    color: var(--color-yellow);\n  }\n"]))),ea=h.a.div(ji||(ji=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  \n  img {\n    width: 50px;\n    height: 55px;\n    cursor: pointer;\n\n    @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n      width: 30px;\n      height: 30x;\n    }\n\n    @media only screen and (max-width: 480px) {\n      width: 32px;\n      height: 32px;\n      margin-top: 26px;\n    }\n  }\n"]))),ta=h.a.div(ki||(ki=Object(l.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  height: 300px;\n  flex-direction: column;\n  margin-top: 65px;\n\n  color: var(--color-yellow);\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    width: 50%;\n    height: auto;\n    margin-top: 0;\n    justify-content: center;\n  }\n\n  @media only screen and (max-width: 639px) {\n    width: 100%;\n    margin-top: 32px;\n  }\n\n  @media only screen and (max-width: 480px) {\n    width: 100%;\n    height: auto;\n    margin-top: 32px;\n  }\n"]))),na=h.a.div(Ai||(Ai=Object(l.a)(["\n  font-size: 23px;\n  text-align: center;\n  span {\n    padding-top: 4px;\n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    font-size: 18px;\n    margin-bottom: 8px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n"]))),ia=(h.a.div(Ti||(Ti=Object(l.a)(["\n  padding: 8px 10px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n  background: rgba(40,13,95,1);\n  color: white;\n  cursor: pointer;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    font-size: 18px;\n    margin-bottom: 8px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n"]))),h.a.div(Li||(Li=Object(l.a)(["\n  background: url('assets/images/avatar_join.png');\n  font-size: 30px;\n  background-size: contain;\n  background-repeat: no-repeat;\n  width: 132px;\n  height: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  cursor: pointer;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    width: 102px;\n    height: 38px;\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    width: 102px;\n    height: 38px;\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n"])))),sa=h.a.div(Ri||(Ri=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  img.room {\n    width: 80px;\n    object-fit: cover;\n    opacity: 0.45;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  img.room.selected {\n    opacity: 1 !important\n  }\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    margin-bottom: 8px;\n    font-size: 18px;\n  }\n"])));h.a.div(Pi||(Pi=Object(l.a)(["\n  width: 80px;\n  margin-right: 4px;\n  margin-left: 4px;\n  padding: 8px 10px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 18px;\n  background-image: ",";\n  color: white;\n  cursor: pointer;\n\n  @media only screen and (max-width: 1024px) and (orientation:landscape)  {\n    margin-bottom: 8px;\n  }\n\n  @media only screen and (max-width: 639px) {\n    margin-bottom: 8px;\n  }\n"])),(function(e){return e.bgColor}));an.a.use([on.a]);var aa,oa,ra,da,la,ca=function(e){var t=e.setIsViewMulti,n=e.playMultiplayer,s=e.PhaserGame,a=Object(i.useState)(""),o=Object(d.a)(a,2),r=o[0],l=(o[1],Object(i.useState)(!1)),c=Object(d.a)(l,2),p=c[0],h=c[1],u=Object(i.useState)(""),y=Object(d.a)(u,2),g=y[0],_=(y[1],Object(i.useState)(Ys.OvO)),x=Object(d.a)(_,2),b=x[0],v=x[1],f=Object(i.useState)(Ws.Blank),w=Object(d.a)(f,2),O=w[0],E=w[1],S=Object(i.useState)(0),j=Object(d.a)(S,2),k=j[0],A=(j[1],Object(i.useState)("")),T=Object(d.a)(A,2),L=T[0],R=(T[1],Object(i.useState)(!1)),P=Object(d.a)(R,2),M=(P[0],P[1],m((function(e){return e.room.lobbyJoined}))),I=(m((function(e){return e.room.availableRooms})),Object(i.useRef)(null));return Object(Nt.jsxs)(Nt.Fragment,{children:[Object(Nt.jsx)(Ks,{children:Object(Nt.jsx)(Xs,{children:Object(Nt.jsxs)(Js,{children:[Object(Nt.jsxs)(qs,{children:[Object(Nt.jsx)(Zs,{children:Object(Nt.jsx)("p",{children:"Select The Game Mode"})}),Object(Nt.jsxs)(Qs,{children:[Object(Nt.jsx)(ea,{onClick:function(){return I.current.swiper.slidePrev()},children:Object(Nt.jsx)("img",{src:"assets/images/avatar_prev.png",alt:"prev"})}),Object(Nt.jsx)($s,{children:Object(Nt.jsx)(nn.a,{ref:I,navigation:!0,spaceBetween:0,slidesPerView:1,onSlideChange:function(e){switch(e.activeIndex){case 0:default:E(Ws.Blank);break;case 1:E(Ws.Asteroid)}},children:Object.keys(Ws).map((function(e,t){return Object(Nt.jsxs)(sn.a,{children:[Object(Nt.jsx)("img",{className:"create-game",src:"assets/images/mapmode/".concat(e,".jpg"),alt:e}),Object(Nt.jsxs)("p",{className:"title",children:[e," MAP"]})]},t)}))})}),Object(Nt.jsx)(ea,{onClick:function(){return I.current.swiper.slideNext()},children:Object(Nt.jsx)("img",{src:"assets/images/avatar_next.png",alt:"next"})})]})]}),Object(Nt.jsxs)(ta,{children:[Object(Nt.jsx)(na,{children:"Select The Play Mode"}),Object(Nt.jsx)(sa,{children:Object.values(Ys).map((function(e,t){return Object(Nt.jsx)("img",{className:"room ".concat(b==e?"selected":""),src:"assets/images/roommode/".concat(e,".png"),alt:e,onClick:function(){return v(e)}},t)}))}),Object(Nt.jsxs)(na,{children:["Cost: ",k," Crons"]}),Object(Nt.jsx)(ia,{onClick:function(e){if(e.preventDefault(),M){var i=s.scene.keys.boot;wt.dispatch(Ye(function(e){var t=3;switch(e){case Ys.OvO:t=1;break;case Ys.DvD:t=2;break;case Ys.TvT:t=3}return t}(b))),i._network.createCustom({name:"",password:L,autoDispose:!0,roomMode:b,mapMode:O,cost:k}).then((function(){t(!1),n()})).catch((function(e){return console.error(e)}))}},children:"Create"})]})]})})}),Object(Nt.jsx)(cn,{noticeMsg:r,showNotice:p,setShowNotice:h,severity:g})]})},pa=n(512),ha=function(e){return Object(Nt.jsx)(pa.Joystick,{size:75,baseColor:"#4b4b4b70",stickColor:"#42eacb80",stop:function(t){var n,i,s=null!==(n=t.y)&&void 0!==n?n:0,a=(null!==(i=t.x)&&void 0!==i?i:0)-0,o=0-s,r=(180*Math.atan2(o,a)/Math.PI+360)%360;e.onDirectionChange({isMoving:!1,direction:r})},move:function(t){var n,i,s=null!==(n=t.y)&&void 0!==n?n:0,a=(null!==(i=t.x)&&void 0!==i?i:0)-0,o=0-s,r=(180*Math.atan2(o,a)/Math.PI+360)%360;e.onDirectionChange({isMoving:!0,direction:r})}})},ua=h.a.div(aa||(aa=Object(l.a)(["\n  position: fixed;\n  bottom: 32px;\n  left: 16px;\n  max-width: 100%;\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    top: 32px;\n  }\n"]))),ma=h.a.div(oa||(oa=Object(l.a)(["\n  position: relative;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n"]))),ya=h.a.div(ra||(ra=Object(l.a)(["\n  margin-top: auto;\n  align-self: flex-end;\n"])));function ga(e){var t=e.isMultiplayer,n=e.PhaserGame,s=function(e){var t=Object(i.useState)(window.innerWidth),n=Object(d.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),s<=e}(1024),a=n.scene.keys.multiplay,o=n.scene.keys.play;return Object(Nt.jsx)(ua,{children:Object(Nt.jsx)(ma,{children:s&&Object(Nt.jsx)(ya,{children:Object(Nt.jsx)(ha,{onDirectionChange:function(e){var n,i;t?null===(n=a._myShip)||void 0===n||n.handleJoystickMovement(e):null===(i=o._myShip)||void 0===i||i.handleJoystickMovement(e)}})})})})}var _a,xa,ba=h.a.div(da||(da=Object(l.a)(["\n  position: fixed;\n  bottom: 40px;\n  right: 20px;\n\n  @media only screen and (max-width: 1024px) and (orientation:portrait) {\n    bottom: 36px;\n    left: 24px;\n  }\n"]))),va=h.a.img(la||(la=Object(l.a)(["\n  border-radius: 50%;\n  width: 46px;\n  height: 46px;\n"])));function fa(e){var t,n=e.isMultiplayer,s=e.PhaserGame,a=function(e){var t=Object(i.useState)(window.innerWidth),n=Object(d.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),s<=e}(1024),o=s.scene.keys.multiplay,r=s.scene.keys.play;return Object(Nt.jsx)(Nt.Fragment,{children:a&&Object(Nt.jsx)(ba,{onTouchStart:function(){return function(){var e,i;n?null===(e=o._myShip)||void 0===e||e._gunModule.setTriggerHeld(!0):null===(i=r._myShip)||void 0===i||i._gunModule.setTriggerHeld(!0),t=setInterval((function(){var e,t;n?null===(e=o._myShip)||void 0===e||e._gunModule.setTriggerHeld(!0):null===(t=r._myShip)||void 0===t||t._gunModule.setTriggerHeld(!0)}),50)}()},onTouchEnd:function(){return function(){var e,i,s,a;n?null===(e=o._myShip)||void 0===e||e._gunModule.setTriggerHeld(!1):null===(i=r._myShip)||void 0===i||i._gunModule.setTriggerHeld(!1),clearInterval(t),n?null===(s=o._myShip)||void 0===s||s._gunModule.setTriggerHeld(!1):null===(a=r._myShip)||void 0===a||a._gunModule.setTriggerHeld(!1)}()},children:Object(Nt.jsx)(va,{src:"assets/images/icon_DOUBLE_BULLET.png",alt:"Fire Button"})})})}var wa=h.a.div(_a||(_a=Object(l.a)(["\n  position: fixed;\n  right: 96px;\n  bottom: 40px;\n"]))),Oa=h.a.img(xa||(xa=Object(l.a)([";\n  width: 46px;\n  height: 46px;\n  border-radius: 50%;\n"])));function Ea(e){var t=e.isMultiplayer,n=e.PhaserGame,s=function(e){var t=Object(i.useState)(window.innerWidth),n=Object(d.a)(t,2),s=n[0],a=n[1];return Object(i.useEffect)((function(){var e=function(){return a(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),s<=e}(1024),a=n.scene.keys.multiplay,o=n.scene.keys.play,r=function(){t?a._myShip._hasAtomic&&(a._network.specialKeyIsDown(!0),a._myShip._hasAtomic=!1,wt.dispatch(Qe(!1))):o._myShip._hasAtomic&&(o.spawnRegionBullet(o._center.x,o._center.y,o,"atomic"),o._myShip._hasAtomic=!1,wt.dispatch(Qe(!1)))};return Object(Nt.jsx)(Nt.Fragment,{children:s&&Object(Nt.jsx)(wa,{onTouchStart:function(){return r()},onTouchEnd:function(){return r()},children:Object(Nt.jsx)(Oa,{src:"assets/images/icon_ATOMIC_BULLET.png",alt:"Fire Button"})})})}var Sa=n(7),ja=n(6),ka=n(9),Aa=n(10),Ta=n(513),La=n.n(Ta),Ra=n(514),Pa=function(e){return e[e.GET_PLAYERS=0]="GET_PLAYERS",e[e.UPDATE_PLAYER=1]="UPDATE_PLAYER",e[e.UPDATE_SCORE=2]="UPDATE_SCORE",e[e.UPDATE_PLAYER_NAME=3]="UPDATE_PLAYER_NAME",e[e.READY_TO_CONNECT=4]="READY_TO_CONNECT",e[e.SEND_ROOM_DATA=5]="SEND_ROOM_DATA",e[e.SEND_OTHER_DATA=6]="SEND_OTHER_DATA",e[e.UPDATE_BULLET=7]="UPDATE_BULLET",e[e.COLLIDE_PLAYER_BULLET=8]="COLLIDE_PLAYER_BULLET",e[e.COLLIDE_BULLET_ASTEROID=9]="COLLIDE_BULLET_ASTEROID",e[e.COLLIDE_PLAYER_ASTEROID=10]="COLLIDE_PLAYER_ASTEROID",e[e.COLLIDE_PLAYER_AIRDROP=11]="COLLIDE_PLAYER_AIRDROP",e[e.GAMEPLAY_READY=12]="GAMEPLAY_READY",e[e.ATOMIC_EXPLODE=13]="ATOMIC_EXPLODE",e[e.CS_ASTEROID_CREATE=14]="CS_ASTEROID_CREATE",e[e.CS_ASTEROID_REMOVE=15]="CS_ASTEROID_REMOVE",e[e.CS_PLAYER_AIRDROP=16]="CS_PLAYER_AIRDROP",e[e.SC_BULLET_CREATE=17]="SC_BULLET_CREATE",e[e.SEND_GAME_TIMEOUT=18]="SEND_GAME_TIMEOUT",e}({}),Ma=function(){function e(){Object(Sa.a)(this,e),this._client=void 0,this._room=void 0,this._lobby=void 0,this._asteroidsMap=new Map,this._mySessionId=void 0,this._dtServer2Client=void 0;var t="wss://crosmoshooter.com/server";console.log("connect to ",t," at : ",(new Date).getTime()),this._client=new Ra.Client(t),this.joinLobbyRoom().then((function(){console.log("success connect  at : ",(new Date).getTime()),wt.dispatch(Be(!0))})),_s.on(xs.MY_PLAYER_NAME_CHANGE,this.updatePlayerName,this),_s.on(xs.MY_PLAYER_TEXTURE_CHANGE,this.updatePlayer,this)}return Object(ja.a)(e,[{key:"joinLobbyRoom",value:function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.joinOrCreate(Re.LOBBY);case 2:this._lobby=e.sent,this._lobby.onMessage("rooms",(function(e){wt.dispatch(Ue(e))})),this._lobby.onMessage("+",(function(e){var t=Object(d.a)(e,2),n=t[0],i=t[1];wt.dispatch(Fe({roomId:n,room:i}))})),this._lobby.onMessage("-",(function(e){wt.dispatch(ze(e))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRoomData",value:function(){return{a:this._lobby,b:this._room}}},{key:"joinOrCreatePublic",value:function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.joinOrCreate(Re.PUBLIC);case 2:this._room=e.sent,this.initialize();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createCustom",value:function(){var e=Object(g.a)(Object(y.a)().mark((function e(t){var n,i,s,a,o,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,i=t.password,s=t.autoDispose,a=t.roomMode,o=t.mapMode,r=t.cost,e.next=3,this._client.create(Re.CUSTOM,{name:n,password:i,autoDispose:s,roomMode:a,mapMode:o,cost:r});case 3:this._room=e.sent,this.initialize();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"joinCustomById",value:function(){var e=Object(g.a)(Object(y.a)().mark((function e(t,n){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._client.joinById(t,{password:n});case 2:this._room=e.sent,this.initialize();case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=this;this._room&&(this._lobby.leave(),this._mySessionId=this._room.sessionId,wt.dispatch(ue(this._room.sessionId)),this._room.onMessage(Pa.SEND_ROOM_DATA,(function(e){wt.dispatch(Ne(e))})),this._room.onMessage(Pa.SEND_OTHER_DATA,(function(e){_s.emit(xs.PLAYER_JOINED,e.player,e.id)})),this._room.onMessage(Pa.SEND_GAME_TIMEOUT,(function(e){_s.emit(xs.GAME_TIMEOUT,e.IsMulti),wt.dispatch($e(!1))})),this._room.onMessage(Pa.GET_PLAYERS,(function(e){wt.dispatch(Ve(Object.entries(null===e||void 0===e?void 0:e.players).map((function(e){var t=Object(d.a)(e,2);return{id:t[0],val:t[1]}}))))})),this._room.state.players&&(this._room.state.players.onAdd=function(t,n){n!==e._mySessionId&&(wt.dispatch(Ge(e._mySessionId)),t.onChange=function(i){_s.emit(xs.PLAYER_UPDATED,i,n),i.forEach((function(i){var s=i.field,a=i.value;n===e._mySessionId||(_s.emit(xs.PLAYER_UPDATED,s,a,n),"account"===s&&""!==a&&(_s.emit(xs.PLAYER_JOINED,t,n),wt.dispatch(we({id:n,name:a}))))}))})}),this._room.state.players.onRemove=function(e,t){_s.emit(xs.PLAYER_LEFT,t),wt.dispatch(Oe(t))},this._room.state.bullets.onAdd=function(e,t){_s.emit(xs.BULLET_CREATED,e,t)},this._room.state.bullets.onRemove=function(e,t){_s.emit(xs.BULLET_REMOVED,t)},this._room.state.asteroids.onAdd=function(t,n){e._asteroidsMap.set(n,t),_s.emit(xs.ASTEROID_CREATED,t,n),t.onChange=function(t){_s.emit(xs.ASTEROID_CHANGES_UPDATED,t,n),t.forEach((function(t){var n=t.field,i=t.value;"curServerTime"===n&&e.setDtServer2Client(i)}))}},this._room.state.asteroids.onRemove=function(e,t){_s.emit(xs.ASTEROID_REMOVED,t)},this._room.state.airdrops.onAdd=function(e,t){_s.emit(xs.AIRDROP_CREATED,e,t),e.onChange=function(e){e.forEach((function(e){var n=e.field,i=e.value;_s.emit(xs.AIRDROP_UPDATED,n,i,t)}))}},this._room.state.airdrops.onRemove=function(e,t){_s.emit(xs.AIRDROP_REMOVED,t)},this._room.onMessage(Pa.COLLIDE_PLAYER_ASTEROID,(function(e){_s.emit(xs.COLLISION_PLAYER_ASTEROID,e)})),this._room.onMessage(Pa.COLLIDE_PLAYER_BULLET,(function(e){_s.emit(xs.COLLISION_PLAYER_BULLET,e)})),this._room.onMessage(Pa.COLLIDE_BULLET_ASTEROID,(function(e){_s.emit(xs.COLLISION_BULLET_ASTEROID,e)})),this._room.onMessage(Pa.COLLIDE_PLAYER_AIRDROP,(function(e){_s.emit(xs.COLLISION_PLAYER_AIRDROP,e)})))}},{key:"onPlayerJoined",value:function(e,t){_s.on(xs.PLAYER_JOINED,e,t)}},{key:"onPlayerLeft",value:function(e,t){_s.on(xs.PLAYER_LEFT,e,t)}},{key:"onMyPlayerReady",value:function(e,t){_s.on(xs.MY_PLAYER_READY,e,t)}},{key:"onPlayerUpdated",value:function(e,t){_s.on(xs.PLAYER_UPDATED,e,t)}},{key:"onBulletCreated",value:function(e,t){_s.on(xs.BULLET_CREATED,e,t)}},{key:"onBulletUpdated",value:function(e,t){_s.on(xs.BULLET_UPDATED,e,t)}},{key:"onBulletRemoved",value:function(e,t){_s.on(xs.BULLET_REMOVED,e,t)}},{key:"onAsteroidCreated",value:function(e,t){_s.on(xs.ASTEROID_CREATED,e,t)}},{key:"onAsteroidUpdated",value:function(e,t){_s.on(xs.ASTEROID_UPDATED,e,t)}},{key:"onAsteroidRemoved",value:function(e,t){_s.on(xs.ASTEROID_REMOVED,e,t)}},{key:"onAsteroidChangesUpdated",value:function(e,t){_s.on(xs.ASTEROID_CHANGES_UPDATED,e,t)}},{key:"onAirdropCreated",value:function(e,t){_s.on(xs.AIRDROP_CREATED,e,t)}},{key:"onAirdropUpdated",value:function(e,t){_s.on(xs.AIRDROP_UPDATED,e,t)}},{key:"onAirdropRemoved",value:function(e,t){_s.on(xs.AIRDROP_REMOVED,e,t)}},{key:"onCollisionPlayerWithBullet",value:function(e,t){_s.on(xs.COLLISION_PLAYER_BULLET,e,t)}},{key:"onCollisionPlayerWithAsteroid",value:function(e,t){_s.on(xs.COLLISION_PLAYER_ASTEROID,e,t)}},{key:"onCollisionBulletAsteroid",value:function(e,t){_s.on(xs.COLLISION_BULLET_ASTEROID,e,t)}},{key:"onCollisionPlayerAirdrop",value:function(e,t){_s.on(xs.COLLISION_PLAYER_AIRDROP,e,t)}},{key:"updatePlayer",value:function(e,t,n,i,s,a,o,r,d,l,c,p,h,u,m,y,g,_,x,b,v){var f,w=this.clientTime();null===(f=this._room)||void 0===f||f.send(Pa.UPDATE_PLAYER,{x:e,y:t,rotation:n,speed_x:i,speed_y:s,angularVel:a,isForwarding:o,hasShield:r,isFire:d,score:l,isExplode:c,lives:p,clientTime:w,account:h,shipName:u,tokenId:m,tier:y,paid:g,team:_,wasted:x,hits:b,spaceship:v})}},{key:"updateBulletToServer",value:function(e,t,n,i,s,a,o){var r;null===(r=this._room)||void 0===r||r.send(Pa.UPDATE_BULLET,{x:e,y:t,rotation:n,speed_x:i,speed_y:s,bulletType:a,teamflag:o})}},{key:"createAirdropToServer",value:function(e,t,n,i){var s;null===(s=this._room)||void 0===s||s.send(Pa.CS_ASTEROID_CREATE,{x:e,y:t,owner:n,kind:i})}},{key:"removeAirdropToServer",value:function(e){var t;null===(t=this._room)||void 0===t||t.send(Pa.CS_ASTEROID_REMOVE,{index:e})}},{key:"clientTime",value:function(){return(new Date).getTime()}},{key:"setDtServer2Client",value:function(e){this._dtServer2Client=this.clientTime()-e}},{key:"updatePlayerName",value:function(e){var t;null===(t=this._room)||void 0===t||t.send(Pa.UPDATE_PLAYER_NAME,{name:e})}},{key:"allPlayersReady",value:function(e){var t;null===(t=this._room)||void 0===t||t.send(Pa.GAMEPLAY_READY,{ready:e})}},{key:"specialKeyIsDown",value:function(e){var t;null===(t=this._room)||void 0===t||t.send(Pa.ATOMIC_EXPLODE,{explode:e})}},{key:"readyToConnect",value:function(){var e;null===(e=this._room)||void 0===e||e.send(Pa.READY_TO_CONNECT,{clientTime:this.clientTime()}),_s.emit(xs.MY_PLAYER_READY)}},{key:"changeName",value:function(e){_s.emit(xs.MY_PLAYER_NAME_CHANGE,e)}},{key:"recordScore",value:function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n,i,s,a,o=arguments;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]?o[1]:0,i=o.length>2&&void 0!==o[2]?o[2]:"",s=o.length>3&&void 0!==o[3]?o[3]:0,a=o.length>4&&void 0!==o[4]?o[4]:0,e.prev=5,e.next=8,Jt.score.saveScoreLog(t,n.toString(),i,s,a);case 8:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log("record failed! ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ia=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){var e;return Object(Sa.a)(this,n),(e=t.call(this,"boot"))._txtIntro=void 0,e._network=void 0,e}return Object(ja.a)(n,[{key:"init",value:function(){var e=document.createElement("style");document.head.appendChild(e);e.sheet.insertRule('@font-face { font-family: "Fast Hand"; src: url("assets/fonts/Fast_Hand.otf") format("opentype"); }',0),w.gamePros.screenWidth=this.cameras.main.width,w.gamePros.screenHeight=this.cameras.main.height,this._network=new Ma}},{key:"preload",value:function(){var e=this;this.load.script("webfont","https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"),La.a.load({custom:{families:["Fast Hand"]}}),w.graphicAssets.shipsTypes.forEach((function(t){e.load.image(t,w.graphicAssets.shipUrl+t+".png")})),this.load.image(w.graphicAssets.bulletNormal.name,w.graphicAssets.bulletNormal.URL),this.load.image(w.graphicAssets.bulletUnlimited.name,w.graphicAssets.bulletUnlimited.URL),this.load.image(w.graphicAssets.bulletDouble.name,w.graphicAssets.bulletDouble.URL),this.load.image(w.graphicAssets.bulletTriple.name,w.graphicAssets.bulletTriple.URL),this.load.image(w.graphicAssets.bulletVolley.name,w.graphicAssets.bulletVolley.URL),this.load.image(w.graphicAssets.bulletLazer.name,w.graphicAssets.bulletLazer.URL),this.load.image(w.graphicAssets.bulletExplose.name,w.graphicAssets.bulletExplose.URL),this.load.image(w.graphicAssets.bulletRegion.name,w.graphicAssets.bulletRegion.URL),this.load.image(w.graphicAssets.bulletAtomic.name,w.graphicAssets.bulletAtomic.URL),this.load.image(w.graphicAssets.asteroidFirstL.name,w.graphicAssets.asteroidFirstL.URL),this.load.image(w.graphicAssets.asteroidFirstS.name,w.graphicAssets.asteroidFirstS.URL),this.load.image(w.graphicAssets.asteroidSecondL.name,w.graphicAssets.asteroidSecondL.URL),this.load.image(w.graphicAssets.asteroidSecondS.name,w.graphicAssets.asteroidSecondS.URL),this.load.image(w.graphicAssets.airdropRapid.name,w.graphicAssets.airdropRapid.URL),this.load.image(w.graphicAssets.airdropDouble.name,w.graphicAssets.airdropDouble.URL),this.load.image(w.graphicAssets.airdropTriple.name,w.graphicAssets.airdropTriple.URL),this.load.image(w.graphicAssets.airdropBurst.name,w.graphicAssets.airdropBurst.URL),this.load.image(w.graphicAssets.airdropExplosive.name,w.graphicAssets.airdropExplosive.URL),this.load.image(w.graphicAssets.airdropLazer.name,w.graphicAssets.airdropLazer.URL),this.load.image(w.graphicAssets.airdropRocket.name,w.graphicAssets.airdropRocket.URL),this.load.image(w.graphicAssets.airdropLife.name,w.graphicAssets.airdropLife.URL),this.load.image(w.graphicAssets.airdropShield.name,w.graphicAssets.airdropShield.URL),this.load.image(w.graphicAssets.enemyFirst.name,w.graphicAssets.enemyFirst.URL),this.load.image(w.graphicAssets.enemySecond.name,w.graphicAssets.enemySecond.URL),this.load.image(w.graphicAssets.enemyBullet.name,w.graphicAssets.enemyBullet.URL),this.load.image(w.graphicAssets.rocketFirst.name,w.graphicAssets.rocketFirst.URL),this.load.image(w.graphicAssets.rocketSecond.name,w.graphicAssets.rocketSecond.URL),this.load.image(w.graphicAssets.rocketThird.name,w.graphicAssets.rocketThird.URL),this.load.image(w.graphicAssets.rocketFourth.name,w.graphicAssets.rocketFourth.URL),this.load.image(w.graphicAssets.rocketBullet.name,w.graphicAssets.rocketBullet.URL),this.load.image(w.graphicAssets.lifeEmpty.name,w.graphicAssets.lifeEmpty.URL),this.load.image(w.graphicAssets.lifeFull.name,w.graphicAssets.lifeFull.URL),this.load.image(w.graphicAssets.background[0].name,w.graphicAssets.background[0].URL),this.load.atlas(w.graphicAssets.particles.name,w.graphicAssets.particles.URL,w.graphicAssets.particles.data),this.load.atlas(w.graphicAssets.lazerEffectParticle.name,w.graphicAssets.lazerEffectParticle.URL,w.graphicAssets.lazerEffectParticle.data),this.load.image(w.graphicAssets.shield.name,w.graphicAssets.shield.URL),this.load.audio(w.soundAssets.bg[0].name,w.soundAssets.bg[0].URL),this.load.audio(w.soundAssets.destroyed.name,w.soundAssets.destroyed.URL),this.load.audio(w.soundAssets.fire.name,w.soundAssets.fire.URL),this.load.audio(w.soundAssets.engine.name,w.soundAssets.engine.URL),this.load.audio(w.soundAssets.shipExplose.name,w.soundAssets.shipExplose.URL),this.load.once("complete",(function(){wt.dispatch(De(!0))}),this)}},{key:"startGame",value:function(e,t){this.scene.stop("boot"),this.scene.start("play",{network:this._network,shipPros:e,gameProps:t}),wt.dispatch(Ce(!0))}},{key:"startMultiGame",value:function(e,t){this.scene.stop("boot"),this.scene.start("multiplay",{network:this._network,shipPros:e,gameProps:t}),wt.dispatch(Ce(!0)),this._network&&(this._network.readyToConnect(),this._network.changeName("1"))}}]),n}(gs.a.Scene),Ba=n(20),Ca=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.scene,a=e.group,o=e.x,r=e.y,d=e.texture,l=e.frame;return Object(Sa.a)(this,n),i=t.call(this,s,o,r,d,l),s.add.existing(Object(Ba.a)(i)),s.physics.add.existing(Object(Ba.a)(i)),a.add(Object(Ba.a)(i)),i}return Object(ja.a)(n)}(gs.a.Physics.Arcade.Sprite),Da=n(57),Na=n(49),Ua=function(){function e(t,n,i,s,a){var o=this;Object(Sa.a)(this,e),this._owner=void 0,this._scene=void 0,this._fireCooldown=void 0,this._passiveRegenCooldown=void 0,this._sinceFired=void 0,this._sinceRegen=void 0,this._storedBullets=void 0,this._maxBullets=void 0,this._speed=void 0,this._triggerHeld=void 0,this._triggered=void 0,this._isShip=void 0,this._isEnableSoundEffect=void 0,this._isFired=void 0,this._owner=t,this._scene=t.scene,this._fireCooldown=1e3*i,this._passiveRegenCooldown=1e3*s,this._speed=a,this._isEnableSoundEffect=void 0===this._scene.registry.get("enabledSound")||this._scene.registry.get("enabledSound"),this._isShip=999!==n,this._sinceFired=0,this._sinceRegen=0,this._storedBullets=n,this._isShip&&99!==this._maxBullets&&this._scene.registry.set("shots",this._storedBullets),this._maxBullets=n,this._triggerHeld=!1,_s.on(xs.TOGGLE_SOUNDS,(function(e){o._isEnableSoundEffect=e,o._scene.registry.set("enabledSound",e)}),this),void 0===this._isEnableSoundEffect&&(this._isEnableSoundEffect=!0)}return Object(ja.a)(e,[{key:"update",value:function(e,t){this._sinceFired+=t,this._sinceRegen+=t,this._sinceRegen>this._passiveRegenCooldown&&this._storedBullets<this._maxBullets&&(this.reload(),this._sinceRegen=0)}},{key:"updateBullet",value:function(e,t,n,i){0!==e&&(this._maxBullets=e),0!==t&&(this._fireCooldown=1e3*t),0!==n&&(this._passiveRegenCooldown=1e3*n),0!==i&&(this._speed=i),99===e&&(this._scene.registry.values.shots=99),this.reload()}},{key:"setTriggerHeld",value:function(e){this._triggered=e}},{key:"spendBullet",value:function(){this._storedBullets=Math.max(this._storedBullets-1,0),this._isShip&&99!==this._maxBullets&&(this._scene.registry.values.shots=this._storedBullets)}},{key:"reload",value:function(){this._storedBullets=Math.min(this._storedBullets+1,this._maxBullets),this._isShip&&99!==this._maxBullets&&(this._scene.registry.values.shots=this._storedBullets)}}]),e}(),Fa=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){return Object(Sa.a)(this,n),t.apply(this,arguments)}return Object(ja.a)(n,[{key:"update",value:function(e,t){Object(Da.a)(Object(Na.a)(n.prototype),"update",this).call(this,e,t),this._isFired=!1,this._triggered&&this.canFire()&&(this.fire({pos:this._owner.getCenter(),rotation:this._owner.rotForward,speed:this._speed}),this._isFired=!0)}},{key:"fire",value:function(e){var t=e.pos,n=t.x,i=t.y,s=e.rotation,a=e.speed;this.spendBullet(),this._scene._network?(void 0===this._owner.team&&(this._owner.team=1),this._scene.updateBulletLaunchDataToserver(n,i,s,a,this._owner,this._owner.team),this._scene.spawnRandomBullet(n,i,s,a,this._owner,!0,this._owner.team)):this._scene.spawnRandomBullet(n,i,s,a,this._owner,!0),this._isEnableSoundEffect&&this._scene._bulletSound.play(),this._sinceFired=0}},{key:"canFire",value:function(){return this._storedBullets>0&&this._sinceFired>this._fireCooldown}}]),n}(Ua),za=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){return Object(Sa.a)(this,n),t.apply(this,arguments)}return Object(ja.a)(n,[{key:"update",value:function(e,t){Object(Da.a)(Object(Na.a)(n.prototype),"update",this).call(this,e,t),this._triggered&&this.canFire()&&this.fire({pos:this._owner.getCenter(),rotation:this._owner.rotLeft,speed:this._speed})}},{key:"fire",value:function(e){var t=e.pos,n=t.x,i=t.y,s=e.rotation,a=e.speed;this.spendBullet(),this._scene.spawnRandomEnemyBullet(n,i,s,a,this._owner),this._isEnableSoundEffect&&this._scene._bulletSound.play(),this._sinceFired=0}},{key:"canFire",value:function(){return this._sinceFired>this._fireCooldown}}]),n}(Ua),Va=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e,i,s,a){var o;Object(Sa.a)(this,n),(o=t.call(this,e))._playerTexture=void 0,o._playerName=void 0,o._engine=void 0,o._lazerEffectParticle=void 0,o._lazerEffect=void 0,o._particles=void 0,o._shield=void 0,o._gunModule=void 0,o._lives=void 0,o._playerId=void 0,o._tier=void 0,o._hasCombat=void 0,o._readyToConnect=!1,o._hasShield=void 0,o._bulletType=void 0,o._bulletTypeTimer=void 0,o._team=void 0,o._spaceship=void 0,o._playerId=i,o._tier=0|s.tier,o._hasCombat=a,o._playerTexture=e.texture,o._shield=o.scene.add.sprite(o.x,o.y,w.graphicAssets.shield.name),o._shield.setVisible(!1),o._hasShield=!1,o._bulletType=R,o._team=null===s||void 0===s?void 0:s.team;var r=Object(Ba.a)(o),d=w.bulletPros.NORMAL_BULLET.maxBullets+oe[o._tier]+(a?1:0),l=w.bulletPros.NORMAL_BULLET.fireCooldown*re[o._tier]*(a?.9:1),c=w.bulletPros.NORMAL_BULLET.passiveRegenCooldown,p=w.bulletPros.NORMAL_BULLET.speed;return o._gunModule=new Fa(r,d,l,c,p),o._particles=o.scene.add.particles(w.graphicAssets.particles.name),o._engine=o._particles.createEmitter({frame:["green"],scale:{start:.2,end:0},alpha:{start:.5,end:0},x:0,y:0,quantity:3,lifespan:{min:10,max:100},speed:{min:10,max:50},blendMode:"ADD",follow:Object(Ba.a)(o)}),o._lazerEffectParticle=o.scene.add.particles(w.graphicAssets.lazerEffectParticle.name),o._lazerEffect=o._lazerEffectParticle.createEmitter({frame:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"],scale:{start:1,end:0},alpha:{start:.5,end:0},x:0,y:0,quantity:3,lifespan:{min:10,max:10},speed:{min:10,max:10},blendMode:"ADD",follow:Object(Ba.a)(o)}),o}return Object(ja.a)(n,[{key:"updateBulletProperty",value:function(e,t){this._bulletType=e;var n=this._bulletType===P?w.bulletPros[e].maxBullets:w.bulletPros[e].maxBullets+oe[this._tier]+(this._hasCombat?1:0),i=w.bulletPros[e].fireCooldown*re[this._tier]*(this._hasCombat?.9:1),s=w.bulletPros[e].passiveRegenCooldown,a=w.bulletPros[e].speed;this._gunModule.updateBullet(n,i,s,a),this.restoreBulletProperty(t)}},{key:"restoreBulletProperty",value:function(e){var t,n=this;null===(t=this._bulletTypeTimer)||void 0===t||t.remove(),this._bulletTypeTimer=this.scene.time.delayedCall(1e3*e,(function(){n._bulletType=R;var e=w.bulletPros.NORMAL_BULLET.maxBullets+oe[n._tier]+(n._hasCombat?1:0),t=w.bulletPros.NORMAL_BULLET.fireCooldown*re[n._tier]*(n._hasCombat?.9:1),i=w.bulletPros.NORMAL_BULLET.passiveRegenCooldown,s=w.bulletPros.NORMAL_BULLET.speed;n._gunModule.updateBullet(e,t,i,s)}),null,this)}},{key:"reload",value:function(){this._gunModule.reload()}},{key:"rotForward",get:function(){return this.rotation}},{key:"rotLeft",get:function(){return this.rotation-Math.PI/2}},{key:"rotRight",get:function(){return this.rotation+Math.PI/2}},{key:"rotBack",get:function(){return this.rotation+Math.PI}},{key:"angleForward",get:function(){return this.angle}},{key:"angleLeft",get:function(){return this.angle-90}},{key:"angleRight",get:function(){return this.angle+90}},{key:"angleBack",get:function(){return this.angle+180}}]),n}(Ca),Ga=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.id,o=e.shipPros,r=e.hasCombat,d=e.inputKeys,l=d.forward,c=d.brake,p=d.left,h=d.right,u=d.fire;Object(Sa.a)(this,n),(i=t.call(this,s,a,o,r))._shipBody=void 0,i._engineSound=void 0,i._account=void 0,i._tokenId=void 0,i._shipName=void 0,i._paid=void 0,i._team=void 0,i._wasted=void 0,i._hits=void 0,i._score=void 0,i._vulnerable=void 0,i._angularVelocity=void 0,i._acceleration=void 0,i._maxVelocity=void 0,i._isExplode=void 0,i._shieldTimer=void 0,i._hasAtomic=void 0,i._hasLazer=void 0,i._forwardKey=void 0,i._brakeKey=void 0,i._leftKey=void 0,i._rightKey=void 0,i._fireKey=void 0,i._curSpeedX=void 0,i._curSpeedY=void 0,i.joystickMovement=void 0,i.fireButtonHandle=void 0;var m=o.isBroken?w.shipPros.startingLives-1:w.shipPros.startingLives;return i.Lives=m+de[o.tier],console.log("this.Lives",m,de,o.tier),i._maxVelocity=w.shipPros.maxVelocity,i.Score=0,i._angularVelocity=w.shipPros.angularVelocity,i._acceleration=w.shipPros.acceleration,i._vulnerable=!0,i._hasAtomic=!1,i._hasLazer=!1,i._isExplode=!1,i.setDrag(w.shipPros.drag),i.setCircle(27),i.setOrigin(.5),i._shipBody=i.body,i._shipBody.setMaxVelocity(i._maxVelocity),i._forwardKey=l,i._brakeKey=c,i._leftKey=p,i._rightKey=h,i._fireKey=u,i._account=null===o||void 0===o?void 0:o.account,i._tokenId=null===o||void 0===o?void 0:o.tokenId,i._shipName=null===o||void 0===o?void 0:o.name,i._paid=null===o||void 0===o?void 0:o.paid,i._team=null===o||void 0===o?void 0:o.team,i._wasted=null===o||void 0===o?void 0:o.wasted,i._hits=null===o||void 0===o?void 0:o.hits,i._spaceship=null===o||void 0===o?void 0:o.spaceship,i}return Object(ja.a)(n,[{key:"Score",get:function(){return this._score},set:function(e){this._score=e,this.scene.registry.set("score",this._score)}},{key:"Vulnerable",get:function(){return this._vulnerable},set:function(e){this._vulnerable=e}},{key:"BulletType",get:function(){return this._bulletType}},{key:"setShiled",value:function(e){var t,n=this;this._vulnerable=!1,this._shield.setVisible(!0),this._hasShield=!0,this.setCircle(33),null===(t=this._shieldTimer)||void 0===t||t.remove(),this._shieldTimer=this.scene.time.delayedCall(1e3*e,(function(){n._vulnerable=!0,n._shield.setVisible(!1),n._hasShield=!1,n.setCircle(27)}),null,this)}},{key:"handleJoystickMovement",value:function(e){this.joystickMovement=e}},{key:"handleFire",value:function(e){this.fireButtonHandle=e}},{key:"update",value:function(e,t){var n;if(this._gunModule.update(e,t),this._lazerEffect.setAngle(this.angleBack),this._lazerEffect.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._lazerEffect.followOffset.setToPolar(this.rotBack,-22),this._hasLazer?this._lazerEffect.start():this._lazerEffect.stop(),this._forwardKey.isDown?(this.setMaxVelocity(this._maxVelocity),this._engine.setAngle(this.angleBack),this._engine.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._engine.followOffset.setToPolar(this.rotBack,25),this._engine.start(),this.scene.physics.velocityFromRotation(this.rotation,this._shipBody.velocity.length(),this._shipBody.velocity),this.scene.physics.velocityFromRotation(this.rotation,this._acceleration-100,this._shipBody.acceleration)):(this.scene.physics.velocityFromRotation(this.rotation,this._shipBody.velocity.length(),this._shipBody.velocity),this.scene.physics.velocityFromRotation(this.rotation,0,this._shipBody.acceleration),this._engine.stop()),this._brakeKey.isDown){var i=this._maxVelocity;i/=3,this.setMaxVelocity(i)}var s=0;this._leftKey.isDown?s+=-this._angularVelocity:this._rightKey.isDown&&(s+=this._angularVelocity),this.setAngularVelocity(s),null!==(n=this.joystickMovement)&&void 0!==n&&n.isMoving&&(this.setAngle(this.joystickMovement.direction),this._engine.setAngle(this.angleBack),this._engine.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._engine.followOffset.setToPolar(this.rotBack,25),this._engine.start(),this.scene.physics.velocityFromRotation(this.rotation,this._shipBody.velocity.length(),this._shipBody.velocity),this.scene.physics.velocityFromRotation(this.rotation,this._acceleration,this._shipBody.acceleration)),this._fireKey.isDown?(this._gunModule.setTriggerHeld(!0),this._gunModule._isFired&&(this._wasted+=1,this.setAccuracy())):this._gunModule.setTriggerHeld(!1),this._hasShield&&this._shield.setPosition(this.x,this.y),this._curSpeedX=this._shipBody.velocity.x,this._curSpeedY=this._shipBody.velocity.y}},{key:"updateToServer",value:function(e){0===this._shipBody.speed&&0===this._shipBody.rotation||e.updatePlayer(this.x,this.y,this.rotation,this._shipBody.velocity.x,this._shipBody.velocity.y,this._shipBody.angularVelocity,this._forwardKey.isDown,this._hasShield,this._fireKey.isDown,this._score,this._isExplode,this._lives,this._account,this._shipName,this._tokenId,this._tier,this._paid,this._team,this._wasted,this._hits,this._spaceship)}},{key:"facing",value:function(){return new gs.a.Math.Vector2(Math.sin(this.rotation),-Math.cos(this.rotation))}},{key:"kill",value:function(){this._isExplode=!0,this._vulnerable=!1,this.Lives-=1,this._engine.stop(),this.emit("ship_death"),this.setVisible(!1)}},{key:"makeTempInvulnerable",value:function(e){var t=this;this._vulnerable=!1,this._isExplode=!1;var n=this.scene.time.addEvent({delay:200,callback:function(){t.setVisible(!t.visible)},callbackScope:this,repeat:-1});this.scene.time.delayedCall(1e3*e,(function(){t._vulnerable=!0,n.remove(),t.setVisible(!0)}),null,this)}},{key:"respawn",value:function(e,t){this.setActive(!0).setVisible(!0),this.setRotation(0),this.setRotation(this.rotLeft),this.setPosition(e,t),this._shipBody.setVelocity(0),this.makeTempInvulnerable(3)}},{key:"Lives",get:function(){return this._lives},set:function(e){e>w.shipPros.startingLives+de[this._tier]||(this._lives=e,this.scene.registry.set("playerLives",this._lives))}},{key:"setAccuracy",value:function(){var e=this._hits/this._wasted;if(isNaN(e)||e===1/0)this.scene.registry.set("accuracy","0");else{var t=(100*e).toFixed(1);this.scene.registry.set("accuracy",t)}}}]),n}(Va),Ya=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.owner,o=e.kind;return Object(Sa.a)(this,n),(i=t.call(this,s))._owner=void 0,i._bulletKind=void 0,i._timetemp=0,i._owner=a,i._bulletKind=o,i.setOrigin(.5,.5),s.texture===U.REGION_BULLET&&("explosive"===i._bulletKind?i.setCircle(100):"atomic"===i._bulletKind&&i.setSize(i.scene.cameras.main.width,i.scene.cameras.main.height),i.scene.time.addEvent({delay:50,callback:function(){i.destroy()}})),i}return Object(ja.a)(n,[{key:"preUpdate",value:function(e,t){}},{key:"updateServerDataBullet",value:function(e,t,n){switch(e){case"x":if("number"===typeof t){this.body.velocity.x;this.x=t}break;case"y":if("number"===typeof t){this.body.velocity.x;this.y=t}break;case"speed_x":"number"===typeof t&&this.setVelocityX(t);break;case"speed_y":"number"===typeof t&&this.setVelocityY(t)}}},{key:"updateServerDataChangesBullet",value:function(e,t){var n=this,i=Date.now(),s=e.find((function(e){return"curServerTime"===e.field})).value;if(!(s<this._timetemp)){var a=(i-s-t)/1e3;e.map((function(e){n.updateServerDataBullet(e.field,e.value,a)})),this._timetemp=s}}}]),n}(Ca),Ha=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.type,o=e.size;return Object(Sa.a)(this,n),(i=t.call(this,s))._type=void 0,i._size=void 0,i._lives=2,i._group="asteroid",i._timetemp=0,i._type=a,i._size=o,i}return Object(ja.a)(n,[{key:"launchAsteroid",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,s=(O(t-n,t+n),O(t-n,t+n),e*Math.cos(t)),a=e*Math.sin(t);this.setOrigin(.5,.5),this._size===T&&this.setCircle(29),this._size===L&&this.setCircle(19),this.setVelocity(s,a),this.setAngularVelocity(O(-i,i))}},{key:"updateServerDataAsteroid",value:function(e,t,n){switch(e){case"x":if("number"===typeof t){if(n>1||n<-1)break;this.x=t}break;case"y":if("number"===typeof t){if(n>1||n<-1)break;this.y=t}break;case"speed_x":"number"===typeof t&&this.setVelocityX(t);break;case"speed_y":"number"===typeof t&&this.setVelocityY(t)}}},{key:"updateServerDataChangesAsteroid",value:function(e,t){var n=this,i=Date.now(),s=e.find((function(e){return"curServerTime"===e.field})),a=null===s||void 0===s?void 0:s.value;if(!(a<this._timetemp)){var o=(i-a-t)/1e3;e.map((function(e){n.updateServerDataAsteroid(e.field,e.value,o)})),this._timetemp=a}}}]),n}(Ca),Wa=Ha,Ka=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.owner,o=e.kind;return Object(Sa.a)(this,n),(i=t.call(this,s))._kind=void 0,i._owner=void 0,i._owner=a,i._kind=o,i}return Object(ja.a)(n,[{key:"launchAirdrop",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,s=O(t-n,t+n),a=O(t-n,t+n),o=e*Math.cos(s),r=e*Math.sin(a);this.setOrigin(.5,.5),this.setVelocity(o,r),this.setAngularVelocity(O(-i,i))}},{key:"updateServerDataAirdrop",value:function(e,t){switch(e){case"x":"number"===typeof t&&(this.x=t);break;case"y":"number"===typeof t&&(this.y=t);break;case"speed_x":"number"===typeof t&&this.setVelocityX(t);break;case"speed_y":"number"===typeof t&&this.setVelocityY(t)}}}]),n}(Ca),Xa=Ka,Ja=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.type,o=e.lives;Object(Sa.a)(this,n),(i=t.call(this,s))._type=void 0,i._gunModule=void 0,i._group="enemy",i._lives=2,i._type=a,i._lives=o,a!==ee&&a!==te&&a!==ne&&a!==ie||(i._group="boss");var r=Object(Ba.a)(i),d=w.enemyBulletPros.maxBullets,l=a===Z||a===Q?w.enemyBulletPros.fireCooldown:w.enemyBulletPros.bossFireCooldown,c=w.enemyBulletPros.passiveRegenCooldown,p=a===Z||a===Q?w.enemyBulletPros.normalSpeed:w.enemyBulletPros.bossSpeed;return i._gunModule=new za(r,d,l,c,p),i}return Object(ja.a)(n,[{key:"launchEnemy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=w.enemyPros.angVelRange,s=O(t-n,t+n),a=O(t-n,t+n),o=e*Math.cos(s),r=e*Math.sin(a);this.setOrigin(.5,.5),this.setVelocity(o,r),this._type===Z||this._type===Q?this.setAngularVelocity(O(-i,i)):this.setRotation(t),this._type===Z?this.setCircle(19):this._type===Q?this.setCircle(20):this.setCircle(70)}},{key:"update",value:function(e,t){var n=this;this._gunModule.update(e,t),this.scene.time.addEvent({delay:1e3,callback:function(){n._gunModule.setTriggerHeld(!n._gunModule._triggered)},repeat:-1})}},{key:"rotForward",get:function(){return this.rotation}},{key:"rotLeft",get:function(){return this.rotation-Math.PI/2}},{key:"rotRight",get:function(){return this.rotation+Math.PI/2}},{key:"rotBack",get:function(){return this.rotation+Math.PI}},{key:"angleForward",get:function(){return this.angle}},{key:"angleLeft",get:function(){return this.angle-90}},{key:"angleRight",get:function(){return this.angle+90}},{key:"angleBack",get:function(){return this.angle+180}}]),n}(Ca),qa=Ja,Za=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.owner;return Object(Sa.a)(this,n),(i=t.call(this,s))._owner=void 0,i._group="enemyBullet",i._owner=a,i.setOrigin(.5,.5),i}return Object(ja.a)(n)}(Ca),Qa=function(){var e=!1;try{window.screen.orientation.type.startsWith("portrait")&&(e=!0)}catch(t){e=!0}return e},$a=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){var e;return Object(Sa.a)(this,n),(e=t.call(this,"play")).backgroundImg=void 0,e._network=void 0,e._myShip=void 0,e._myBullet=void 0,e._account=void 0,e._tokenId=void 0,e._shipName=void 0,e._paid=void 0,e._team=void 0,e._wasted=void 0,e._hits=void 0,e._ships=void 0,e._otherShips=void 0,e._otherShipMap=new Map,e._bullets=void 0,e._enemyBullets=void 0,e._regionBullets=void 0,e._enemies=void 0,e._airdrops=void 0,e._worldBounds=void 0,e._backgroundSprite=void 0,e.fadeCamera=void 0,e._particles=void 0,e._destroyedSound=void 0,e._fireSound=void 0,e._bulletSound=void 0,e._bgSound=void 0,e._airdropPercentAsteroid=void 0,e._airdropPercentEnemy=void 0,e._airdropPercentBoss=void 0,e._airdropDuration=void 0,e._airdropTimer=void 0,e._startingAsteroids=void 0,e._maxAsteroids=void 0,e._incrementAsteroids=void 0,e._minAsteroidSpeed=void 0,e._maxAsteroidSpeed=void 0,e._minEnemySpeed=void 0,e._maxEnemySpeed=void 0,e._startingEnemies=void 0,e._increaseEnemies=void 0,e._enemyLives=void 0,e._startingBoss=void 0,e._bossLives=void 0,e._increaseBoss=void 0,e._enemyBulletVelocity=void 0,e._bossSpeed=void 0,e._width=void 0,e._height=void 0,e._center=void 0,e._level=void 0,e._levelBoss=void 0,e._levelTimer=void 0,e._randomTimer=void 0,e._nextLevelTimer=void 0,e._readyNewLevel=void 0,e._passedIntro=void 0,e._specialKey=void 0,e._isEnableSoundEffect=void 0,e._isEnableBgSound=void 0,e._shot=void 0,e._waitingText=void 0,e._gameStarted=void 0,e._shipPros=void 0,e._backImg=void 0,e._backBg=void 0,e._bossMode=void 0,e._firstBackImgRandom=void 0,e._firstBgRandom=void 0,e}return Object(ja.a)(n,[{key:"_updateSceneOrientation",value:function(e){var t;t=!!window.matchMedia("(orientation: portrait)").matches,w.gamePros.screenWidth=t?window.innerWidth/(window.innerHeight/1920):1920,w.gamePros.screenHeight=t?1920:1080,this._width=w.gamePros.screenWidth,this._height=w.gamePros.screenHeight,this._center={x:this._width/2,y:this._height/2},this.scale.setGameSize(this._width,this._height),this._backgroundSprite.displayWidth=t?window.innerWidth/(window.innerHeight/1920):1920,this._backgroundSprite.displayHeight=t?1920:1080,this._backgroundSprite.setScale(t?1920/window.innerHeight:1,t?1920/window.innerHeight:1);var n=this._width/2+100,i=this._height/2+100,s=this._center.x-n,a=this._center.x+(n-5),o=this._center.y-i,r=this._center.y+(i-5),d=a-s,l=r-o,c=o+l/2,p=s+d/2;this._worldBounds.clear(!0,!0),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,p,o,d,5)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,s,c,5,l)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,p,r,d,5,1)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,a,c,5,l,0)),this.physics.world.setBounds(0,0,this._width,this._height)}},{key:"init",value:function(){var e=this,t=Qa();try{this.scale.on("orientationchange",(function(t){e._updateSceneOrientation(t)}))}catch(n){console.log("This deveice does not support orientation.")}w.gamePros.screenWidth=t?window.innerWidth/(window.innerHeight/1920):1920,w.gamePros.screenHeight=t?1920:1080,this._width=w.gamePros.screenWidth,this._height=w.gamePros.screenHeight,this._center={x:this._width/2,y:this._height/2},this.scale.setGameSize(this._width,this._height),this._level=0,this._levelBoss=1,this._readyNewLevel=!1,this._passedIntro=!1,this._isEnableSoundEffect=!0,this._isEnableBgSound=!0,this._firstBackImgRandom=Math.round(Math.random()*(w.graphicAssets.background.length-1)),this._firstBgRandom=Math.round(Math.random()*(w.soundAssets.bg.length-1)),this._startingAsteroids=w.asteroidPros.startingAsteroids,this._maxAsteroids=w.asteroidPros.maxAsteroids,this._incrementAsteroids=w.asteroidPros.incrementAsteroids,this._minAsteroidSpeed=w.asteroidPros.minSpeed,this._maxAsteroidSpeed=w.asteroidPros.maxSpeed,this._minEnemySpeed=w.enemyPros.minSpeed,this._maxEnemySpeed=w.enemyPros.maxSpeed,this._startingEnemies=w.enemyPros.startingEnemies,this._increaseEnemies=w.enemyPros.incrementEnemies,this._enemyBulletVelocity=w.enemyBulletPros.velocity,this._enemyLives=w.enemyBulletPros.lives,this._startingBoss=w.enemyPros.startingBoss,this._increaseBoss=w.enemyPros.incrementBoss,this._bossLives=w.enemyPros.bossLives,this._bossSpeed=w.enemyBulletPros.bossSpeed,this._airdropPercentAsteroid=w.airdropPros.percentAsteroid,this._airdropPercentEnemy=w.airdropPros.percentEnemy,this._airdropPercentBoss=w.airdropPros.percentBoss,this._airdropDuration=w.airdropPros.duration,this._shot=!1,this._gameStarted=!1}},{key:"initWorld",value:function(){this._ships=this.physics.add.group(),this._ships.runChildUpdate=!0,this._otherShips=this.physics.add.group(),this._otherShips.runChildUpdate=!0,this._bullets=this.physics.add.group(),this._bullets.runChildUpdate=!0,this._enemyBullets=this.physics.add.group(),this._enemyBullets.runChildUpdate=!0,this._regionBullets=this.physics.add.group(),this._regionBullets.runChildUpdate=!0,this._airdrops=this.physics.add.group(),this._airdrops.runChildUpdate=!0,this._enemies=this.physics.add.group(),this._enemies.runChildUpdate=!0;var e=Qa();this._backImg=w.graphicAssets.background[0].name,this._backgroundSprite=this.add.sprite(0,0,w.graphicAssets.background[0].name),this._backgroundSprite.displayWidth=e?window.innerWidth/(window.innerHeight/1920):1920,this._backgroundSprite.displayHeight=e?1920:1080,this._backgroundSprite.setOrigin(0,0),this._backgroundSprite.setScale(e?1920/window.innerHeight:1,e?1920/window.innerHeight:1),this.initWorldBounds(),this.physics.add.overlap(this._ships,this._enemies,this.shipEnemyCollision,null,this),this.physics.add.overlap(this._ships,this._enemyBullets,this.shipEnemyCollision,null,this),this.physics.add.overlap(this._ships,this._airdrops,this.shipAirdropCollision,null,this),this.physics.add.overlap([this._bullets,this._regionBullets],this._enemies,this.bulletEnemyCollision,null,this),this.physics.add.overlap([this._bullets,this._regionBullets],this._enemyBullets,this.bulletEnemyCollision,null,this),this.physics.add.overlap(this._bullets,this._worldBounds,(function(e,t){e.destroy()})),this.physics.add.overlap(this._enemyBullets,this._worldBounds,(function(e,t){e.destroy()}))}},{key:"initWorldBounds",value:function(){var e=this._width/2+100,t=this._height/2+100,n=this._center.x-e,i=this._center.x+(e-5),s=this._center.y-t,a=this._center.y+(t-5),o=i-n,r=a-s,d=s+r/2,l=n+o/2;this._worldBounds=this.physics.add.staticGroup(),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,l,s,o,5)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,n,d,5,r)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,l,a,o,5,1)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,i,d,5,r,0))}},{key:"initShip",value:function(e,t,n){var i=this,s={forward:this.input.keyboard.addKey(n.forward),brake:this.input.keyboard.addKey(n.brake),left:this.input.keyboard.addKey(n.left),right:this.input.keyboard.addKey(n.right),fire:this.input.keyboard.addKey(n.fire)};this._myShip=new Ga({sargs:{scene:this,group:this._ships,x:this.cameras.main.centerX,y:this.cameras.main.centerY,texture:e.spaceship},id:1,shipPros:e,hasCombat:t,inputKeys:s}),window.innerWidth<1024&&Qa()?this._myShip.setRotation(this._myShip.rotForward):this._myShip.setRotation(this._myShip.rotLeft);var a=this.sound.add(w.soundAssets.shipExplose.name,{volume:.5});a.on("complete",(function(){i._myShip.Lives<1?i.gameOver():i._myShip.respawn(i._width/2,i._height/2)})),this._myShip.on("ship_death",(function(){a.play(),i._particles.shipExplode.emitParticleAt(i._myShip.x,i._myShip.y)})),this._myShip._engineSound=this.sound.add(w.soundAssets.engine.name,{loop:!0,volume:.5}),this._isEnableSoundEffect&&this._myShip._engineSound.play(),this._myShip._engineSound.pause()}},{key:"initAssets",value:function(){var e=this;this._bulletSound=this.sound.add(w.soundAssets.fire.name),this._destroyedSound=this.sound.add(w.soundAssets.destroyed.name),this._fireSound=this.sound.add(w.soundAssets.fire.name),this._particles={};var t=this.add.particles(w.graphicAssets.particles.name);t.setDepth(9);this._particles.bulletImpact=t.createEmitter({frame:["blue","red","orange"],scale:{start:.2,end:0},quantity:30,alpha:{start:1,end:0},lifespan:{min:500,max:1e3},speed:{min:120,max:150},frequency:-1,blendMode:"ADD"}),this._particles.asteroidExplode=t.createEmitter({frame:["white","red"],scale:{start:.3,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"}),this._particles.shipExplode=t.createEmitter({frame:["white","red","orange"],scale:{start:.6,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"}),this.time.addEvent({delay:1e3,callback:function(){e._backBg=w.soundAssets.bg[0].name,e._bgSound=e.sound.add(w.soundAssets.bg[0].name),e._bgSound.setLoop(!0)}})}},{key:"create",value:function(e){var t,n=this;if(this.initAssets(),this.initWorld(),this._airdropDuration*=le[e.shipPros.tier],this.registry.set("bonusLives",de[e.shipPros.tier]),this._specialKey=e.gameProps.keyboard.special,this.scene.launch("text",{level:1}),!e.network)throw new Error("server instance missing");this._network=e.network,this.initShip(e.shipPros,e.gameProps.hasCombat,e.gameProps.keyboard),this._account=e.shipPros.account,this._tokenId=e.shipPros.tokenID,this._paid=e.shipPros.paid,this._team=e.shipPros.team,this._wasted=e.shipPros.wasted,this._hits=e.shipPros.hits,e.shipPros.hasShield&&(this._myShip.setShiled(this._airdropDuration),wt.dispatch(qe(F.SHIELD)),wt.dispatch(Ze(this._airdropDuration))),this._startingAsteroids+=ce[e.gameProps.difficulty].STARTING_ASTEROIDS,this._incrementAsteroids+=ce[e.gameProps.difficulty].INCREASE_ASTEROIDS,this._maxAsteroids+=ce[e.gameProps.difficulty].MAX_ASTEROIDS,this._minAsteroidSpeed*=ce[e.gameProps.difficulty].MIN_ASTEROID_SPEED,this._maxAsteroidSpeed*=ce[e.gameProps.difficulty].MAX_ASTEROID_SPEED,this._startingEnemies+=ce[e.gameProps.difficulty].STARTING_ENEMIES,this._increaseEnemies+=ce[e.gameProps.difficulty].INCREASE_ENEMIES,this._minEnemySpeed*=ce[e.gameProps.difficulty].MIN_ENEMY_SPEED,this._maxEnemySpeed*=ce[e.gameProps.difficulty].MAX_ENEMY_SPEED,this._bossMode=(null===e||void 0===e||null===(t=e.gameProps)||void 0===t?void 0:t.bossMode)||!1,this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.sounds),(function(){n._isEnableSoundEffect=!n._isEnableSoundEffect,_s.emit(xs.TOGGLE_SOUNDS,n._isEnableSoundEffect)}),this),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.music),(function(){n._isEnableBgSound=!n._isEnableBgSound,n._isEnableBgSound?n._bgSound.play():n._bgSound.stop()}),this),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.exit),(function(){wt.dispatch($e(!0))}),this),_s.on(xs.EXIST_GAME,(function(){n.gameOver()})),this.time.addEvent({delay:2e3,callback:function(){n._bgSound.play()}}),this._network&&this._network.allPlayersReady(!0),this._gameStarted=!0}},{key:"updateBulletLaunchDataToserver",value:function(e,t,n,i,s,a){var o,r,d=s.body.velocity,l=(new gs.a.Math.Vector2).setToPolar(n,i);o=d.x+l.x,r=d.y+l.y,this._shot||(this._network&&this._network.updateBulletToServer(e,t,n,o,r,s._bulletType,a),this._shot=!0),this._shot=!1}},{key:"shipEnemyCollision",value:function(e,t){e._hasShield?("asteroid"===t._group&&this.splitAsteroid(t),this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),t.destroy()):e.Vulnerable&&e.kill()}},{key:"shipAirdropCollision",value:function(e,t){t._kind===X||(t._kind===K?wt.dispatch(Qe(!0)):t._kind===J?(wt.dispatch(qe(t._kind)),wt.dispatch(Ze(this._airdropDuration))):(wt.dispatch(Xe(t._kind)),wt.dispatch(Je(this._airdropDuration)))),t._kind===K?e._hasAtomic=!0:t._kind===X?e.Lives+=1:t._kind===J?e.setShiled(this._airdropDuration):e.updateBulletProperty(t._kind,this._airdropDuration),t.destroy()}},{key:"bulletEnemyCollision",value:function(e,t){if("atomic"!==e._bulletKind&&(this._myShip._hits+=1,this._myShip.setAccuracy()),"normal"===e._bulletKind&&e._owner._bulletType===D)return e.destroy(),void this.spawnRegionBullet(t.x,t.y,e._owner,"explosive");if("asteroid"===t._group){if(t._type===A&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());e._owner.Score+=1,this._network&&"atomic"!==e._bulletKind&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),this.spawnRandomAirdrop(t,e._owner,this._airdropPercentAsteroid),this.splitAsteroid(t)}if("enemy"===t._group||"boss"===t._group){if("enemy"===t._group&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());if("boss"===t._group&&t._lives>1)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());"enemy"===t._group&&(e._owner.Score+=10,this._network&&"atomic"!==e._bulletKind&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),this.spawnRandomAirdrop(t,e._owner,this._airdropPercentEnemy)),"boss"===t._group&&(e._owner.Score+=80,this._network&&"atomic"!==e._bulletKind&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),this.spawnRandomAirdrop(t,e._owner,this._airdropPercentBoss))}this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),"atomic"!==e._bulletKind&&e._owner.reload(),e._owner._bulletType!==C&&e.destroy(),t.destroy()}},{key:"spawnRandomBullet",value:function(e,t,n,i,s){var a=this;switch(s._bulletType){case M:for(var o=s.body.velocity,r=(new gs.a.Math.Vector2).setToPolar(n,i).add(o),d=Math.sqrt(r.x*r.x+r.y*r.y),l={x:r.x/d,y:r.y/d},c=-1;c<=1;c+=2){var p=this.spawnBullet(e-15*l.y*c,t+15*l.x*c,s);p.rotation=s.rotation,p.setVelocity(r.x,r.y)}break;case I:for(var h=s.body.velocity,u=(new gs.a.Math.Vector2).setToPolar(n,i).add(h),m=Math.sqrt(u.x*u.x+u.y*u.y),y={x:u.x/m,y:u.y/m},g=-1;g<=1;g++){var _=this.spawnBullet(e-15*y.y*g,t+15*y.x*g,s);_.rotation=s.rotation,_.setVelocity(u.x,u.y)}break;case B:for(var x=-1;x<=1;x++){var b=x*Math.PI/10,v=this.spawnBullet(e,t,s);v.rotation=s.rotation+b;var f=s.body.velocity,w=(new gs.a.Math.Vector2).setToPolar(n,i).add(f).length(),O=s.rotation;v.setVelocity(w*Math.cos(O+b),w*Math.sin(O+b))}break;case D:var E=this.spawnBullet(e,t,s);E.rotation=s.rotation;var S=s.body.velocity,j=(new gs.a.Math.Vector2).setToPolar(n,i);E.setVelocity(S.x+j.x,S.y+j.y);break;case C:s._hasLazer=!0,setTimeout((function(){var n=a.spawnBullet(e,t,s);n.rotation=s.rotation;var o=s.body.velocity,r=(new gs.a.Math.Vector2).setToPolar(s.rotation,i);n.setVelocity(o.x+r.x,o.y+r.y),s._hasLazer=!1}),500);break;case N:var k=this.spawnBullet(e,t,s);k.rotation=s.rotation;var A=s.body.velocity,T=(new gs.a.Math.Vector2).setToPolar(n,i);k.setVelocity(A.x+T.x,A.y+T.y);break;default:var L=this.spawnBullet(e,t,s);L.rotation=s.rotation;var R=s.body.velocity,P=(new gs.a.Math.Vector2).setToPolar(n,i);L.setVelocity(R.x+P.x,R.y+P.y)}}},{key:"spawnBullet",value:function(e,t,n){var i,s;return n._bulletType===C?(i=n.x,s=n.y):(i=e,s=t),new Ya({sargs:{scene:this,group:this._bullets,x:i,y:s,texture:U[n._bulletType],frame:0},owner:n,kind:"normal"})}},{key:"spawnRegionBullet",value:function(e,t,n,i){return this._myBullet=new Ya({sargs:{scene:this,group:this._regionBullets,x:e,y:t,texture:U.REGION_BULLET,frame:0},owner:n,kind:i}),this._myBullet}},{key:"spawnRandomAsteroid",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y,a=n.dir;this.spawnAsteroid(i,s,e,t).launchAsteroid(O(this._minAsteroidSpeed,this._maxAsteroidSpeed),a+Math.PI,S)}},{key:"spawnAsteroid",value:function(e,t,n,i){return new Wa({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:j[n][i],frame:Math.round(2*Math.random())},type:n,size:i})}},{key:"respawnEnemies",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y,a=n.dir;e.setPosition(i,s),"enemy"===e._group?e.launchEnemy(O(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,S):"asteroid"===e._group?e.launchAsteroid(O(this._minAsteroidSpeed,this._maxAsteroidSpeed),a+Math.PI,S):"enemyBullet"===e._group&&e.destroy()}},{key:"splitAsteroid",value:function(e){if(e._size!==L)for(var t=e._type,n=L,i=e.body.velocity,s=e.getCenter(),a=s.x,o=s.y,r=0;r<2;r++){var d=gs.a.Math.RandomXY(new gs.a.Math.Vector2,40),l=d.x,c=d.y;this.spawnAsteroid(a+l,o+c,t,n).launchAsteroid(O(this._minAsteroidSpeed,this._maxAsteroidSpeed),i.angle(),S,60)}}},{key:"spawnRandomEnemies",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y,a=n.dir;this.spawnEnemy(i,s,e,t).launchEnemy(O(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,S-Math.PI)}},{key:"spawnEnemy",value:function(e,t,n,i){return new qa({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:q[n],frame:Math.round(2*Math.random())},type:n,lives:i})}},{key:"spawnRandomEnemyBullet",value:function(e,t,n,i,s){if(s._type===Z){var a=this.spawnEnemyBullet(e,t,s);a.rotation=n;var o=s.body.velocity,r=(new gs.a.Math.Vector2).setToPolar(n,i);a.setVelocity(o.x+r.x,o.y+r.y)}else if(s._type===Q)for(var d=0;d<10;d++){var l=d*Math.PI/5,c=this.spawnEnemyBullet(e,t,s),p=this._enemyBulletVelocity;c.setVelocity(p.x*Math.cos(l),p.y*Math.sin(l))}else if(s._type===ee||s._type===te){var h=this.spawnEnemyBullet(e,t,s),u={x:this._myShip.x-s.x,y:this._myShip.y-s.y},m=Math.sqrt(u.x*u.x+u.y*u.y),y={x:u.x/m,y:u.y/m},g={x:y.x*this._bossSpeed,y:y.y*this._bossSpeed};h.setVelocity(g.x,g.y)}else if(s._type===ne||s._type===ie)for(var _={x:this._myShip.x-s.x,y:this._myShip.y-s.y},x=Math.sqrt(_.x*_.x+_.y*_.y),b={x:_.x/x,y:_.y/x},v={x:b.x*this._bossSpeed,y:b.y*this._bossSpeed},f=Math.sqrt(v.x*v.x+v.y*v.y),w={x:v.x/f,y:v.y/f},O=-1;O<=1;O+=2){this.spawnEnemyBullet(e-15*w.y*O,t+15*w.x*O,s).setVelocity(v.x,v.y)}}},{key:"spawnEnemyBullet",value:function(e,t,n){var i=n._type.startsWith("NORMAL")?w.graphicAssets.enemyBullet.name:w.graphicAssets.rocketBullet.name;return new Za({sargs:{scene:this,group:this._enemyBullets,x:e,y:t,texture:i,frame:0},owner:n})}},{key:"spawnRandomAirdrop",value:function(e,t,n){var i=this;if(s=n,Math.floor(100*Math.random())<=s){var s,a=O(0,9),o="";o=a<=1?z:a<=2?V:a<=3?G:a<=4?Y:a<=5?H:a<=6?W:a<=7?X:a<=8?K:J;var r=this.getOuterRimCoords().dir,d=this.spawnAirdrop(e.x,e.y,t,o);d.launchAirdrop(10+O(-5,10),r+Math.PI,S);var l=this.time.delayedCall(1e3*w.airdropPros.alertTime,(function(){i.time.addEvent({delay:500,callback:function(){d.setVisible(!d.visible)},callbackScope:i,repeat:-1})}));this.time.delayedCall(1e3*w.airdropPros.lifetime,(function(){l.remove(),d.destroy()}))}}},{key:"spawnAirdrop",value:function(e,t,n,i){return new Xa({sargs:{scene:this,group:this._airdrops,x:e,y:t,texture:F[i],frame:Math.round(2*Math.random())},owner:n,kind:i})}},{key:"getOuterRimCoords",value:function(){var e=0,t=0,n=0,i=Math.random()*(2*this._width+2*this._height);return i<this._width?(e=i,t=0,n=-O(.1,.9)*Math.PI):i<this._width+this._height?(e=this._width,t=i-this._width,n=O(-.4,.4)*Math.PI):i<2*this._width+this._height?(e=i-this._width-this._height,t=this._height,n=O(.1,.9)*Math.PI):(e=0,t=i-2*this._width-this._height,n=O(.6,1.4)*Math.PI),{x:e,y:t,dir:n}}},{key:"gameOver",value:function(){this.sound.stopAll(),this.scene.stop("play"),this.scene.stop("text");var e=this._myShip._hits/this._myShip._wasted;(isNaN(e)||e===1/0)&&(e=0),this.scene.launch("gameOver",{score:this._myShip.Score,paid:this._myShip._paid,accuracy:e})}},{key:"nextAsteroids",value:function(){var e=this._level%2==0?0:this._incrementAsteroids;this._startingAsteroids=Math.min(this._startingAsteroids+e,this._maxAsteroids);for(var t=0;t<this._startingAsteroids;t++){var n=1===this._level||O(0,1)>=.5?k:A,i=T;this.spawnRandomAsteroid(n,i)}}},{key:"nextEnemies",value:function(e,t,n){if(t!==$)for(var i=0;i<e;i++)this.spawnRandomEnemies(t,n);else{this.spawnRandomEnemies(Z,n),this.spawnRandomEnemies(Q,n);for(var s=0;s<e-2;s++){var a=O(1,3)>=2?Q:Z;this.spawnRandomEnemies(a,n)}}}},{key:"nextLevel",value:function(){var e=this;if(this._passedIntro=!1,this.time.removeEvent(this._levelTimer),this._readyNewLevel=!1,this._levelTimer=this.time.addEvent({delay:2e3,callback:function(){e._readyNewLevel=!1}}),this._level++,this.registry.set("level",this._level),this._bossMode||this._level>=8&&this._level%4===0||this.nextAsteroids(),!this._bossMode&&this._level>=3&&!(this._level>=8&&this._level%4===0)){var t=this._level%2!=0?0:this._increaseEnemies;this._startingEnemies+=t;var n=this._level>=5?$:Z;this.nextEnemies(this._startingEnemies,n,this._enemyLives)}if(this._bossMode){this._startingBoss=Math.ceil(this._level/2);var i=O(0,1),s=i>.5?ee:te,a=this._startingBoss%2==0?-1:0,o=this._startingBoss%2==0?1:0;this._level%2==0?this.nextEnemies(Math.floor(this._startingBoss/2)+a,s,this._bossLives):this.nextEnemies(Math.ceil(this._startingBoss/2),s,this._bossLives),s=(i=O(0,1))>.5?ne:ie,this._level%2==0?(this._bossLives+=1,this.nextEnemies(Math.ceil(this._startingBoss/2)+o,s,this._bossLives)):this.nextEnemies(Math.floor(this._startingBoss/2),s,this._bossLives)}else if(this._level>=8&&this._level%4===0){this._startingBoss=Math.ceil(this._levelBoss/2);var r=O(0,1),d=r>.5?ee:te,l=this._startingBoss%2==0?-1:0,c=this._startingBoss%2==0?1:0;this._levelBoss%2==0?this.nextEnemies(Math.floor(this._startingBoss/2)+l,d,this._bossLives):this.nextEnemies(Math.ceil(this._startingBoss/2),d,this._bossLives),d=(r=O(0,1))>.5?ne:ie,this._levelBoss%2==0?(this._bossLives+=1,this.nextEnemies(Math.ceil(this._startingBoss/2)+c,d,this._bossLives)):this.nextEnemies(Math.floor(this._startingBoss/2),d,this._bossLives),this._levelBoss+=1}}},{key:"introNewEnemy",value:function(e){this.nextEnemies(1,e,this._bossLives)}},{key:"newMission",value:function(){var e=this;2!==this._level||this._passedIntro?4!==this._level||this._passedIntro?(this.registry.set("endLevel",this._level),this.registry.set("newEnemy",-1),this._levelTimer=this.time.addEvent({delay:w.gamePros.endLevelDelay,callback:function(){e._readyNewLevel=!0,e.registry.set("endLevel",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(Q),this._levelTimer=this.time.addEvent({delay:w.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(Z),this._levelTimer=this.time.addEvent({delay:w.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}}))}},{key:"update",value:function(e,t){this.physics.world.wrap(this._ships),this.physics.world.wrap(this._enemies);var n=this._enemies.children.entries.filter((function(e){return"enemyBullet"!==e._group})).length;n<=0&&this.newMission(),n<=0&&!0===this._readyNewLevel&&(this.changeEnvPerLevel(),this.nextLevel()),this._myShip&&this._network&&this._myShip.updateToServer(this._network),this.input.keyboard.addKey(this._specialKey).isDown&&this._myShip._hasAtomic&&(this.spawnRegionBullet(this._center.x,this._center.y,this,"atomic"),this._myShip._hasAtomic=!1,wt.dispatch(Qe(!1)))}},{key:"changeEnvPerLevel",value:function(){var e=this,t=(this._level+this._firstBackImgRandom)%w.graphicAssets.background.length,n=(this._level+this._firstBackImgRandom+1)%w.graphicAssets.background.length,i=(this._level+this._firstBgRandom)%w.soundAssets.bg.length,s=(this._level+this._firstBgRandom+1)%w.graphicAssets.background.length;this.textures.exists("".concat(n))||this.load.image(w.graphicAssets.background[n].name,w.graphicAssets.background[n].URL),this.sound.get("".concat(s))||this.load.audio(w.soundAssets.bg[s].name,w.soundAssets.bg[s].URL),this.load.start(),0!=this._level&&("".concat(t)!=this._backImg&&this._backgroundSprite&&this.textures.exists("".concat(t))&&(this.cameras.main.once("camerafadeoutcomplete",(function(e){e.fadeIn(500)}),this),this.cameras.main.fadeOut(500),this.time.removeEvent(this._randomTimer),this._randomTimer=this.time.addEvent({delay:500,callback:function(){e._backImg="".concat(t),e._backgroundSprite.setTexture(w.graphicAssets.background[t].name)}})),"".concat(i)!=this._backBg&&this._bgSound&&this.sound.get("".concat(i))&&(this._bgSound.stop(),this._bgSound.destroy(),this._backBg="".concat(i),this._bgSound=this.sound.add(w.soundAssets.bg[i].name),this._bgSound.setLoop(!0),this._bgSound.play()))}}]),n}(gs.a.Scene),eo=n(80),to=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(e){var i,s=e.sargs,a=e.team,o=e.id,r=e.shipPros,d=e.tier;Object(Sa.a)(this,n),(i=t.call(this,s,o,d,!1))._shipBody=void 0,i._engineSound=void 0,i._targetPosition=void 0,i._rotation=void 0,i._isForwarding=void 0,i._isBraking=void 0,i._angVel=void 0,i._hasShield=void 0,i._isFire=void 0,i._lastUpdateTimestamp=void 0,i._connected=!1,i._isExplode=void 0,i._explodeDone=!1,i._isEnableSoundEffect=!1,i._shipId=void 0,i._timetemp=0;var l=r.isBroken?w.shipPros.startingLives-1:w.shipPros.startingLives;return i.Lives=l+de[r.tier],console.log("this.Lives",l,de,r.tier),i._team=a,i._shipId=o,i._targetPosition={x:s.x,y:s.y},i._shipBody=i.body,i._angVel=180,i}return Object(ja.a)(n,[{key:"updateOtherPlayer",value:function(e,t,n){switch(e){case"name":"string"===typeof t&&this._playerName.setText(t);break;case"x":"number"===typeof t&&(this._targetPosition.x=t);break;case"y":"number"===typeof t&&(this._targetPosition.y=t);break;case"angularVel":break;case"rotation":"number"===typeof t&&(this._rotation=t);break;case"speed_x":"number"===typeof t&&(this._shipBody.velocity.x=t);break;case"speed_y":"number"===typeof t&&(this._shipBody.velocity.y=t);break;case"isForwarding":"boolean"===typeof t&&(this._isForwarding=t);break;case"isFire":"boolean"===typeof t&&(this._isFire=t);break;case"hasShield":"boolean"===typeof t&&(this._hasShield=t);break;case"isExplode":"boolean"===typeof t&&(this._isExplode=t);break;case"readyToConnect":"boolean"===typeof t&&(this._readyToConnect=t);break;case"team":"number"===typeof t&&(this._team=t);break;case"spaceship":"string"===typeof t&&(console.log("spaceship",t),this.setTexture(t));break;case"lives":"number"===typeof t&&(this._lives=t)}}},{key:"updateOtherPlayerChanges",value:function(e,t){var n=this,i=Date.now(),s=e.find((function(e){return"curServerTime"===e.field})),a=null===s||void 0===s?void 0:s.value;if(!(a<this._timetemp)){var o=(i-a-t)/1e3;e.map((function(e){n.updateOtherPlayer(e.field,e.value,o)})),this._timetemp=a}}},{key:"preUpdate",value:function(e,t){Object(Da.a)(Object(Na.a)(n.prototype),"preUpdate",this).call(this,e,t),this._gunModule.update(e,t),this.x+=.5*((this._targetPosition.x||this.x)-this.x),this.y+=.5*((this._targetPosition.y||this.y)-this.y);var i=((this._rotation||this.rotation)-this.rotation)/(2*Math.PI);i=(i-=Math.round(i))*Math.PI*2,this.rotation+=i,this._lastUpdateTimestamp=e,this.setDepth(this.y),this._isForwarding?(this._engine.setAngle(this.angleBack),this._engine.setSpeed({min:this.body.velocity.length()-150,max:this.body.velocity.length()-100}),this._engine.followOffset.setToPolar(this.rotBack,25),this._isEnableSoundEffect=!0,this._engine.start()):(this._engine.stop(),this._isEnableSoundEffect=!1),this._shield.setVisible(this._hasShield),this._shield.setPosition(this.x,this.y),this._isExplode&&this.kill()}},{key:"kill",value:function(){this._engine.stop(),this._explodeDone||(this.emit("ship_death"),this.setActive(!1).setVisible(!1),this._explodeDone=!0)}},{key:"makeTempInvulnerable",value:function(e){var t=this,n=this.scene.time.addEvent({delay:200,callback:function(){t.setVisible(!t.visible)},callbackScope:this,repeat:-1});this.scene.time.delayedCall(1e3*e,(function(){n.remove(),t.setVisible(!0)}),null,this)}},{key:"respawn",value:function(e,t){this._lives<1||(this.setActive(!0).setVisible(!0),this.setRotation(0),this.setRotation(this.rotLeft),this.setPosition(e,t),this._shipBody.setVelocity(0),this.makeTempInvulnerable(3),this._explodeDone=!1,1===this._lives&&(this._lives=0))}},{key:"Lives",get:function(){return this._lives},set:function(e){e>w.shipPros.startingLives+de[this._tier]||(this._lives=e,this.scene.registry.set("playerLives",this._lives))}}]),n}(Va),no=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){var e;return Object(Sa.a)(this,n),(e=t.call(this,"multiplay"))._room=void 0,e._network=void 0,e._myShip=void 0,e._account=void 0,e._tokenId=void 0,e._shipName=void 0,e._mySessionId=void 0,e._paid=void 0,e._team=void 0,e._wasted=void 0,e._hits=void 0,e._ships=void 0,e._otherShips=void 0,e._otherShipMap=new Map,e._bullets=void 0,e._bulletsMap=new Map,e._asteroids=void 0,e._asteroidsMap=new Map,e._regionBullets=void 0,e._enemies=void 0,e._airdrops=void 0,e._airdropsMap=new Map,e._worldBounds=void 0,e._backgroundSprite=void 0,e._particles=void 0,e._destroyedSound=void 0,e._fireSound=void 0,e._bulletSound=void 0,e._bgSound=void 0,e._deathSound=void 0,e._airdropPercentAsteroid=void 0,e._airdropPercentEnemy=void 0,e._airdropPercentBoss=void 0,e._airdropDuration=void 0,e._airdropTimer=void 0,e._startingAsteroids=void 0,e._maxAsteroids=void 0,e._incrementAsteroids=void 0,e._minAsteroidSpeed=void 0,e._maxAsteroidSpeed=void 0,e._minEnemySpeed=void 0,e._maxEnemySpeed=void 0,e._startingEnemies=void 0,e._increaseEnemies=void 0,e._enemyLives=void 0,e._startingBoss=void 0,e._bossLives=void 0,e._increaseBoss=void 0,e._enemyBulletVelocity=void 0,e._bossSpeed=void 0,e._width=void 0,e._height=void 0,e._center=void 0,e._level=void 0,e._levelTimer=void 0,e._readyNewLevel=void 0,e._passedIntro=void 0,e._specialKey=void 0,e._isEnableSoundEffect=void 0,e._isEnableBgSound=void 0,e._shot=void 0,e._waitingText=void 0,e._gameStarted=void 0,e._shipPros=void 0,e._joyStick=void 0,e._shipCount=void 0,e}return Object(ja.a)(n,[{key:"preLoad",value:function(){}},{key:"init",value:function(){this._width=w.gamePros.screenWidth,this._height=w.gamePros.screenHeight,this._center={x:this._width/2,y:this._height/2},this._level=0,this._readyNewLevel=!1,this._passedIntro=!1,this._isEnableSoundEffect=!0,this._isEnableBgSound=!0,this._startingAsteroids=w.asteroidPros.startingAsteroids,this._maxAsteroids=w.asteroidPros.maxAsteroids,this._incrementAsteroids=w.asteroidPros.incrementAsteroids,this._minAsteroidSpeed=w.asteroidPros.minSpeed,this._maxAsteroidSpeed=w.asteroidPros.maxSpeed,this._minEnemySpeed=w.enemyPros.minSpeed,this._maxEnemySpeed=w.enemyPros.maxSpeed,this._startingEnemies=w.enemyPros.startingEnemies,this._increaseEnemies=w.enemyPros.incrementEnemies,this._enemyBulletVelocity=w.enemyBulletPros.velocity,this._enemyLives=w.enemyBulletPros.lives,this._startingBoss=w.enemyPros.startingBoss,this._increaseBoss=w.enemyPros.incrementBoss,this._bossLives=w.enemyPros.bossLives,this._bossSpeed=w.enemyBulletPros.bossSpeed,this._airdropPercentAsteroid=w.airdropPros.percentAsteroid,this._airdropPercentEnemy=w.airdropPros.percentEnemy,this._airdropPercentBoss=w.airdropPros.percentBoss,this._airdropDuration=w.airdropPros.duration,this.initAssets(),this.initWorld(),this._shot=!1,this._gameStarted=!1,this._shipCount=0}},{key:"initWorld",value:function(){this._ships=this.physics.add.group(),this._ships.runChildUpdate=!0,this._otherShips=this.physics.add.group(),this._otherShips.runChildUpdate=!0,this._bullets=this.physics.add.group(),this._bullets.runChildUpdate=!0,this._asteroids=this.physics.add.group(),this._asteroids.runChildUpdate=!0,this._regionBullets=this.physics.add.group(),this._regionBullets.runChildUpdate=!0,this._airdrops=this.physics.add.group(),this._airdrops.runChildUpdate=!0,this._enemies=this.physics.add.group(),this._enemies.runChildUpdate=!0,this._backgroundSprite=this.add.sprite(0,0,w.graphicAssets.background[(new Date).getHours()%10].name),this._backgroundSprite.displayWidth=1920,this._backgroundSprite.displayHeight=1080,this._backgroundSprite.setOrigin(0),this._backgroundSprite.setScale(1.2),this.initWorldBounds(),this.physics.add.overlap(this._ships,this._asteroids,this.shipAsteroidCollision,null,this),this.physics.add.overlap(this._ships,this._enemies,this.shipEnemyCollision,null,this),this.physics.add.overlap([this._bullets,this._regionBullets],this._asteroids,this.bulletAsteroidCollision,null,this),this.physics.add.overlap([this._bullets,this._regionBullets],this._enemies,this.bulletEnemyCollision,null,this),this.physics.add.overlap(this._ships,this._airdrops,this.shipAirdropCollision,null,this),this.physics.add.overlap(this._bullets,this._otherShips,this.shipBulletCollision,null,this),this.physics.add.overlap(this._bullets,this._myShip,this.MyshipBulletCollision,null,this)}},{key:"initWorldBounds",value:function(){var e=this._width/2+100,t=this._height/2+100,n=this._center.x-e,i=this._center.x+(e-5),s=this._center.y-t,a=this._center.y+(t-5),o=i-n,r=a-s,d=s+r/2,l=n+o/2;this._worldBounds=this.physics.add.staticGroup(),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,l,s,o,5)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,n,d,5,r)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,l,a,o,5,1)),this._worldBounds.add(new gs.a.GameObjects.Rectangle(this,i,d,5,r,0))}},{key:"initShip",value:function(e,t,n){var i=this,s={forward:this.input.keyboard.addKey(n.forward),brake:this.input.keyboard.addKey(n.brake),left:this.input.keyboard.addKey(n.left),right:this.input.keyboard.addKey(n.right),fire:this.input.keyboard.addKey(n.fire)};this._shipPros=e,this._myShip=new Ga({sargs:{scene:this,group:this._ships,x:this.cameras.main.centerX,y:this.cameras.main.centerY,texture:e.spaceship,team:this._team},id:1,shipPros:e,hasCombat:t,inputKeys:s}),this._myShip.setRotation(this._myShip.rotLeft);var a=this.sound.add(w.soundAssets.shipExplose.name,{volume:.5});this._myShip.on("ship_death",(function(){a.play(),i._myShip.Lives<1?i.gameOver():i.time.delayedCall(100,(function(){i._myShip.respawn(i._width/2,i._height/2)})),i._particles.shipExplode.emitParticleAt(i._myShip.x,i._myShip.y)})),this._myShip._engineSound=this.sound.add(w.soundAssets.engine.name,{loop:!0,volume:.5}),this._isEnableSoundEffect&&this._myShip._engineSound.play(),this._myShip._engineSound.pause()}},{key:"initAssets",value:function(){var e=this;this._bulletSound=this.sound.add(w.soundAssets.fire.name),this._destroyedSound=this.sound.add(w.soundAssets.destroyed.name),this._fireSound=this.sound.add(w.soundAssets.fire.name),this._deathSound=this.sound.add(w.soundAssets.shipExplose.name,{volume:.5}),this._particles={};var t=this.add.particles(w.graphicAssets.particles.name);t.setDepth(9);this._particles.bulletImpact=t.createEmitter({frame:["blue","red","orange"],scale:{start:.2,end:0},quantity:30,alpha:{start:1,end:0},lifespan:{min:500,max:1e3},speed:{min:120,max:150},frequency:-1,blendMode:"ADD"}),this._particles.asteroidExplode=t.createEmitter({frame:["white","red"],scale:{start:.3,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"}),this._particles.shipExplode=t.createEmitter({frame:["white","red","orange"],scale:{start:.6,end:0},quantity:60,alpha:{start:1,end:0},lifespan:{min:300,max:600},speed:{min:20,max:150},frequency:-1,blendMode:"ADD"}),this.time.addEvent({delay:1e3,callback:function(){e._bgSound=e.sound.add(w.soundAssets.bg[(new Date).getHours()%6].name),e._bgSound.setLoop(!0)}})}},{key:"create",value:function(e){var t=this,n=this.sys.game.device.os;if(this._joyStick=this.plugins.get("rexvirtualjoystickplugin"),!0===n.android&&(this._joyStick.add(this,{x:200,y:800,radius:100,base:this.add.circle(0,0,100,8947848),thumb:this.add.circle(0,0,50,13421772)}),this.dumpJoyStickState()),this._airdropDuration*=le[e.shipPros.tier],this.registry.set("bonusLives",de[e.shipPros.tier]),this._specialKey=e.gameProps.keyboard.special,this.scene.launch("text",{level:""}),!e.network)throw new Error("server instance missing");this._network=e.network,this._mySessionId=e.network._mySessionId,this.initShip(e.shipPros,e.gameProps.hasCombat,e.gameProps.keyboard),this._account=e.shipPros.account,this._tokenId=e.shipPros.tokenID,this._shipName=e.shipPros.shipName,this._paid=e.shipPros.paid,this._team=e.shipPros.team,this._wasted=e.shipPros.wasted,this._hits=e.shipPros.hits,e.shipPros.hasShield&&(this._myShip.setShiled(this._airdropDuration),wt.dispatch(qe(F.SHIELD)),wt.dispatch(Ze(this._airdropDuration))),this._startingAsteroids+=ce[e.gameProps.difficulty].STARTING_ASTEROIDS,this._incrementAsteroids+=ce[e.gameProps.difficulty].INCREASE_ASTEROIDS,this._maxAsteroids+=ce[e.gameProps.difficulty].MAX_ASTEROIDS,this._minAsteroidSpeed*=ce[e.gameProps.difficulty].MIN_ASTEROID_SPEED,this._maxAsteroidSpeed*=ce[e.gameProps.difficulty].MAX_ASTEROID_SPEED,this._startingEnemies+=ce[e.gameProps.difficulty].STARTING_ENEMIES,this._increaseEnemies+=ce[e.gameProps.difficulty].INCREASE_ENEMIES,this._minEnemySpeed*=ce[e.gameProps.difficulty].MIN_ENEMY_SPEED,this._maxEnemySpeed*=ce[e.gameProps.difficulty].MAX_ENEMY_SPEED,this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.sounds),(function(){t._isEnableSoundEffect=!t._isEnableSoundEffect,_s.emit(xs.TOGGLE_SOUNDS,t._isEnableSoundEffect)}),this),this.time.addEvent({delay:2e3,callback:function(){t._bgSound.play()}}),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.music),(function(){t._isEnableBgSound=!t._isEnableBgSound,t._isEnableBgSound?t._bgSound.play():t._bgSound.stop()}),this),this.input.keyboard.on("keyup-".concat(e.gameProps.keyboard.exit),(function(){wt.dispatch($e(!0))}),this),_s.on(xs.EXIST_GAME,(function(){t.gameOver()})),_s.on(xs.GAME_TIMEOUT,(function(){t.gameOver()})),this._network.onMyPlayerReady(this.handleMyPlayerReady,this),this._network.onPlayerJoined(this.handlePlayerJoined,this),this._network.onPlayerUpdated(this.handlePlayerUpdated,this),this._network.onPlayerLeft(this.handlePlayerLeft,this),this._network.onBulletCreated(this.handleBulletCreated,this),this._network.onBulletRemoved(this.handleBulletRemoved,this),this._network.onAsteroidCreated(this.handleAsteroidCreated,this),this._network.onAsteroidRemoved(this.handleAsteroidRemoved,this),this._network.onAsteroidChangesUpdated(this.handleAsteroidChangesUpdated,this),this._network.onAirdropCreated(this.handleAirdropCreated,this),this._network.onAirdropUpdated(this.handleAirdropUpdated,this),this._network.onAirdropRemoved(this.handleAirdropRemoved,this),this._network.onCollisionPlayerWithAsteroid(this.handleCollisionPlayerWithAsteroid,this),this._network.onCollisionPlayerWithBullet(this.handleCollisionPlayerWithBullet,this),this._network.onCollisionBulletAsteroid(this.handleCollisionBulletAsteroid,this),this._network.onCollisionPlayerAirdrop(this.handleCollisionPlayerWithAirdrop,this)}},{key:"dumpJoyStickState",value:function(){}},{key:"handlePlayerJoined",value:function(e,t){var n=this;if(!this._otherShipMap.has(t)){var i=new to({sargs:{scene:this,group:this._otherShips,x:e.x,y:e.y,texture:e.spaceship},team:e.team,id:1,shipPros:this._shipPros,tier:0});this.scene.launch("text",{level:"Multiplayer"}),this._otherShips.add(i),this._otherShipMap.set(t,i);var s=this.sound.add(w.soundAssets.shipExplose.name,{volume:.5});s.on("complete",(function(){i._lives<1?(i.setActive(!1),i.setVisible(!1),i.destroy()):i.respawn(n._width/2,n._height/2)})),i.on("ship_death",(function(){s.play(),n._particles.shipExplode.emitParticleAt(i.x,i.y)})),i._engineSound=this.sound.add(w.soundAssets.engine.name,{loop:!0,volume:.5}),i._isEnableSoundEffect&&i._engineSound.play(),i._engineSound.pause(),this.input.keyboard.enabled=!0,this._network&&this._network.allPlayersReady(!0),this._gameStarted=!0}}},{key:"handlePlayerLeft",value:function(e){if(this._otherShipMap.has(e)){var t=this._otherShipMap.get(e);if(!t)return;console.log("this._otherShips.remove(otherPlayer, true, true)\t",this._otherShips),void 0!==this._otherShips.children&&this._otherShips.remove(t,!0,!0),this._otherShipMap.delete(e)}}},{key:"handleMyPlayerReady",value:function(){this._myShip._readyToConnect=!0}},{key:"handlePlayerUpdated",value:function(e,t){var n=this._otherShipMap.get(t);null===n||void 0===n||n.updateOtherPlayerChanges(e,this._network._dtServer2Client)}},{key:"handleBulletCreated",value:function(e,t,n){if(0!==this._myShip.Lives&&e.owner!=this._network._mySessionId){var i=Math.sqrt(e.speed_x*e.speed_x+e.speed_y*e.speed_y);e.owner!=this._myShip&&this.spawnRandomBullet(e.x,e.y,e.rotation,i,e.owner,!1,e.teamflag)}}},{key:"handleBulletUpdated",value:function(e,t){var n=this._bulletsMap.get(t);null===n||void 0===n||n.updateServerDataChangesBullet(e,this._network._dtServer2Client)}},{key:"handleBulletRemoved",value:function(e,t){if(this._bulletsMap.has(e)){var n=this._bulletsMap.get(e);if(!n)return;this._bullets.remove(n,!0,!0),this._bulletsMap.delete(e)}}},{key:"handleAsteroidCreated",value:function(e,t,n){var i,s,a,o;i=e.x,s=e.y,a=1===e.type?"FIRST":"SECOND",o=1===e.size?"LARGE":"SMALL";var r=new Wa({sargs:{scene:this,group:this._asteroids,x:i,y:s,texture:j[a][o],frame:Math.round(2*Math.random())},type:a,size:o});o===T&&r.setCircle(29),o===L&&r.setCircle(19),r.setOrigin(.5,.5),r.setAngularVelocity(O(-50,50)),this._asteroidsMap.set(t,r)}},{key:"handleAsteroidRemoved",value:function(e,t){if(this._asteroidsMap.has(e)){var n=this._asteroidsMap.get(e);if(!n)return;this._asteroids.remove(n,!0,!0),this._asteroidsMap.delete(e)}}},{key:"handleAsteroidChangesUpdated",value:function(e,t){var n=this._asteroidsMap.get(t);if(!this._asteroidsMap.has(t)){var i=this._network._asteroidsMap.get(t);this._network._asteroidsMap.has(t)&&this.handleAsteroidCreated(i,t,t)}null===n||void 0===n||n.updateServerDataChangesAsteroid(e,this._network._dtServer2Client)}},{key:"handleAirdropCreated",value:function(e,t,n){if(console.log("in handleAirdropCreated",e,t),e.owner!==this._mySessionId){var i=new Xa({sargs:{scene:this,group:this._airdrops,x:e.x,y:e.y,texture:F[e.kind],frame:Math.round(2*Math.random())},owner:e.owner,kind:e.kind});this._airdropsMap.set(t,i)}}},{key:"handleAirdropUpdated",value:function(e,t,n){var i=this._airdropsMap.get(n);null===i||void 0===i||i.updateServerDataAirdrop(e,t)}},{key:"handleAirdropRemoved",value:function(e,t){if(this._airdropsMap.has(e)){var n=this._airdropsMap.get(e);if(!n)return;this._airdrops.remove(n,!0,!0),this._airdropsMap.delete(e)}}},{key:"handleCollisionPlayerWithAsteroid",value:function(e){}},{key:"shipAsteroidCollision",value:function(e,t){e._hasShield?"asteroid"===t._group&&(this.splitAsteroid(t),this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),t.destroy()):e.Vulnerable&&e.kill()}},{key:"shipEnemyCollision",value:function(e,t){e._hasShield?("asteroid"===t._group&&this.splitAsteroid(t),this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),t.destroy()):e.Vulnerable&&e.kill()}},{key:"bulletAsteroidCollision",value:function(e,t){if("normal"===e._bulletKind&&e._owner._bulletType===D)return e.destroy(),void this.spawnRegionBullet(t.x,t.y,e._owner,"explosive");if("asteroid"===t._group){if(t._type===A&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());e._owner.Score+=1,this._network&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),e._owner==this._myShip&&this.spawnRandomAirdrop(t,this._mySessionId,this._airdropPercentAsteroid),this.splitAsteroid(t)}this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),"atomic"!==e._bulletKind&&e._owner.reload(),e._owner._bulletType!==C&&e.destroy(),t.destroy()}},{key:"bulletEnemyCollision",value:function(e,t){if("normal"===e._bulletKind&&e._owner._bulletType===D)return e.destroy(),void this.spawnRegionBullet(t.x,t.y,e._owner,"explosive");if("enemy"===t._group||"boss"===t._group){if("enemy"===t._group&&2===t._lives)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());if("boss"===t._group&&t._lives>1)return t._lives--,this._particles.asteroidExplode.emitParticleAt(t.x,t.y),void(e._owner._bulletType!==C&&e.destroy());"enemy"===t._group&&(e._owner.Score+=10,this._network&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),this.spawnRandomAirdrop(t,e._owner,this._airdropPercentEnemy)),"boss"===t._group&&(e._owner.Score+=80,this._network&&this._network.recordScore(e._owner._account,e._owner._tokenId,e._owner._shipName,e._owner._tier,e._owner._score),this.spawnRandomAirdrop(t,e._owner,this._airdropPercentBoss))}this._particles.asteroidExplode.emitParticleAt(t.x,t.y),this._isEnableSoundEffect&&this._destroyedSound.play(),"atomic"!==e._bulletKind&&e._owner.reload(),e._owner._bulletType!==C&&e.destroy(),t.destroy()}},{key:"getKeyByValue",value:function(e,t){var n,i=Object(eo.a)(e.entries());try{for(i.s();!(n=i.n()).done;){var s=Object(d.a)(n.value,2),a=s[0];if(s[1]===t)return a}}catch(o){i.e(o)}finally{i.f()}return 0}},{key:"shipAirdropCollision",value:function(e,t){t._kind===X||(t._kind===K?wt.dispatch(Qe(!0)):t._kind===J?(wt.dispatch(qe(t._kind)),wt.dispatch(Ze(this._airdropDuration))):(wt.dispatch(Xe(t._kind)),wt.dispatch(Je(this._airdropDuration)))),t._kind===K?e._hasAtomic=!0:t._kind===X?e.Lives+=1:t._kind===J?e.setShiled(this._airdropDuration):e.updateBulletProperty(t._kind,this._airdropDuration);var n=t,i=this.getKeyByValue(this._airdropsMap,n);this._network.removeAirdropToServer(i),t.destroy()}},{key:"MyshipBulletCollision",value:function(e,t){e._owner!==this._myShip&&e.destroy()}},{key:"shipBulletCollision",value:function(e,t){e._owner!=t&&e._owner._team!=t._team&&(t._hasShield?(this._isEnableSoundEffect&&this._destroyedSound.play(),this._particles.bulletImpact.emitParticleAt(t.x,t.y)):(t.kill(),e._owner==this._myShip&&!0!==t._explodeDone&&(this._myShip.Score+=5,this._myShip._hits+=1,this._myShip.setAccuracy())),e.destroy()),e._owner!==this._myShip&&t===this._myShip&&e.destroy()}},{key:"handleCollisionPlayerWithBullet",value:function(e){e.punished_id===this._mySessionId?this._myShip._hasShield?(this._isEnableSoundEffect&&this._destroyedSound.play(),this._particles.bulletImpact.emitParticleAt(this._myShip.x,this._myShip.y)):this._myShip.Vulnerable&&this._myShip.kill():e.punisher_id===this._mySessionId&&(this._myShip.Score+=5,this._myShip._hits+=1,this._myShip.setAccuracy())}},{key:"handleCollisionBulletAsteroid",value:function(e){e.punisher_id===this._network._mySessionId&&(this._myShip.Score+=1,this._myShip._hits+=1,this._myShip.setAccuracy()),this._isEnableSoundEffect&&this._destroyedSound.play(),this._particles.asteroidExplode.emitParticleAt(e.asteroid_x,e.asteroid_y)}},{key:"handleCollisionPlayerWithAirdrop",value:function(e){console.log("collide player with airdrop",e.id,this._mySessionId,e.player_id),this._mySessionId===e.player_id&&(e.kind===X||(e.kind===K?wt.dispatch(Qe(!0)):e.kind===J?(wt.dispatch(qe(e.kind)),wt.dispatch(Ze(this._airdropDuration))):(wt.dispatch(Xe(e.kind)),wt.dispatch(Je(this._airdropDuration)))),e.kind===K?this._myShip._hasAtomic=!0:e.kind===X?this._myShip.Lives+=1:e.kind===J?this._myShip.setShiled(this._airdropDuration):this._myShip.updateBulletProperty(e.kind,this._airdropDuration))}},{key:"updateBulletLaunchDataToserver",value:function(e,t,n,i,s,a){var o,r,d=s.body.velocity,l=(new gs.a.Math.Vector2).setToPolar(n,i);o=d.x+l.x,r=d.y+l.y,this._shot||(this._network&&this._network.updateBulletToServer(e,t,n,o,r,s._bulletType,s._team),this._shot=!0),this._shot=!1}},{key:"spawnRandomBullet",value:function(e,t,n,i,s,a,o){var r=this,d=s._bulletType;if(a)s=this._myShip;else{if(console.log("_otherShipMap",this._otherShipMap,"speed",i),!this._otherShipMap.has(s))return;s=this._otherShipMap.get(s)}switch(d){case M:for(var l=s.body.velocity,c=(new gs.a.Math.Vector2).setToPolar(n,i).add(l),p=Math.sqrt(c.x*c.x+c.y*c.y),h={x:c.x/p,y:c.y/p},u=-1;u<=1;u+=2){var m=this.spawnBullet(e-15*h.y*u,t+15*h.x*u,s,o);m.rotation=s.rotation,m.setVelocity(c.x,c.y)}break;case I:for(var y=s.body.velocity,g=(new gs.a.Math.Vector2).setToPolar(n,i).add(y),_=Math.sqrt(g.x*g.x+g.y*g.y),x={x:g.x/_,y:g.y/_},b=-1;b<=1;b++){var v=this.spawnBullet(e-15*x.y*b,t+15*x.x*b,s,o);v.rotation=s.rotation,v.setVelocity(g.x,g.y)}break;case B:for(var f=-1;f<=1;f++){var w=f*Math.PI/10,O=this.spawnBullet(e,t,s,o);O.rotation=s.rotation+w;var E=s.body.velocity,S=(new gs.a.Math.Vector2).setToPolar(n,i).add(E).length(),j=s.rotation;O.setVelocity(S*Math.cos(j+w),S*Math.sin(j+w))}break;case D:var k=this.spawnBullet(e,t,s,o);k.rotation=s.rotation;var A=s.body.velocity,T=(new gs.a.Math.Vector2).setToPolar(n,i);k.setVelocity(A.x+T.x,A.y+T.y);break;case C:s._hasLazer=!0,setTimeout((function(){var n=r.spawnBullet(e,t,s,o);n.rotation=s.rotation;var a=s.body.velocity,d=(new gs.a.Math.Vector2).setToPolar(s.rotation,i);n.setVelocity(a.x+d.x,a.y+d.y),s._hasLazer=!1}),500);break;case N:var L=this.spawnBullet(e,t,s,o);L.rotation=s.rotation;var R=s.body.velocity,P=(new gs.a.Math.Vector2).setToPolar(n,i);L.setVelocity(R.x+P.x,R.y+P.y);break;default:var U=this.spawnBullet(e,t,s,o);U.rotation=s.rotation;var F=s.body.velocity,z=(new gs.a.Math.Vector2).setToPolar(n,i);U.setVelocity(F.x+z.x,F.y+z.y)}}},{key:"spawnBullet",value:function(e,t,n,i){var s,a;return n._bulletType===C?(s=n.x,a=n.y):(s=e,a=t),new Ya({sargs:{scene:this,group:this._bullets,x:s,y:a,texture:U[n._bulletType],frame:0,teamflag:i},owner:n,kind:"normal"})}},{key:"spawnRegionBullet",value:function(e,t,n,i){return new Ya({sargs:{scene:this,group:this._regionBullets,x:e,y:t,texture:U.REGION_BULLET,frame:0},owner:n,kind:i})}},{key:"spawnRandomAsteroid",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y;n.dir,this.spawnAsteroid(i,s,e,t)}},{key:"spawnAsteroid",value:function(e,t,n,i){return new Wa({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:j[n][i],frame:Math.round(2*Math.random())},type:n,size:i})}},{key:"respawnEnemies",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y,a=n.dir;e.setPosition(i,s),"enemy"===e._group?e.launchEnemy(O(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,S):"asteroid"===e._group?e.launchAsteroid(O(this._minAsteroidSpeed,this._maxAsteroidSpeed),a+Math.PI,S):"enemyBullet"===e._group&&e.destroy()}},{key:"splitAsteroid",value:function(e){if(e._size!==L)for(var t=e._type,n=L,i=(e.body.velocity,e.getCenter()),s=i.x,a=i.y,o=0;o<2;o++){var r=gs.a.Math.RandomXY(new gs.a.Math.Vector2,40),d=r.x,l=r.y;this.spawnAsteroid(s+d,a+l,t,n)}}},{key:"spawnRandomEnemies",value:function(e,t){var n=this.getOuterRimCoords(),i=n.x,s=n.y,a=n.dir;this.spawnEnemy(i,s,e,t).launchEnemy(O(this._minEnemySpeed,this._maxEnemySpeed),a+Math.PI,S-Math.PI)}},{key:"spawnEnemy",value:function(e,t,n,i){return new qa({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:q[n],frame:Math.round(2*Math.random())},type:n,lives:i})}},{key:"spawnRandomEnemyBullet",value:function(e,t,n,i,s){if(s._type===Z){var a=this.spawnEnemyBullet(e,t,s);a.rotation=n;var o=s.body.velocity,r=(new gs.a.Math.Vector2).setToPolar(n,i);a.setVelocity(o.x+r.x,o.y+r.y)}else if(s._type===Q)for(var d=0;d<10;d++){var l=d*Math.PI/5,c=this.spawnEnemyBullet(e,t,s),p=this._enemyBulletVelocity;c.setVelocity(p.x*Math.cos(l),p.y*Math.sin(l))}else if(s._type===ee||s._type===te){var h=this.spawnEnemyBullet(e,t,s),u={x:this._myShip.x-s.x,y:this._myShip.y-s.y},m=Math.sqrt(u.x*u.x+u.y*u.y),y={x:u.x/m,y:u.y/m},g={x:y.x*this._bossSpeed,y:y.y*this._bossSpeed};h.setVelocity(g.x,g.y)}else if(s._type===ne||s._type===ie)for(var _={x:this._myShip.x-s.x,y:this._myShip.y-s.y},x=Math.sqrt(_.x*_.x+_.y*_.y),b={x:_.x/x,y:_.y/x},v={x:b.x*this._bossSpeed,y:b.y*this._bossSpeed},f=Math.sqrt(v.x*v.x+v.y*v.y),w={x:v.x/f,y:v.y/f},O=-1;O<=1;O+=2){this.spawnEnemyBullet(e-15*w.y*O,t+15*w.x*O,s).setVelocity(v.x,v.y)}}},{key:"spawnEnemyBullet",value:function(e,t,n){var i=n._type.startsWith("NORMAL")?w.graphicAssets.enemyBullet.name:w.graphicAssets.rocketBullet.name;return new Za({sargs:{scene:this,group:this._enemies,x:e,y:t,texture:i,frame:0},owner:n})}},{key:"spawnRandomAirdrop",value:function(e,t,n){var i=this,s=O(0,9),a="";a=s<=1?z:s<=2?V:s<=3?G:s<=4?Y:s<=5?H:s<=6?W:s<=7?X:s<=8?K:J;var o=this.getOuterRimCoords().dir,r=this.spawnAirdrop(e.x,e.y,t,a);this._network.createAirdropToServer(e.x,e.y,t,a),r.launchAirdrop(10+O(-5,10),o+Math.PI,S);var d=this.time.delayedCall(1e3*w.airdropPros.alertTime,(function(){i.time.addEvent({delay:1e3,callback:function(){r.setVisible(!r.visible)},callbackScope:i,repeat:-1})}));this.time.delayedCall(1e3*w.airdropPros.lifetime,(function(){d.remove(),r.destroy()}))}},{key:"spawnAirdrop",value:function(e,t,n,i){return new Xa({sargs:{scene:this,group:this._airdrops,x:e,y:t,texture:F[i],frame:Math.round(2*Math.random())},owner:n,kind:i})}},{key:"getOuterRimCoords",value:function(){var e=0,t=0,n=0,i=Math.random()*(2*this._width+2*this._height);return i<this._width?(e=i,t=0,n=-O(.1,.9)*Math.PI):i<this._width+this._height?(e=this._width,t=i-this._width,n=O(-.4,.4)*Math.PI):i<2*this._width+this._height?(e=i-this._width-this._height,t=this._height,n=O(.1,.9)*Math.PI):(e=0,t=i-2*this._width-this._height,n=O(.6,1.4)*Math.PI),{x:e,y:t,dir:n}}},{key:"gameOver",value:function(){this.sound.stopAll(),this.scene.stop("multiplay"),this.scene.stop("text");var e=this._myShip._hits/this._myShip._wasted;(isNaN(e)||e===1/0)&&(e=0),this.scene.launch("gameOver",{score:this._myShip.Score,paid:this._myShip._paid,accuracy:e})}},{key:"nextAsteroids",value:function(){this._startingAsteroids=Math.min(this._startingAsteroids+this._incrementAsteroids,this._maxAsteroids);for(var e=0;e<this._startingAsteroids;e++){var t=1===this._level||O(0,1)>=.5?k:A,n=T;this.spawnRandomAsteroid(t,n)}}},{key:"nextEnemies",value:function(e,t,n){if(t!==$)for(var i=0;i<e;i++)this.spawnRandomEnemies(t,n);else{this.spawnRandomEnemies(Z,n),this.spawnRandomEnemies(Q,n);for(var s=0;s<e-2;s++){var a=O(1,3)>=2?Q:Z;this.spawnRandomEnemies(a,n)}}}},{key:"nextLevel",value:function(){var e=this;if(this._passedIntro=!1,this.time.removeEvent(this._levelTimer),this._readyNewLevel=!1,this._levelTimer=this.time.addEvent({delay:2e3,callback:function(){e._readyNewLevel=!1}}),this._level++,this.registry.set("level",this._level),7===this._level||this._level>=8&&this._level%4===0||this.nextAsteroids(),this._level>=3&&!(this._level>=8&&this._level%4===0)){this._startingEnemies+=this._increaseEnemies;var t=this._level>=5?$:Z;this.nextEnemies(this._startingEnemies,t,this._enemyLives)}if(this._level>=8&&this._level%4===0){12!==this._level&&(this._startingBoss+=this._increaseBoss);var n=O(0,1)>.5?ee:te;this.nextEnemies(this._startingBoss,n,this._bossLives)}if(this._level>=12&&this._level%4===0){var i=O(0,1)>.5?ne:ie;this._bossLives+=5,this.nextEnemies(this._startingBoss,i,this._bossLives)}}},{key:"introNewEnemy",value:function(e){this.nextEnemies(1,e,this._bossLives)}},{key:"newMission",value:function(){var e=this;2!==this._level||this._passedIntro?4!==this._level||this._passedIntro?(this.registry.set("endLevel",this._level),this.registry.set("newEnemy",-1),this._levelTimer=this.time.addEvent({delay:w.gamePros.endLevelDelay,callback:function(){e._readyNewLevel=!0,e.registry.set("endLevel",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(Q),this._levelTimer=this.time.addEvent({delay:w.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}})):(this._passedIntro=!0,this.registry.set("newEnemy",1),this.introNewEnemy(Z),this._levelTimer=this.time.addEvent({delay:w.gamePros.introNewEnemyDelay,callback:function(){e.registry.set("newEnemy",-1)}}))}},{key:"update",value:function(e,t){this.physics.world.wrap(this._ships),this._myShip&&this._network&&this._myShip.updateToServer(this._network),this.input.keyboard.addKey(this._specialKey).isDown&&this._myShip._hasAtomic&&(this._network.specialKeyIsDown(!0),this._myShip._hasAtomic=!1,wt.dispatch(Qe(!1)))}}]),n}(gs.a.Scene),io=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){var e;return Object(Sa.a)(this,n),(e=t.call(this,"text"))._scoreLabel=void 0,e._scoreText=void 0,e._levelLabel=void 0,e._levelText=void 0,e._shotLabel=void 0,e._shotText=void 0,e._accLabel=void 0,e._accText=void 0,e._endLevel=void 0,e._newEnemy=void 0,e._lives=void 0,e._startingLives=void 0,e._bonusLives=void 0,e._width=void 0,e._height=void 0,e._level=void 0,e}return Object(ja.a)(n,[{key:"_updateSceneOrientation",value:function(e){var t=this,n=Qa();w.gamePros.screenWidth=n?window.innerWidth/(window.innerHeight/1920):1920,w.gamePros.screenHeight=n?1920:1080,this._width=w.gamePros.screenWidth,this._height=w.gamePros.screenHeight,this.scale.setGameSize(this._width,this._height),this._endLevel.destroy(!0),this._newEnemy.destroy(!0),this._scoreLabel.destroy(!0),this._scoreText.destroy(!0),this._levelLabel.destroy(!0),this._levelText.destroy(!0),this._shotLabel.destroy(!0),this._shotText.destroy(!0),this._accLabel.destroy(!0),this._accText.destroy(!0);var i=0,s=0,a=(this._width,this._width),o=this._height;window.innerWidth<1024&&Qa()?(this.cameras.main.setAngle(90),i=-1*(this._height/2-this._width/2),s=this._height/2-this._width/2,this._width/2+this._height/2,this._height/2-this._width/2,a=this._width/2+this._height/2,o=this._width/2+this._height/2):this.cameras.main.setAngle(0),this._scoreLabel=this.add.text(i+16,s+16,"Score:",w.fontAssets.scoreLabel),this._scoreText=this.add.text(i+132,s+16,"0",w.fontAssets.scoreText),this._levelLabel=this.add.text(i+16,s+48,"Level:",w.fontAssets.levelLabel),this._levelText=this.add.text(i+132,s+48,this._level,w.fontAssets.levelText),this._shotLabel=this.add.text(a-155,o-45,"Shots:",w.fontAssets.scoreLabel),this._shotText=this.add.text(a-16,o-16,this.registry.values.shots,w.fontAssets.scoreText),this._shotText.setOrigin(1,1),this._accLabel=this.add.text(a-155,o-66,"Acc:",w.fontAssets.levelLabel),this._accText=this.add.text(a-32,o-48,"".concat(this.registry.values.accuracy||0," %"),w.fontAssets.levelText),this._accText.setOrigin(1,1),this._lives.forEach((function(e){e.destroy(!0)})),this.setLives(),this.events.on("shutdown",(function(){return t.registry.events.removeListener("changedata",t.updateData,t)}),this),this.registry.events.on("changedata",this.updateData,this)}},{key:"init",value:function(){var e=this,t=Qa();try{this.scale.on("orientationchange",(function(t){e._updateSceneOrientation(t)}))}catch(n){console.log("This deveice does not support orientation.")}w.gamePros.screenWidth=t?window.innerWidth/(window.innerHeight/1920):1920,w.gamePros.screenHeight=t?1920:1080,this._width=w.gamePros.screenWidth,this._height=w.gamePros.screenHeight,this.scale.setGameSize(this._width,this._height),this._startingLives=w.shipPros.startingLives+this.registry.values.bonusLives,this._bonusLives=0,Array.isArray(this._lives)&&this._lives.forEach((function(e){e.destroy(!0)})),this._lives=[],window.innerWidth<1024&&Qa()&&this.cameras.main.setAngle(90)}},{key:"create",value:function(e){var t=this;this._endLevel=this.add.text(this._width/2,this._height/2-50,"",w.fontAssets.endLevel),this._endLevel.setOrigin(.5),this._newEnemy=this.add.text(this._width/2,this._height/2-50,"",w.fontAssets.endLevel),this._newEnemy.setOrigin(.5);var n=0,i=0,s=(this._width,this._width),a=this._height;window.innerWidth<1024&&Qa()&&(n=-1*(this._height/2-this._width/2),i=this._height/2-this._width/2,this._width/2+this._height/2,this._height/2-this._width/2,s=this._width/2+this._height/2,a=this._width/2+this._height/2),this._scoreLabel=this.add.text(n+16,i+16,"Score:",w.fontAssets.scoreLabel),this._scoreText=this.add.text(n+132,i+16,"0",w.fontAssets.scoreText),this._levelLabel=this.add.text(n+16,i+48,"Level:",w.fontAssets.levelLabel),this._levelText=this.add.text(n+132,i+48,e.level,w.fontAssets.levelText),this._level=e.level,this._shotLabel=this.add.text(s-155,a-45,"Shots:",w.fontAssets.scoreLabel),this._shotText=this.add.text(s-16,a-16,this.registry.values.shots,w.fontAssets.scoreText),this._shotText.setOrigin(1,1),this._accLabel=this.add.text(s-155,a-66,"Acc:",w.fontAssets.levelLabel),this._accText=this.add.text(s-32,a-48,"".concat(this.registry.values.accuracy||0," %"),w.fontAssets.levelText),this._accText.setOrigin(1,1),this.setLives(),this.events.on("shutdown",(function(){return t.registry.events.removeListener("changedata",t.updateData,t)}),this),this.registry.events.on("changedata",this.updateData,this)}},{key:"updateData",value:function(e,t,n){"score"===t?this._scoreText.setText(n):"level"===t?(this._levelText.setText(n),this.setLives()):"playerLives"===t?this.setLives():"shots"===t?n>90?this._shotText.setText("\u221e"):this._shotText.setText(n):"accuracy"===t?this._accText.setText("".concat(n," %")):"endLevel"===t?-1===n?this._endLevel.setText(""):0===n?this._endLevel.setText("Enjoy The Game!"):this._endLevel.setText("Level ".concat(n," completed")):"newEnemy"===t&&(-1===n?this._newEnemy.setText(""):this._newEnemy.setText("A new kind of enemy appears"))}},{key:"setLives",value:function(){var e=this._width,t=0;window.innerWidth<1024&&Qa()&&(e=this._width/2+this._height/2,t=this._height/2-this._width/2),Array.isArray(this._lives)&&this._lives.forEach((function(e){e.destroy(!0)})),this._lives=[];this._width;for(var n=0;n<this._startingLives;n++){var i=void 0;i=n<this._startingLives-this.registry.values.playerLives?this.add.image(e-32-40*n,t+35,w.graphicAssets.lifeEmpty.name):this.add.image(e-32-40*n,t+35,w.graphicAssets.lifeFull.name),this._lives.push(i)}}}]),n}(gs.a.Scene),so=function(e){Object(ka.a)(n,e);var t=Object(Aa.a)(n);function n(){var e;return Object(Sa.a)(this,n),(e=t.call(this,"gameOver"))._contentText=void 0,e._mainMenuButton=void 0,e._playAgainButton=void 0,e._tokenRewarded=void 0,e._canPlay=void 0,e._shipDamaged=void 0,e._tokenRewarded=!1,e._canPlay=!1,e._shipDamaged=!1,e}return Object(ja.a)(n,[{key:"create",value:function(e){var t=this;window.innerWidth<1024&&Qa()&&this.cameras.main.setAngle(90),wt.dispatch(me(!0)),wt.dispatch(Se(!0)),wt.dispatch(Je(0)),wt.dispatch(Qe(!1)),wt.dispatch(Ze(0)),w.fontAssets.gameoverFontStyle.fontSize="50px",this.add.text(this.cameras.main.centerX,this.cameras.main.centerY-100,"GAME OVER",w.fontAssets.gameoverFontStyle).setOrigin(.5),w.fontAssets.gameoverFontStyle.fontSize="24px",this._contentText=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY,"",w.fontAssets.gameoverFontStyle),this._contentText.setOrigin(.5),0!==e.score?null!==e&&void 0!==e&&e.paid?this._contentText.setText("You have reached a score of ".concat(e.score,". \n Sending ").concat(Math.round(e.score*e.accuracy)," $CROSMO to rewards balance...")):this._contentText.setText("You have reached a score of ".concat(e.score,".")):this._contentText.setText("You did not get any score"),this._mainMenuButton=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+70,"",w.fontAssets.gameoverFontStyle),this._mainMenuButton.setOrigin(.5),this._mainMenuButton.setInteractive(),this._mainMenuButton.on("pointerdown",(function(){t._mainMenuButton.setColor("#4c1a03")})),this._mainMenuButton.on("pointerup",(function(){t._mainMenuButton.setColor("#ff601a"),t.gotoMenu()})),this._playAgainButton=this.add.text(this.cameras.main.centerX,this.cameras.main.centerY+120,"",w.fontAssets.gameoverFontStyle),this._playAgainButton.setOrigin(.5),this._playAgainButton.setInteractive(),this._playAgainButton.on("pointerdown",(function(){t._playAgainButton.setColor("#4c1a03")})),this._playAgainButton.on("pointerup",(function(){t._playAgainButton.setColor("#ff601a"),t.playAgain()})),_s.on(xs.TOKEN_REWARDED,(function(){console.log("can TOKEN_REWARDED listend"),t._tokenRewarded=!0}),this),_s.on(xs.CAN_PLAY,(function(){console.log("can play listend"),t._contentText.setText("Score: ".concat(e.score)),t._mainMenuButton.setText("Main Menu"),t._playAgainButton.setText("Play Again"),t._canPlay=!0}),this),_s.on(xs.SHIP_DAMAGED,(function(){console.log("can SHIP_DAMAGED listend"),t._contentText.setText("Your ship is damaged."),t._mainMenuButton.setText("Main Menu"),t._shipDamaged=!0}),this),_s.on(xs.PLAY_AGAIN,(function(){t.startGame()}))}},{key:"gotoMenu",value:function(){window.location.href="/"}},{key:"playAgain",value:function(){wt.dispatch(ye(!0)),wt.dispatch(Se(!1))}},{key:"startGame",value:function(){console.log("start game"),this._canPlay=!1,wt.dispatch(Se(!1)),this.scene.start("play")}}]),n}(gs.a.Scene),ao=Qa(),oo={type:gs.a.AUTO,parent:"phaser-game",backgroundColor:"black",pixelArt:!1,scale:{mode:gs.a.Scale.FIT,parent:"phaser-game",autoCenter:gs.a.Scale.CENTER_BOTH,width:ao?window.innerWidth/(window.innerHeight/1920):1920,height:ao?1920:1080},fps:{deltaHistory:10,panicMax:120,smoothStep:!0},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},autoFocus:!0,scene:[Ia,$a,no,io,so]},ro=new gs.a.Game(oo);window.game=ro;var lo,co=ro,po=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ho=function(e){return e.Create="create",e.Join="join",e.Quick="quick",e}(ho||{}),uo=function(e){var t,n=e.account,s=e.web3Provider,a=e.chainId,o=e.setBg,r=e.setIsGamePlaying,l=Object(p.o)(),c=m((function(e){return e.room.roomJoined})),h=m((function(e){return e.user.paid})),u=m((function(e){return e.user.gameOver})),_=m((function(e){return e.user.isGameOverScene})),x=m((function(e){return e.user.canPlayAgain})),b=m((function(e){return e.user.joinLobbyRoom})),v=m((function(e){return e.user.tokenId})),f=m((function(e){return e.phaser.hasAtomic})),O=Object(i.useState)(null),E=Object(d.a)(O,2),S=E[0],j=E[1],k=Object(i.useState)(null),A=Object(d.a)(k,2),T=A[0],L=A[1],R=Object(i.useState)(null),P=Object(d.a)(R,2),M=P[0],I=P[1],B=Object(i.useState)(null),C=Object(d.a)(B,2),D=C[0],N=(C[1],Object(i.useState)(!1)),U=Object(d.a)(N,2),F=U[0],z=U[1],V=Object(i.useState)(!1),G=Object(d.a)(V,2),Y=G[0],H=G[1],W=Object(i.useState)(!1),K=Object(d.a)(W,2),X=K[0],J=K[1],q=Object(i.useState)(!1),Z=Object(d.a)(q,2),Q=Z[0],$=Z[1],ee=Object(i.useState)(!1),te=Object(d.a)(ee,2),ne=te[0],ie=te[1],se=Object(i.useState)(!1),ae=Object(d.a)(se,2),oe=ae[0],re=ae[1],de=m((function(e){return e.phaser.isExist})),le=Object(i.useState)(!1),ce=Object(d.a)(le,2),pe=ce[0],he=ce[1],ue=Object(i.useState)(void 0),_e=Object(d.a)(ue,2),xe=_e[0],be=_e[1],ve=Object(i.useState)(!1),fe=Object(d.a)(ve,2),we=fe[0],Oe=fe[1],Ee=Object(i.useState)(void 0),Se=Object(d.a)(Ee,2),je=Se[0],ke=Se[1],Ae=Object(i.useState)({forward:"W",left:"A",right:"D",brake:"S",fire:"SPACE",special:"Q",music:"Y",sounds:"U",exit:"ESC"}),Te=Object(d.a)(Ae,2),Le=Te[0],Re=Te[1],Pe=Object(i.useState)("easy"),Me=Object(d.a)(Pe,2),Ie=Me[0],Be=Me[1],Ce=Object(i.useState)("monthly"),De=Object(d.a)(Ce,2),Ne=De[0],Ue=De[1],Fe=Object(i.useState)(0),ze=Object(d.a)(Fe,2),Ve=ze[0],Ge=ze[1],Ye=Object(i.useState)(""),He=Object(d.a)(Ye,2),We=He[0],Ke=He[1],Xe=Object(i.useState)(!1),Je=Object(d.a)(Xe,2),qe=Je[0],Ze=Je[1],Qe=Object(i.useState)(""),$e=Object(d.a)(Qe,2),et=$e[0],tt=$e[1];Object(i.useEffect)((function(){if(void 0!==n&&a===Tt.mainnet.chainId){var e=new kt.a.Contract("0xC6373d6F369A9FfE7D93B21F2A5b0E16291d996D",Os,s),t=new kt.a.Contract(At,Es,s),i=new kt.a.Contract("0xe6C2F6Ab401F08EB7B073Eac710D7DB2FBc2191C",Ss,s);j(e.connect(s.getSigner())),L(t.connect(s.getSigner())),I(i.connect(s.getSigner()))}}),[n,a]),Object(i.useEffect)((function(){var e=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,i;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),e.prev=1,!h){e.next=10;break}return e.next=5,T.enterGame({from:n,value:"1000000000000000000"});case 5:return t=e.sent,e.next=8,t.wait();case 8:i=e.sent,i.events;case 10:z(!1),_s.emit(xs.PLAY_AGAIN),e.next=22;break;case 14:return e.prev=14,e.t0=e.catch(1),tt("error"),Ke("You need 1 CRO to play game"),Ze(!0),wt.dispatch(ye(!1)),z(!1),e.abrupt("return");case 22:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]),Object(i.useEffect)((function(){var e=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&e()}),[b]),Object(i.useEffect)((function(){console.log("isGameOver",u);var e=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t,n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wt.dispatch(me(!1)),e.next=3,T.getCraftStatus(v);case 3:return t=e.sent,n=t[2],console.log("damagedLevel",n),_s.emit(xs.TOKEN_REWARDED),e.next=9,po(2e3);case 9:n<5?_s.emit(xs.CAN_PLAY):_s.emit(xs.SHIP_DAMAGED);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&e()}),[u]),Object(i.useEffect)((function(){var e=function(){var e=Object(g.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt.score.getScores(Ne,Ve);case 2:t=e.sent,ke(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[Ne,Ve]),Object(i.useEffect)((function(){var e=localStorage.getItem("forward"),t=localStorage.getItem("left"),n=localStorage.getItem("right"),i=localStorage.getItem("brake"),s=localStorage.getItem("fire"),a=localStorage.getItem("special"),o=localStorage.getItem("music"),r=localStorage.getItem("sounds"),d=localStorage.getItem("exit");null!==e&&"null"!==e&&void 0!==e&&"undefined"!==e&&Re({forward:e,left:t,right:n,brake:i,fire:s,special:a,music:o,sounds:r,exit:d});var l=localStorage.getItem("difficulty");null!==l&&"null"!==l&&void 0!==l&&"undefined"!==l&&Be(l)}),[]),Object(i.useEffect)((function(){localStorage.setItem("forward",null===Le||void 0===Le?void 0:Le.forward),localStorage.setItem("left",null===Le||void 0===Le?void 0:Le.left),localStorage.setItem("right",null===Le||void 0===Le?void 0:Le.right),localStorage.setItem("brake",null===Le||void 0===Le?void 0:Le.brake),localStorage.setItem("fire",null===Le||void 0===Le?void 0:Le.fire),localStorage.setItem("special",null===Le||void 0===Le?void 0:Le.special),localStorage.setItem("music",null===Le||void 0===Le?void 0:Le.music),localStorage.setItem("sounds",null===Le||void 0===Le?void 0:Le.sounds),localStorage.setItem("exit",null===Le||void 0===Le?void 0:Le.exit)}),[Le]),Object(i.useEffect)((function(){localStorage.setItem("difficulty",Ie||void 0)}),[Ie]),_s.on(xs.GOTO_MAINMENU,(function(){r(!1),o("bg_shooter"),l("/")}));var nt=function(){n?(J(!0),o("bg_shooter"),wt.dispatch(ge(!0))):(tt("error"),Ke("Please connect your wallet first."),Ze(!0))};return t=Y||pe||X?!pe||Y||xe&&xe!=ho.Join||X?!pe||Y||xe!=ho.Create||X?c?Object(Nt.jsxs)(Nt.Fragment,{children:[!_&&Object(Nt.jsx)(Fi,{specialKey:Le.special}),!_&&Object(Nt.jsx)(ga,{isMultiplayer:X,PhaserGame:co}),!_&&Object(Nt.jsx)(fa,{isMultiplayer:X,PhaserGame:co}),!_&&f&&Object(Nt.jsx)(Ea,{isMultiplayer:X,PhaserGame:co})]}):Object(Nt.jsx)(ks,{children:Object(Nt.jsx)(Ci,{craftInstance:S,shooterInstance:T,tokenInstance:M,pilotInstance:D,account:n,setBg:o,setIsGamePlaying:r,keyboard:Le,isPlayEndless:Y,isMultiplayer:X,viewMultiMode:xe,difficulty:Ie,setCalculating:z,PhaserGame:co})}):Object(Nt.jsx)(ks,{children:Object(Nt.jsx)(ca,{setIsViewMulti:he,playMultiplayer:nt,PhaserGame:co})}):Object(Nt.jsxs)(As,{children:[Object(Nt.jsx)(Ts,{children:Object(Nt.jsx)("img",{src:"assets/images/title.png",alt:"title"})}),Object(Nt.jsxs)(Ls,{children:[Object(Nt.jsx)("img",{className:"playmulti",src:"assets/images/join.png",alt:"play endless",onClick:function(){return be(ho.Join),void Oe(!0)}}),Object(Nt.jsx)("img",{className:"playmulti",src:"assets/images/create.png",alt:"play endless",onClick:function(){be(ho.Create)}})]}),Object(Nt.jsx)(Rs,{children:Object(Nt.jsx)("img",{src:"assets/images/btn_setting.png",alt:"setting",onClick:function(){return $(!0)}})}),Object(Nt.jsx)(cn,{noticeMsg:We,showNotice:qe,setShowNotice:Ze,severity:et})]}):Object(Nt.jsxs)(As,{children:[Object(Nt.jsx)(Ts,{children:Object(Nt.jsx)("img",{src:"assets/images/title.png",alt:"title"})}),Object(Nt.jsxs)(Ls,{children:[Object(Nt.jsx)("img",{className:"play",src:"assets/images/btn_playendless.png",alt:"play endless",onClick:function(){w.USE_WALLET?n?(H(!0),o("bg_shooter")):(tt("error"),Ke("Please connect your wallet first."),Ze(!0)):(H(!0),o("bg_shooter"))}}),Object(Nt.jsx)("img",{className:"play",src:"assets/images/btn_crosmostation.png",alt:"enter crosmostation"}),Object(Nt.jsx)("img",{className:"setting",src:"assets/images/btn_difficulty.png",alt:"difficulty",onClick:function(){return re(!0)}}),Object(Nt.jsx)("img",{className:"setting",src:"assets/images/btn_highscores.png",alt:"high scores",onClick:function(){return ie(!0)}})]}),Object(Nt.jsx)(Rs,{children:Object(Nt.jsx)("img",{src:"assets/images/btn_setting.png",alt:"setting",onClick:function(){return $(!0)}})}),Object(Nt.jsx)(cn,{noticeMsg:We,showNotice:qe,setShowNotice:Ze,severity:et})]}),Object(Nt.jsxs)(js,{isPlayEndless:Y,isMultiplayer:X,children:[t,de&&Object(Nt.jsx)(ws,{}),Q&&Object(Nt.jsx)(ds,{setIsSetting:$,keyboard:Le,setKeboard:Re}),ne&&Object(Nt.jsx)(es,{scores:je,setIsLeaderboard:ie,league:Ve,setLeague:Ge,period:Ne,setPeriod:Ue}),pe&&we&&Object(Nt.jsx)(Hs,{setShowMultiJoin:Oe,setIsViewMulti:he,playMultiplayer:nt,PhaserGame:co}),oe&&Object(Nt.jsx)(ms,{setIsDifficulty:re,difficulty:Ie,setDifficulty:Be}),F&&Object(Nt.jsx)(Ot.a,{sx:{position:"fixed",width:"100%",background:"rgba(0, 0, 0, .5)",top:0,left:0,bottom:0,right:0,pointerEvents:"stroke",zIndex:999},children:Object(Nt.jsx)(Ot.a,{sx:{position:"absolute",display:"flex",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"white"},children:Object(Nt.jsx)(Ht.a,{sx:{color:"inherit"}})})})]})},mo=Object(h.a)(u.a)(lo||(lo=Object(l.a)(["\n  width: 360px;\n"]))),yo=function(){var e=m((function(e){return e.room.lobbyJoined})),t=Object(i.useState)({}),n=Object(d.a)(t,2),s=n[0],a=s.walletProviderName,o=s.address,r=s.browserWeb3Provider,l=(s.serverWeb3Provider,s.connected,s.wcProvider),h=s.wcConnector,u=s.chainId,y=n[1],g=Object(i.useState)("bg_main"),_=Object(d.a)(g,2),x=_[0],b=_[1],v=Object(i.useState)(!1),f=Object(d.a)(v,2),w=f[0],O=f[1];return Object(Nt.jsx)(Nt.Fragment,{children:Object(Nt.jsxs)(En,{bg:x,children:[Object(Nt.jsxs)(c.a,{children:[!w&&Object(Nt.jsx)(Yt,{account:o,setWallet:y,setBg:b,walletProviderName:a,wcConnector:h,wcProvider:l}),Object(Nt.jsxs)(p.d,{children:[Object(Nt.jsx)(p.b,{path:"/",element:Object(Nt.jsx)(p.a,{to:"/shooter",replace:!0})}),Object(Nt.jsx)(p.b,{path:"shooter",element:Object(Nt.jsx)(uo,{account:o,web3Provider:r,chainId:u,setBg:b,setIsGamePlaying:O})})]})]}),!e&&Object(Nt.jsxs)(Sn,{children:[Object(Nt.jsx)(jn,{children:" Connecting to server..."}),Object(Nt.jsx)(mo,{color:"inherit",sx:{mt:1}})]})]})})},go=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1083)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),a(e),o(e)}))};o.a.render(Object(Nt.jsx)(s.a.StrictMode,{children:Object(Nt.jsx)(r.a,{store:wt,children:Object(Nt.jsx)(yo,{})})}),document.getElementById("root")),go()}},[[998,1,2]]]);